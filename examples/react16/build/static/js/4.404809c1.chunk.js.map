{"version":3,"sources":["../node_modules/xgplayer/es/index.js","../node_modules/rc-pagination/es/locale/en_US.js","../node_modules/rc-picker/es/locale/en_US.js","../node_modules/antd/es/time-picker/locale/en_US.js","../node_modules/antd/es/date-picker/locale/en_US.js","../node_modules/antd/es/locale/en_US.js","../node_modules/antd/es/locale/context.js","../node_modules/antd/es/form/validateMessagesContext.js","../node_modules/antd/es/modal/locale.js","../node_modules/antd/es/locale/index.js","../node_modules/xgplayer-hls/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/xgplayer-streaming-shared/es/event.js","../node_modules/xgplayer-streaming-shared/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/xgplayer-streaming-shared/es/logger.js","../node_modules/xgplayer-streaming-shared/es/buffer.js","../node_modules/xgplayer-streaming-shared/es/error.js","../node_modules/xgplayer-streaming-shared/es/streaming-helper.js","../node_modules/xgplayer-streaming-shared/es/services/sei.js","../node_modules/xgplayer-streaming-shared/es/services/gap.js","../node_modules/xgplayer-streaming-shared/es/services/stats.js","../node_modules/xgplayer-streaming-shared/es/utils.js","../node_modules/xgplayer-streaming-shared/es/env.js","../node_modules/xgplayer-streaming-shared/es/mse.js","../node_modules/xgplayer-transmuxer/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/xgplayer-transmuxer/es/utils/logger.js","../node_modules/xgplayer-transmuxer/es/model/types.js","../node_modules/xgplayer-transmuxer/es/model/audio-sample.js","../node_modules/xgplayer-transmuxer/es/utils/env.js","../node_modules/xgplayer-transmuxer/es/codec/aac.js","../node_modules/xgplayer-transmuxer/es/mpeg-ts/fixer.js","../node_modules/xgplayer-transmuxer/es/utils/index.js","../node_modules/xgplayer-transmuxer/es/codec/nalu.js","../node_modules/xgplayer-transmuxer/es/utils/exp-golomb.js","../node_modules/xgplayer-transmuxer/es/codec/avc.js","../node_modules/xgplayer-transmuxer/es/codec/hevc.js","../node_modules/xgplayer-transmuxer/es/model/video-track.js","../node_modules/xgplayer-transmuxer/es/model/audio-track.js","../node_modules/xgplayer-transmuxer/es/model/video-sample.js","../node_modules/xgplayer-transmuxer/es/model/metadata-track.js","../node_modules/xgplayer-transmuxer/es/mpeg-ts/index.js","../node_modules/xgplayer-transmuxer/es/mp4/mp4-parser.js","../node_modules/xgplayer-hls/es/hls/buffer-service/decrypt/index.js","../node_modules/xgplayer-transmuxer/es/mp4/fmp4-demuxer.js","../node_modules/xgplayer-transmuxer/es/mp4/buffer.js","../node_modules/xgplayer-transmuxer/es/mp4/mp4.js","../node_modules/xgplayer-transmuxer/es/mp4/logger.js","../node_modules/xgplayer-transmuxer/es/mp4/fmp4-remuxer.js","../node_modules/xgplayer-hls/es/hls/constants.js","../node_modules/xgplayer-hls/es/hls/buffer-service/transmuxer/index.js","../node_modules/xgplayer-hls/es/hls/buffer-service/index.js","../node_modules/xgplayer-streaming-shared/es/net/types.js","../node_modules/xgplayer-streaming-shared/es/net/error.js","../node_modules/xgplayer-streaming-shared/es/is.js","../node_modules/xgplayer-streaming-shared/es/net/helper.js","../node_modules/xgplayer-streaming-shared/es/net/fetch.js","../node_modules/xgplayer-streaming-shared/es/net/xhr.js","../node_modules/xgplayer-streaming-shared/es/net/task.js","../node_modules/xgplayer-streaming-shared/es/net/index.js","../node_modules/xgplayer-streaming-shared/es/net/config.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/parser/model.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/parser/utils.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/parser/master.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/parser/media.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/parser/index.js","../node_modules/xgplayer-hls/es/hls/manifest-loader/index.js","../node_modules/xgplayer-hls/es/hls/utils.js","../node_modules/xgplayer-hls/es/hls/playlist/stream.js","../node_modules/xgplayer-hls/es/hls/playlist/index.js","../node_modules/xgplayer-streaming-shared/es/services/bandwidth.js","../node_modules/xgplayer-hls/es/hls/segment-loader/index.js","../node_modules/xgplayer-hls/es/hls/index.js","../node_modules/xgplayer-hls/es/hls/config.js","../node_modules/xgplayer-hls/es/plugin-extension.js","../node_modules/xgplayer-hls/es/plugin.js","../node_modules/@ant-design/icons-svg/es/asn/DownOutlined.js","../node_modules/@ant-design/icons/es/icons/DownOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UpOutlined.js","../node_modules/@ant-design/icons/es/icons/UpOutlined.js","../node_modules/@rc-component/mini-decimal/es/supportUtil.js","../node_modules/@rc-component/mini-decimal/es/numberUtil.js","../node_modules/@rc-component/mini-decimal/es/BigIntDecimal.js","../node_modules/@rc-component/mini-decimal/es/NumberDecimal.js","../node_modules/@rc-component/mini-decimal/es/MiniDecimal.js","../node_modules/@rc-component/mini-decimal/es/index.js","../node_modules/rc-util/es/hooks/useMobile.js","../node_modules/rc-input-number/es/StepHandler.js","../node_modules/rc-input-number/es/utils/numberUtil.js","../node_modules/rc-input-number/es/InputNumber.js","../node_modules/rc-input-number/es/hooks/useCursor.js","../node_modules/rc-input-number/es/hooks/useFrame.js","../node_modules/rc-input-number/es/index.js","../node_modules/antd/es/input-number/style/index.js","../node_modules/antd/es/input-number/index.js","../node_modules/antd/es/config-provider/cssVariables.js","../node_modules/antd/es/config-provider/hooks/useConfig.js","../node_modules/antd/es/config-provider/MotionWrapper.js","../node_modules/antd/es/config-provider/index.js","../node_modules/antd/es/config-provider/hooks/useTheme.js"],"names":["locale","today","now","backToToday","ok","clear","month","year","timeSelect","dateSelect","weekSelect","monthSelect","yearSelect","decadeSelect","yearFormat","dateFormat","dayFormat","dateTimeFormat","monthBeforeYear","previousMonth","nextMonth","previousYear","nextYear","previousDecade","nextDecade","previousCentury","nextCentury","placeholder","rangePlaceholder","lang","Object","assign","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","rangeYearPlaceholder","rangeQuarterPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","CalendarLocale","timePickerLocale","TimePickerLocale","typeTemplate","localeValues","Pagination","items_per_page","jump_to","jump_to_confirm","page","prev_page","next_page","prev_5","next_5","prev_3","next_3","page_size","DatePicker","TimePicker","Calendar","global","Table","filterTitle","filterConfirm","filterReset","filterEmptyText","filterCheckall","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","Tour","Next","Previous","Finish","Modal","okText","cancelText","justOkText","Popconfirm","Transfer","titles","searchPlaceholder","itemUnit","itemsUnit","remove","selectCurrent","removeCurrent","removeAll","Upload","uploading","removeFile","uploadError","previewFile","downloadFile","Empty","description","Icon","icon","Text","edit","copy","copied","PageHeader","back","Form","optional","defaultValidateMessages","default","required","enum","whitespace","date","format","parse","invalid","types","string","method","array","object","number","boolean","integer","float","regexp","email","url","hex","len","min","max","range","pattern","mismatch","Image","preview","QRCode","expired","refresh","ColorPicker","presetEmpty","LocaleContext","createContext","undefined","localeList","defaultLocale","generateLocale","reduce","merged","ANT_MARK","LocaleProvider","props","_props$locale","children","_ANT_MARK__","React","newLocale","cloneLocale","push","filter","changeConfirmLocale","getMemoizedContextValue","exist","Provider","value","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","value2","unwrapped","error","state","Error","done","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next2","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","reverse","key2","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","_typeof","obj2","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","bind","o2","p","p2","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","Super","NewTarget","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","_s","_e","_x","_r","_arr","_n","_d","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","_nonIterableSpread","minLen","n","toString","test","arr2","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","EVENT","ERROR","TTFB","LOAD_START","LOAD_RESPONSE_HEADERS","LOAD_COMPLETE","LOAD_RETRY","SOURCEBUFFER_CREATED","ANALYZE_DURATION_EXCEEDED","REMOVE_BUFFER","BUFFEREOS","KEYFRAME","METADATA_PARSED","SEI","SEI_IN_TIME","FLV_SCRIPT_DATA","LOWDECODE","SWITCH_URL_SUCCESS","SWITCH_URL_FAILED","SPEED","HLS_MANIFEST_LOADED","HLS_LEVEL_LOADED","DEMUXED_TRACK","STREAM_EXCEPTION","LARGE_AV_FIRST_FRAME_GAP_DETECT","LARGE_VIDEO_DTS_GAP_DETECT","LARGE_AUDIO_DTS_GAP_DETECT","AUDIO_GAP_DETECT","AUDIO_OVERLAP_DETECT","MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT","REAL_TIME_SPEED","_construct","Parent","Class","Parent2","args2","Class2","a","Function","_wrapNativeSuper","_cache","Map","indexOf","has","get","set","Wrapper","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_superPropBase","property","_get","receiver","base","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","LogCacheLevel","SIMPLE_TYPE","Logger","Logger2","config","_prefix","concat","logCacheLevel","logMaxSize","logSize","logTextArray","_console","_len","_key","logCache","DEBUG","disabled","console","debug","nowTime","_console2","_len2","_key2","LOG","log","_console3","_len3","_key3","WARN","warn","_console4","_len4","_key4","text","_len5","logText","_key5","finLogText","map","item","logable","JSON","stringify","delLog","shift","join","_console5","group","table","groupEnd","Date","toLocaleString","reduceDepth","objType","maxDepth","depth","includes","_ERR_CODE","Buffer","Buffer2","buf","end","start","b","buffered","maxHole","buffers2","l","bufLen","last","lastEnd","buffers","c","pos","index","nextStart","nextEnd","prevStart","prevEnd","currentTime","behind","remaining","totalLength","ERR","FLV","HLS","MP4","FMP4","MSE_ADD_SB","MSE_APPEND_BUFFER","MSE_OTHER","MSE_FULL","OPTION","DASH","LICENSE","CUSTOM_LICENSE","MSE_HIJACK","EME_HIJACK","SIDX","NO_CANPLAY_ERROR","BUFFERBREAK_ERROR","WAITING_TIMEOUT_ERROR","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_CODEC_NOT_SUPPORTED","MEDIA_ERR_URL_EMPTY","ERR_CODE","StreamingError","_Error","StreamingError2","_super","subType","origin","payload","msg","_this","message","errorType","originError","ext","errorCode","errorMessage","_error$response","isTimeout","response","httpCode","status","concatUint8Array","data","Uint8Array","byteLength","prevLen","d","sleep","t","setTimeout","SeiService","SeiService2","emitter","Set","on","sei","_seiSet","add","isLive","_this2","size","toThrow","time","delete","emit","GapService","GapService2","media","maxJumpDistance","seekThreshold","jumpTo","_prevCurrentTime","seeking","Stats","Stats2","timescale","_timescale","encodeType","audioCodec","videoCodec","domain","fps","bitrate","width","height","samplerate","channelCount","gop","encode","_ref","_data$onMetaData","onMetaData","framerate","track","codec","codecType","fpsNum","fpsDen","sampleRate","responseUrl","split","samples","duration","Math","round","sample","_startGopId","gopId","_bitsAccumulateDuration","_bitsAccumulateSize","units","MediaStatsService","MediaStatsService2","core","_core","_stats","_bindEvents","_this$_core","_this$_core2","_this$_core2$speedInf","_this$_core3","_this$_core3$speedInf","_this$_core4","_this$_core4$bufferIn","_ref2","_ref2$currentTime","_ref2$decodeFps","decodeFps","getStats","downloadSpeed","speedInfo","speed","avgSpeed","bufferEnd","bufferInfo","_ref3","videoTrack","updateBitrate","setFpsFromScriptData","setVideoMeta","setAudioMeta","setDomain","_samples","createPublicPromise","rej","promise","used","parseInt","performance","getTime","isBrowser","window","MediaSource","getMediaSource","OP_NAME","MSE","MSE2","queue","_queue","op","opName","costtime","_opst","_logger","_startQueue","event","_config","getDefaultConfig","bindMedia","openLog","enable","_this$mediaSource","mediaSource","readyState","_url","_this$mediaSource2","_mseFullFlag","VIDEO","_this3","isReduceDuration","_sourceBuffer","k","_enqueueBlockingOp","isEnded","_this4","_openPromise","isOpened","ms","addEventListener","onOpen2","_st","removeEventListener","_bindMedia","_callee","onOpen","_this5","_context","unbindMedia","URL","revokeObjectURL","src","createObjectURL","_unbindMedia","_callee2","hasMetadata","mseOpen","_this6","_context2","x","_x$promise","_x$promise$resolve","endOfStream","removeSourceBuffer","removeAttribute","load","mimeType","sb","addSourceBuffer","_onSBUpdateEnd","_onSBUpdateError","_this7","changeType","_enqueueOp","createSource","buffer","_this8","_this8$_sourceBuffer$","appendBuffer","startTime","endTime","_this9","isInsertHead","_this10","_this11","allClear","_this$_queue$type","initOpque","isinit","reason","_this12","setLiveSeekableRange","exec","_this13","splice","_enqueueBlockingOp2","_callee3","waiters","_this14","_context3","prom","all","updating","_x2","_x3","_x4","timestampOffset","_this15","_this16","abort","mime","isTypeSupported","TrackType","VideoCodecType","AudioCodecType","WarningType","AudioSample","AudioSample2","pts","sampleOffset","dependsOn","isNonSyncSample","originPts","dts","ua","navigator","userAgent","toLocaleLowerCase","isSafari","isFirefox","isAndroid","AAC","AAC2","rate","FREQ","skip","frames","samplingFrequencyIndex","protectionSkipBytes","frameLength","objectType","_AAC$_getConfig","_getConfig","frameIndex","getFrameDuration","subarray","originCodec","_AAC$_getConfig2","samplingIndex","originObjectType","extensionSamplingIndex","TsFixer","TsFixer2","audioTrack","metadataTrack","_baseDts","_baseDtsInited","_audioNextPts","_videoNextDts","_audioTimestampBreak","_videoTimestampBreak","_lastAudioExceptionGapDot","_lastAudioExceptionOverlapDot","_lastAudioExceptionLargeGapDot","discontinuity","contiguous","vSamples","aSamples","firstVideoSample","firstAudioSample","vaDelta","_calculateBaseDts","vDeltaToNextDts","aDeltaToNextDts","abs","_resetBaseDtsWhenStreamBreaked","_fixAudio","_fixVideo","seiSamples","baseMediaDecodeTime","samp0","_samples$","refSampleDurationInt","sampleDuration","firstSample","nextSample","vDelta","warnings","nextDts","firstSampleDts","nextSampleDts","i2","_samples$i","prevDts","first","second","floor","_dts","_nextSample","expectFragEnd","originDts","refSampleDuration","_doFixAudioInternal","audioSamps","videoSamps","audioBasePts","Infinity","videoBaseDts","baseDts","delta","isFinite","_audioLastSample","_videoLastSample","nextPts","silentFrame","getSilentFrame","count","j","silentSample","MAX_SIZE","pow","readBig16","readBig32","readBig64","getAvcCodec","codecs","h","NALu","NALu2","dataLen","offset","unit","isHevc","uuid","uint","emulationPreventionBytesPositions","newLength","newData","sourceIndex","ExpGolomb","ExpGolomb2","_data","_bytesAvailable","_loadWord","position","availableBytes","workingBytes","_word","DataView","getUint32","_bitsAvailable","skipBytes","bits","readBits","leadingZeroCount","skipLZ","skipBits","clz","readUEG","lastScale","nextScale","readEG","AVC","AVC2","spsParsed","spsSize","nalUnitSize","spsArr","ppsArr","spsCount","sps","parseSPS","removeEPB","ppsSize","ppsCount","eg","readUByte","profileIdc","profileCompatibility","levelIdc","skipUEG","chromaFormat","chromaFormatIdc","readBool","scalingListCount","skipScalingList","picOrderCntType","numRefFramesInPicOrderCntCycle","_i2","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","sarRatio","fixedFrame","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","numUnitsInTick","timeScale","ceil","HEVC","HEVC2","hvcC","vpsParsed","nalUnitType","numNalus","nalSize","vpsArr","numOfArrays","vps","parseVPS","vpsMaxSubLayersMinus1","numTemporalLayers","_parseProfileTierLevel","spsMaxSubLayersMinus1","temporalIdNested","separateColourPlaneFlag","confWinLeftOffset","confWinRightOffset","confWinTopOffset","confWinBottomOffset","conformanceWindowFlag","bitDepthLumaMinus8","bitDepthChromaMinus8","subWidthC","subHeightC","maxSubLayersMinus1","generalTierFlag","generalProfileSpace","generalProfileIdc","generalProfileCompatibilityFlags","generalConstraintIndicatorFlags","generalLevelIdc","subLayerProfilePresentFlag","subLayerLevelPresentFlag","VideoTrack","VideoTrack2","sequenceNumber","present","pid","pps","isVideoEncryption","AudioTrack","AudioTrack2","isAudioEncryption","VideoSample","VideoSample2","keyframe","flag","Sample","Sample2","SeiSample","_Sample2","SeiSample2","_super2","MetadataTrack","MetadataTrack2","flvScriptSamples","logger","TsDemuxer","TsDemuxer2","_fixer","_pmtId","_remainingPacketData","_videoPesData","_audioPesData","remainingLength","videoPid","audioPid","payloadUnitStartIndicator","adaptationFiledControl","tableEnd","programInfoLength","esPid","_parseVideoData","_parseAudioData","formatTimescale","fix","demux","pes","_parsePES","parseAnnexB","_createVideoSample","setToKeyframe","_gopId","parseSEI","spsInfo","_pushVideoSample","lastSample","_parseAacData","_track$samples","ret","parseADTS","sampleRateIndex","headerDataLen","pesLen","ptsDtsFlags","MP4Parser","MP4Parser2","names","headerSize","fromCharCode","subData","findBox","box","parseBox","trackId","baseDataOffsetPresent","flags","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","baseDataOffset","sampleDescriptionIndex","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","reference_ID","version","earliest_presentation_time","first_offset","references","ref","tmp32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","mvhd","trak","pssh","nextTrackId","tkhd","mdia","mdhd","hdlr","minf","language","handlerType","vmhd","smhd","stbl","graphicsmode","opcolor","balance","_ret$stsd$entries$","_ret$stsd$entries$$si","_ret$stsd$entries$$si2","stsd","stts","ctts","stsc","stsz","stco","co64","default_IV_size","entries","sinf","schi","tenc","stss","senc","iv","sampleCount","InitializationVector","subsamples","subsampleCount","_j","subsample","BytesOfClearData","BytesOfProtectedData","keyIds","systemId","toHex","numKeyIds","keyId","dataSize","data_size","kid","system_id","entryCount","avc1","hvc1","mp4a","alaw","ret2","data2","start2","samplesize","esds","horizresolution","vertresolution","avcC","pasp","default_IsEncrypted","default_KID","frma","data_format","bodyStart","parseVisualSampleEntry","bodyData","configurationVersion","AVCProfileIndication","AVCLevelIndication","lengthSizeMinusOne","spsLength","ppsLength","_size","tmp","generalProfileCompatibility","avgFrameRate","_ret$vps","nalus","_ret$sps","_ret$pps","hSpacing","vSpacing","parseAudioSampleEntry","byteRead","tag","substring","padStart","_i3","firstChunk","samplesPerChunk","sampleSize","entrySizes","mfhd","traf","tfhd","tfdt","trun","dataOffset","firstSampleFlags","cts","isLeading","isDependedOn","hasRedundancy","paddingValue","degradationPriority","moov","_e$esds","_e$esds2","tracks","vTrack","find","_t$mdia","_t$mdia$hdlr","aTrack","_t$mdia2","_t$mdia2$hdlr","_vTrack$tkhd","_vTrack$mdia","_vTrack$mdia$minf","_vTrack$mdia$minf$stb","_vTrack$mdia2","_vTrack$mdia2$minf","_vTrack$mdia2$minf$st","v","_vTrackId","id","tkhdDuration","mvhdDurtion","mvhdTimecale","_e1$sinf","_e1$sinf$schi","_e1$sinf2","_e1$sinf2$schi","_e1$sinf3","_e1$sinf3$schi","_e1$sinf4","_e1$sinf4$frma","e1","videoSenc","useEME","kidValue","encv","_aTrack$tkhd","_e$esds3","_e$esds4","_aTrack$mdia","_aTrack$mdia$minf","_aTrack$mdia$minf$stb","_aTrack$mdia2","_aTrack$mdia2$minf","_aTrack$mdia2$minf$st","_aTrackId","_e$sinf","_e$sinf$frma","_e$sinf2","_e$sinf2$schi","_e$sinf3","_e$sinf3$schi","_e$sinf4","_e$sinf4$schi","getRateIndexByRate","audioSenc","enca","_videoTrack$encv","_audioTrack$enca","vkid","akid","videoSampleCount","_audioTrack$samples","audioSampleCount","moof","defaultSize","defaultDuration","evaluateDefaultDuration","_t$mdia3","_t$mdia3$hdlr","_t$mdia4","_t$mdia4$hdlr","videoSamples","audioSamples","_vTrack$mdia3","_vTrack$mdia3$minf","videoStbl","getSamples","_aTrack$mdia3","_aTrack$mdia3$minf","_aTrack$mdia$mdhd","audioStbl","_stts","_stsc","_stsz","_stco","keyframeMap","cttsArr","cttsEntries","stscEntries","stcoEntries","stszEntrySizes","stssEntries","chunkIndex","chunkRunIndex","offsetInChunk","lastSampleInChunk","lastChunkInRun","dataReferenceIndex","frameCount","isFullBox","readBig24","str","pad","charstr","maxlen","chars","r","Decryptor","Decryptor2","crypto","msCrypto","subtle","webkitSubtle","externalDecryptor","_this$externalDecrypt","destroy","video","audio","_decryptSegment","_decryptSegment2","seg","_decryptData","keyIv","_decryptData2","aesKey","decrypt","importKey","t0","t1","_x5","_x6","_x7","FMP4Demuxer","FMP4Demuxer2","videoData","audioData","videoExist","audioExist","moovBox","moovToTrack","moofBox","moofToSamples","baseOffset","sampleData","_moovBox","_moofBox","videoBaseMediaDecodeTime","audioBaseMediaDecodeTime","_baseOffset","probe","Concat","ResultConstructor","arrays","UINT32_MAX","MP42","FTYPHEV1","FTYPAVC1","ftyp","content","mvex","mvhd2","tkhd2","mdhd2","HDLR_TYPES","VMHD","SMHD","DINF","extBox","STTS","STSC","STSZ","STCO","avc1hev1","_concat$concat","avcc","btrt","charCodeAt","schm","typ","boxes","fiel","_concat$concat2","hvcC2","ArrayBuffer","pcf","cif","write","_ref4","trex","sencLength","isVideo","videoSencLength","saiz","saio","trun1","_sbgp","sbgp","_saiz","_saio","_senc","_trun2","_trun","_trun3","_sbgp2","_saiz2","_saio2","_senc2","_trun4","sdtp","extension","writeUint32","samplesLength","writeUint16","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","sampleLen","_samples$i$flag","_samples$i$cts","trackMP4","mdiaMP4","minfMP4","stblMP4","_ref5","_ref6","sampleDescIndex","samplesSizes","offsets","keyframeIndexes","_ref7","styp","durationCount","earliestTime","mdatSize","sidx","mdat","dinf","dref","StblTable","FMP4Remuxer","FMP4Remuxer2","options","browserVersions","forceFirstIDR","videoInitSegment","audioInitSegment","initSegment","videoSegment","audioSegment","createInit","hasVideo","hasAudio","initMerge","hasSample","_remuxVideo","_remuxAudio","mdata","mdatView","_loop","_offset","_sample","u","setUint32","Event","STREAM_PARSED","NO_AUDIO_TRACK","SUBTITLE_SEGMENTS","SUBTITLE_PLAYLIST","SEI_PAYLOAD_TIME","APPEND_COST","Transmuxer","Transmuxer2","hls","isMP4","needRemux","_demuxer","_isMP4","_remuxer","videoChunk","audioChunk","needInit","demuxer","demuxAndFix","newId","_initSegmentId","_fireEvents","_this$_remuxer$remux","remux","meta","code","BufferService","BufferService2","softDecode","_softVideo","_mse","decryptor","_decryptor","_this$_transmuxer","_this$_transmuxer$_de","_this$_transmuxer$_de2","_transmuxer","_this$_mse","_this$_mse2","_updateDuration","open","updateDuration","_sourceCreated","chunk","_directAppend","mix","_createMseSource","_appendBuffer","segment","_this$_transmuxer$tra","_this$_transmuxer$tra2","isFirstAppend","mse","_p","append","AUDIO","_needInitSegment","transmux","setTrackExist","_handleCodecChange","_x8","_removeBuffer","_args3","clearBuffer","removeEnd","_evictBuffer","_callee4","bufferBehind","_context4","removeBuffer","_x9","_clearAllBuffer","_callee5","_context5","clearAllBuffer","_reset","_callee6","reuseMse","_args6","_context6","_endOfStream","_callee7","_context7","_setLiveSeekableRange","_callee8","_context8","_x10","_x11","_destroy","_callee9","_this$_decryptor","_context9","sourceBuffer","getSourceBuffer","RegExp","mediaType","isFull","LoaderType","ResponseType","NetError","NetError2","request","isPlainObject","getRangeValue","encodeURIComponent","replace","setUrlParams","params","toISOString","isObject","hashIndex","createResponse","contentLength","age","firstByteTime","vid","priOptions","parseFloat","calculateSpeed","byteLen","millisec","FetchLoader","_EventEmitter","FetchLoader2","_this$_abortControlle","timeout","responseType","onProgress","onTimeout","onCancel","transformResponse","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","onProcessMinLen","_aborted","_onProcessMinLen","_onCancel","_abortController","AbortController","_running","_index","_range","_vid","_priOptions","init","signal","clearTimeout","_timeoutTimer","rangeValue","Headers","Range","cancel","fetch","costTime","_response","json","_loadChunk","arrayBuffer","_error","_cancel","_reader","st","getReader","_writeIdx","reader","pump","_this3$_range","startRange","startByte","curLen","retData","temp","read","_receivedLength","EventEmitter","XhrLoader","XhrLoader2","req","_onProgress","_headers","_withCredentials","_body","_method","_timeout","_runing","_responseType","_firstRtt","_onTimeout","_request","_loadCompleteResolve","_loadCompleteReject","_startLoad","chunkSize","_currentChunkSizeKB","to","_internalOpen","_startTime","xhr","_xhr","XMLHttpRequest","withCredentials","onload","_onLoad","onreadystatechange","_onReadyStatechange","onerror","errorEvent","_errorEvent$currentTa","_errorEvent$currentTa2","_errorEvent$currentTa3","currentTarget","statusText","ontimeout","setRequestHeader","send","_this$_range","byteStart","_this$_range2","responseURL","_getHeaders","_transformResponse","_step","_iterator","getAllResponseHeaders","trim","parts","toLowerCase","_excluded","Task","Task2","alive","_loaderType","_loader","_retryCount","_retryTimer","_canceled","_retryCheckFunc","retryCheckFunc","_this$_config","retry","retryDelay","onRetryError","transformError","rest","isRetry","running","loaderType","retryCount","NetLoader","NetLoader2","cfg","transformRequest","integrity","getConfig","isSupported","task","loader","_currentTask","_processTask","cancels","_alive","finally","_this3$_currentTask","_this3$_alive","MasterPlaylist","MasterPlaylist2","MediaType","MediaStream","MediaStream2","AudioStream","_MediaStream","AudioStream2","SubTitleStream","_MediaStream3","SubTitleStream2","_super3","MasterStream","MasterStream2","MediaPlaylist","MediaPlaylist2","MediaSegment","MediaSegment2","prevSegment","byteRange","bytes","MediaSegmentKey","MediaSegmentKey2","segKey","keyFormat","keyFormatVersions","sn","setIVFromSN","REGEXP_TAG","REGEXP_ATTR","REGEXP_ABSOLUTE_URL","REGEXP_URL_PAIR","getLines","parseTag","match","parseAttr","getAbsoluteUrl","parentUrl","pairs","CODECS_REGEXP","getCodecs","re","parseMasterPlaylist","lines","line","master","audioStreams","subtitleStreams","_tag","attr","stream","TYPE","URI","DEFAULT","autoSelect","AUTOSELECT","NAME","LANGUAGE","CHANNELS","channels","_stream","_attr","BANDWIDTH","RESOLUTION","_attr$RESOLUTION$spli2","w","CODECS","textCodec","audioGroup","subtitleGroup","SUBTITLES","streams","stream2","parseMediaPlaylist","useLowLatency","curSegment","curInitSegment","curKey","totalDuration","curSN","curCC","endOfList","partSegmentIndex","toUpperCase","targetDuration","lowLatency","partTargetDuration","canBlockReload","partHoldBack","canSkipUntil","canSkipDateRanges","_lastSegment","segments","isLast","live","startSN","startCC","setByteRange","_attr2","independent","cc","partIndex","clone","dataTime","_data$split2","title","_attr3","METHOD","KEYFORMAT","KEYFORMATVERSIONS","IV","_attr4","BYTERANGE","isInitSegment","lastSegment","endSN","endPartIndex","endCC","M3U8Parser","M3U8Parser2","isMediaPlaylist","ManifestLoader","ManifestLoader2","elapsed","retryTime","network","_timer","_useLowLatency","_this$hls$config","manifestLoadTimeout","fetchOptions","_onLoaderRetry","_audioLoader","_subtitleLoader","_load","audioUrl","subtitleUrl","toLoad","videoText","audioText","subtitleText","videoResUrl","audioResUrl","subtitleResUrl","_yield$Promise$all","_yield$Promise$all2","subtitle","_audio$response","_subtitle$response","_audio$response2","onPreM3U8Parse","playlist","audioPlaylist","subtitlePlaylist","_playlist","_emitOnLoaded","isMaster","_playlist2","cb","errorCb","pollRetryCount","clamp","num","Stream","Stream2","update","_setLLPlaybackPoint","_this$segments$","_this$lastSegment","_this$currentSubtitle","currentSubtitleStream","pointer","currentAudioStream","_clearSegments","snDiff","_updateSegments","skippedSegments","newSegs","segs","toSwitch","maxStartPoint","usefulSegs","sliceStart","segObj","endSeg","hasNew","findIndex","toAppend","endTimeBeforeAppend","lastCC","Playlist","Playlist2","_this$currentStream","currentStream","_this$currentStream2","_this$currentSegments","currentSegments","_segmentPointer","_this$currentSegments2","_this$currentStream3","_this$currentStream4","currentSubtitleEndSn","_this$currentStream5","liveEdge","_this$currentStream6","_this$currentSegments3","_this$currentSegments4","_this$currentStream7","_this$currentStream8","_this$currentStream9","getAudioSegment","_this$currentSegments5","dvrWindow","_this$currentSegments6","newSubtitleSegs","updateSubtitle","list","_this$currentStream10","switchSubtitle","maxPlaylistSize","clearOldSegment","cTime","nbSb","findSegmentIndexByTime","getSegmentByIndex","BandwidthService","BandwidthService2","totalByte","_speeds","_chunkSpeeds","SegmentLoader","SegmentLoader2","_bandwidthService","addRecord","_mapCache","_keyCache","loadTimeout","_segmentLoader","_audioSegmentLoader","_keyLoader","getLatestSpeed","getAvgSpeed","audioSeg","loadInit","loadAudioInit","loadVideoSegment","loadAudioSegment","_loadSegment","_loadSegment2","segLoader","_seg$key","mapKey","mapKeyIv","_seg$initSegment$key","mapUrl","_keyUrl","keyUrl","Hls","Hls2","_cfg","nextSeg","bInfo","bufferThroughout","_segmentProcessing","nextSegment","paused","preloadTime","_bufferService","msIsOpend","_urlSwitching","_prevSegSn","setNextSegmentByIndex","_loadSegmentDirect","_disconnectTimer","_reloadOnPlay","replay","_startTick","disconnectTime","_clear","_stopTick","seekTime","seekRange","newSeekTime","curSeg","segIndex","_onCheckQuotaExceeded","currentSegment","_this$_seiService","maxLatency","targetLatency","latency","seiInTime","_seiService","throw","allowedStreamTrackChange","_checkStreamTrackChange","segLoaderError","_isProcessQuotaExceeded","fatal","_emitError","ended","playbackRate","isMediaPlaying","_gapService","do","document","createElement","manifestList","minSegmentsStartPlay","_manifestLoader","_onPlay","_onPause","_onSeeking","_onTimeupdate","hasSubtitle","_this$_bufferService","_this$media","getVideoPlaybackQuality","droppedVideoFrames","corruptedVideoFrames","totalVideoFrames","creationTime","webkitDroppedFrameCount","webkitDecodedFrameCount","_args4","_loadData","_loadData2","manifest","_this$_switchUrlOpts","_this$_switchUrlOpts2","switchTimePoint","segIdx","bufferClearStartPoint","_this$_switchUrlOpts3","_loadM3U8","_switchUrlOpts","_getSeamlessSwitchPoint","nbSegments","_pollM3U8","seamless","_replay","isPlayEmit","play","_switchURL","defaultOpts","_options","appended","_args7","t2","_prevSegCc","seamlessSwitch","_switchStream","force","curStream","curId","_args8","_refreshM3U8","_switchAudioStream","audioStream","_args9","_switchSubtitleStream","_callee10","_context10","stopPoll","_callee11","_this$_seiService2","_context11","removeAllListeners","_loadM3U","_callee12","_this$config$manifest","_this$config$manifest2","_this$_playlist$curre","_context12","parseText","upsertPlaylist","_stream$currentAudioS","_stream$currentSubtit","mediaPlaylist","pollInterval","_this$_playlist$lastS","isEmpty","poll","p1","p3","hadSegmentLoaded","_loadSegmentDirect2","_callee13","loadOnce","cachedError","_context13","_reqAndBufferSegment","moveSegmentPointer","_end","_reqAndBufferSegment2","_callee14","_this$_bufferService2","responses","before","_context14","decryptBuffer","evictBuffer","_onCheckQuotaExceeded2","_callee15","inBuffered","mediaTime","_context15","changedSeg","checkSegmentTrackChange","switchURL","_clear2","_callee16","_context16","_reset2","_callee17","_this$_seiService3","_args17","_context17","_tickTimer","_tick","_tickInterval","_error$originError","_this$media2","_this$media3","_this$_seiService4","pause","nextLoadPoint","_this$_stats","latestKbps","WebAssembly","Logger$1","disable","localStorage","getItem","enableLogger","disableLogger","PluginExtension","PluginExtension2","opts","plugin","_this$_plugin","_this$_plugin$player","_this$_plugin2","_this$_plugin2$player","_this$_opts","_opts","innerDegrade","_plugin","player","degradeInfo","eventName","_degrade","originVideo","TAG","newVideo","degradeVideo","degrade","firstChild","root","replaceChild","hlsPlugin","pluginName","unRegisterPlugin","once","_init","_this$_opts2","setPlayMode","setAttribute","_onLowDecode","_this$_opts3","_this$_opts3$media","parseSwitchUrlArgs","HlsPlugin","_BasePlugin","HlsPlugin2","_args","_this$hls","_this$hls2","switchSubtitleStream","_assertThisInitialize","_this$player$config","_this$player$config$h","keepStatusAfterSwitch","_keepPauseStatus","_this$hls3","_this$player","_this$player$config2","__allowHlsEmptyUrl__","_onSwitchURL","_this$player2","hlsOpts","BasePlugin","defineGetterOrSetter","_this2$hls","_this2$hls$media","pluginExtension","forceDegradeToVideo","_this2$pluginExtensio","useHooks","_this2$hls2","Events","SWITCH_SUBTITLE","_onSwitchSubtitle","URL_CHANGE","DESTROY","_transError","_transCoreEvent","_this$pluginExtension","Errors","_emitSeiPaylodTime","seiJson","e2","DownOutlined","AntdIcon","_extends","DownOutlinedSvg","UpOutlined","UpOutlinedSvg","supportBigInt","BigInt","trimNumber","numStr","negative","startsWith","trimStr","splitNumber","integerStr","decimalStr","negativeStr","fullStr","isE","getNumberPrecision","precision","decimalMatch","validateNumber","num2str","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","toFixed","BigIntDecimal","empty","nan","mergedValue","trimRet","numbers","decimal","decimalLen","decimalLength","getMark","getIntegerStr","getDecimalStr","padEnd","calculator","calDecimalLen","maxDecimalLength","valueStr","alignDecimal","nextDecimalLength","_trimNumber","hydrateValueStr","isInvalidate","cal","num1","num2","NaN","negate","toNumber","safe","NumberDecimal","maxPrecision","getMiniDecimal","separatorStr","cutOnly","precisionDecimalStr","numberWithoutDecimal","advancedNum","advancedDecimal","repeat","useMobile","_useState","useState","_useState2","mobile","setMobile","useLayoutEffect","isMobile","StepHandler","prefixCls","upNode","downNode","upDisabled","downDisabled","onStep","stepTimeoutRef","frameIds","onStepRef","current","onStopStep","onStepMouseDown","up","preventDefault","loopStep","raf","handlerClassName","upClassName","classNames","downClassName","safeOnStopStep","sharedHandlerProps","unselectable","role","onMouseUp","onMouseLeave","className","onMouseDown","getDecupleSteps","stepStr","_excluded2","getDecimalValue","stringMode","decimalValue","getDecimalIfValidate","InternalInputNumber","_clsx","_props$prefixCls","style","_props$step","defaultValue","readOnly","upHandler","downHandler","keyboard","_props$controls","controls","parser","formatter","decimalSeparator","onChange","onInput","onPressEnter","inputProps","inputClassName","inputRef","_React$useState","_React$useState2","focus","setFocus","userTypingRef","compositionRef","shiftKeyRef","_React$useState3","_React$useState4","setDecimalValue","getPrecision","userTyping","mergedParser","parsedStr","inputValueRef","mergedFormatter","mergedPrecision","_React$useState5","initValue","_React$useState6","inputValue","setInternalInputValue","setInputValue","newValue","maxDecimal","minDecimal","lessEquals","_useCursor","focused","selectionRef","useRef","selectionStart","selectionEnd","beforeTxt","afterTxt","_selectionRef$current","startPos","endsWith","beforeLastChar","newIndex","setSelectionRange","warning","useCursor","_useCursor2","recordCursor","restoreCursor","isInRange","triggerValueUpdate","newDecimal","updateValue","isRangeValidate","equals","onNextPromise","idRef","cleanUp","useEffect","callback","useFrame","collectInputValue","inputStr","finalValue","finalDecimal","nextInputStr","onInternalStep","_inputRef$current","stepDecimal","updatedValue","flushInputValue","parsedValue","formatValue","useLayoutUpdateEffect","currentParsedValue","clsx","onFocus","onBlur","onKeyDown","shiftKey","onKeyUp","onCompositionStart","onCompositionEnd","onBeforeInput","autoComplete","composeRef","InputNumber","prefix","suffix","addonBefore","addonAfter","classes","inputFocusRef","BaseInput","inputElement","triggerFocus","option","components","affixWrapper","groupWrapper","wrapper","groupAddon","genRadiusStyle","_$concat","componentCls","borderRadiusSM","borderRadiusLG","borderRadius","borderStartEndRadius","borderEndEndRadius","genInputNumberStyles","token","_wrapper","_Object$assign","_Object$assign2","_disabledReadon","_Object$assign3","lineWidth","lineType","colorBorder","fontSizeLG","controlHeightLG","controlHeightSM","colorError","paddingInlineSM","colorTextDescription","motionDurationMid","handleHoverColor","paddingInline","paddingBlock","handleBg","handleActiveBg","colorTextDisabled","controlWidth","handleVisible","handleBorderColor","resetComponent","genBasicInputStyle","genStatusStyle","display","margin","padding","border","direction","fontSize","genHoverStyle","genActiveStyle","color","genInputGroupStyle","textAlign","verticalAlign","genDisabledStyle","cursor","backgroundColor","outline","transition","appearance","genPlaceholderStyle","colorTextPlaceholder","webkitAppearance","opacity","insetBlockStart","insetInlineEnd","handleWidth","background","borderStartStartRadius","borderEndStartRadius","flexDirection","alignItems","justifyContent","flex","marginInlineEnd","handleFontSize","overflow","fontWeight","lineHeight","borderInlineStart","resetIcon","userSelect","borderBlockStart","borderColor","boxShadow","borderBlockStartWidth","genAffixWrapperStyles","_Object$assign4","inputAffixPadding","paddingInlineStart","zIndex","visibility","pointerEvents","marginInlineStart","genComponentStyleHook","inputNumberToken","mergeToken","initInputToken","genCompactItemStyle","initComponentToken","colorFillAlter","colorBgContainer","colorPrimary","__rest","_classNames","_classNames2","_classNames3","_classNames4","_React$useContext","ConfigContext","getPrefixCls","rootClassName","customizeSize","customDisabled","customizePrefixCls","_props$bordered","bordered","customStatus","others","_useStyle","useStyle","_useStyle2","wrapSSR","hashId","_useCompactItemContex","useCompactItemContext","compactSize","compactItemClassnames","upIcon","downIcon","controlsTemp","_React$useContext2","FormItemInputContext","hasFeedback","contextStatus","isFormItemInput","feedbackIcon","mergedStatus","getMergedStatus","mergedSize","useSize","ctx","_a","DisabledContext","mergedDisabled","inputNumberClass","getStatusClassNames","wrapperClassName","RcInputNumber","NoCompactStyle","NoFormStyle","override","TypedInputNumber","_InternalPanelDoNotUseOrYouWillBeFired","ConfigProvider","theme","dynamicStyleMark","random","registerTheme","globalPrefixCls","variables","formatColor","updater","toRgbString","fillColor","colorVal","baseColor","TinyColor","colorPalettes","generate","setAlpha","primaryColor","primaryColors","lighten","tint","getAlpha","primaryActiveColor","darken","successColor","warningColor","errorColor","infoColor","cssList","getStyle","canUseDom","updateCSS","useConfig","componentDisabled","useContext","componentSize","SizeContext","MotionWrapper","_useToken","useToken","motion","needWrapMotionProviderRef","MotionProvider","PASSED_PROPS","getGlobalPrefixCls","ProviderChildren","customCsp","csp","autoInsertSpaceInButton","alert","anchor","form","space","virtual","dropdownMatchSelectWidth","popupMatchSelectWidth","popupOverflow","legacyLocale","parentContext","customIconPrefixCls","iconPrefixCls","segmented","statistic","spin","calendar","carousel","cascader","typography","checkbox","descriptions","divider","drawer","skeleton","steps","image","layout","mentions","modal","progress","slider","breadcrumb","menu","pagination","badge","radio","SWITCH","switch","transfer","avatar","card","tabs","timeline","timePicker","upload","notification","tree","colorPicker","datePicker","wave","suffixCls","mergedPrefixCls","defaultIconPrefixCls","shouldWrapSSR","mergedTheme","parentTheme","themeConfig","parentThemeConfig","inherit","defaultConfig","useMemo","mergedComponents","componentName","some","prevTheme","nextTheme","isEqual","useTheme","baseConfig","propName","propValue","memoedConfig","prevConfig","currentConfig","prevKeys","currentKeys","memoIconContextValue","childNode","validateMessages","_b","_c","merge","ValidateMessagesContext","IconContext","SizeContextProvider","memoTheme","algorithm","themeObj","createTheme","defaultTheme","parsedComponents","componentToken","parsedToken","defaultSeedToken","DesignTokenContext","DisabledContextProvider","antLocale","isLegacyTheme"],"mappings":"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AAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,IACA,OAEF,OAAOivB,IAER,CACDzsC,IAAK,OACLjB,MAAO,SAAcge,GAEnB,OADYovB,EAAKvS,IAAIuS,EAAKrwC,MAAM0/B,KAAM2Q,EAAKxQ,KAAK5e,EAAM4mB,GAAI5mB,EAAM6mB,cAAgB,EAAG7mB,EAAMV,MAAOU,EAAMT,QAAS6vB,EAAKvQ,KAAK7e,MAG1H,CACD/c,IAAK,OACLjB,MAAO,SAAc4kC,EAAInmB,GACvB,IAAInB,EAAQzc,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EACzE0c,EAAS1c,UAAUC,OAAS,QAAsB,IAAjBD,UAAU,GAAgBA,UAAU,GAAK,EAC1E8sC,EAAQP,EAAKvS,IAAIuS,EAAKrwC,MAAM6/B,KAAM,IAAI9hB,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA8pB,GAAM,GAAK,IACXA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACAnmB,GAAY,GAAK,IACjBA,GAAY,GAAK,IACjBA,GAAY,EAAI,IACL,IAAXA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,E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EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,IACA,EACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,IACA,EACA,EACA,EACA,EACA,GACA,EACA,IACA,IACA,IACA,GACA,IAGJ,OAAOuyB,EAAKvS,IAAIuS,EAAKrwC,MAAMw3B,KAAM,IAAIzZ,WAAWD,MAEjD,CACD5Z,IAAK,OACLjB,MAAO,SAAc0gB,GACnB,IAAI2uB,EAAQhjC,GAAeqU,EAAO,GAAIqhB,EAAWsN,EAAM,GAAIrN,EAAWqN,EAAM,GAC5E,OAAOjC,EAAKvS,IAAIuS,EAAKrwC,MAAM0jC,KAAM,IAAI3lB,WAAW,CAACinB,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,EAAgBC,GAAY,GAAIA,GAAY,GAAK,IAAKA,GAAY,EAAI,IAAgB,IAAXA,OAExL,CACD/gC,IAAK,OACLjB,MAAO,SAAcge,GACnB,OAAOovB,EAAKvS,IAAIuS,EAAKrwC,MAAMgjC,KAAM,IAAIjlB,WAAW,CAC9C,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACAkD,EAAMP,aACN,EACA,GACA,EACA,EACA,EACA,EACAO,EAAMK,YAAc,EAAI,IACL,IAAnBL,EAAMK,WACN,EACA,IACEL,EAAMjL,OAAOjS,OAASssC,EAAK/M,KAAKriB,EAAMjL,aAAU,KAErD,CACD9R,IAAK,OACLjB,MAAO,SAAc+S,GACnB,IAAInV,EAAMmV,EAAOjS,OA8BjB,OA7BYssC,EAAKvS,IAAIuS,EAAKrwC,MAAMsjC,KAAM,IAAIvlB,WAAW,CACnD,EACA,EACA,EACA,EACA,EACA,GAAKld,EACL,EACA,EACA,EACA,EACA,GAAKA,EACL,GACA,GACA,EACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,EACA,IACA,IACA,GACAqV,OAAO,CAACrV,IAAMqV,OAAOF,GAAQE,OAC7B,CAAC,EAAG,EAAG,QAIV,CACDhS,IAAK,OACLjB,MAAO,SAAc2jC,GAInB,OAHYyJ,EAAKvS,IAAIp6B,MAAM2sC,EAAM,CAACA,EAAKrwC,MAAM0wC,MAAMx6B,OAAO5F,GAAmBs2B,EAAO1uB,KAAI,SAASkG,GAC/F,OAAOiyB,EAAKkC,KAAKn0B,EAAEypB,YAItB,CACD3jC,IAAK,OACLjB,MAAO,SAAc4kC,GA2BnB,OA1BYwI,EAAKvS,IAAIuS,EAAKrwC,MAAMuyC,KAAM,IAAIx0B,WAAW,CACnD,EACA,EACA,EACA,EACA8pB,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,OAIH,CACD3jC,IAAK,QACLjB,MAAO,SAAe4kC,GA2BpB,OA1BWwI,EAAKvS,IAAIuS,EAAKrwC,MAAMuyC,KAAM,IAAIx0B,WAAW,CAClD,EACA,EACA,EACA,EACA8pB,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,OAIH,CACD3jC,IAAK,QACLjB,MAAO,SAAe4kC,GA2BpB,OA1BWwI,EAAKvS,IAAIuS,EAAKrwC,MAAMuyC,KAAM,IAAIx0B,WAAW,CAClD,EACA,EACA,EACA,EACA8pB,GAAM,GACNA,GAAM,GAAK,IACXA,GAAM,EAAI,IACL,IAALA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,OAIH,CACD3jC,IAAK,OACLjB,MAAO,SAAc2jC,GAInB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","file":"static/js/4.404809c1.chunk.js","sourcesContent":["export { default as SimplePlayer } from \"./player.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nexport { default as Errors } from \"./error.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nexport { default as Util } from \"./utils/util.js\";\nexport { default } from \"./index.umd.js\";\nexport { STATES } from \"./state.js\";\nexport { default as DefaultPresetEn } from \"./presets/default-en.js\";\nexport { default as DefaultPreset } from \"./presets/default.js\";\nexport { default as LivePreset } from \"./presets/live.js\";\nexport { default as MobilePreset } from \"./presets/mobile.js\";\nexport { default as langZhHk } from \"./lang/zh-hk.js\";\nexport { default as langJp } from \"./lang/jp.js\";\nexport { default as langZhCn } from \"./lang/zh-cn.js\";\nexport { default as Danmu } from \"./plugins/danmu/index.js\";\nexport { default as TextTrack } from \"./plugins/track/index.js\";\nexport { default as DanmuIcon } from \"./plugins/danmu/danmuIcon.js\";\nexport { default as DanmuPanel } from \"./plugins/danmu/danmuPanel.js\";\n","export default {\n  // Options.jsx\n  items_per_page: '/ page',\n  jump_to: 'Go to',\n  jump_to_confirm: 'confirm',\n  page: 'Page',\n  // Pagination.jsx\n  prev_page: 'Previous Page',\n  next_page: 'Next Page',\n  prev_5: 'Previous 5 Pages',\n  next_5: 'Next 5 Pages',\n  prev_3: 'Previous 3 Pages',\n  next_3: 'Next 3 Pages',\n  page_size: 'Page Size'\n};","var locale = {\n  locale: 'en_US',\n  today: 'Today',\n  now: 'Now',\n  backToToday: 'Back to today',\n  ok: 'OK',\n  clear: 'Clear',\n  month: 'Month',\n  year: 'Year',\n  timeSelect: 'select time',\n  dateSelect: 'select date',\n  weekSelect: 'Choose a week',\n  monthSelect: 'Choose a month',\n  yearSelect: 'Choose a year',\n  decadeSelect: 'Choose a decade',\n  yearFormat: 'YYYY',\n  dateFormat: 'M/D/YYYY',\n  dayFormat: 'D',\n  dateTimeFormat: 'M/D/YYYY HH:mm:ss',\n  monthBeforeYear: true,\n  previousMonth: 'Previous month (PageUp)',\n  nextMonth: 'Next month (PageDown)',\n  previousYear: 'Last year (Control + left)',\n  nextYear: 'Next year (Control + right)',\n  previousDecade: 'Last decade',\n  nextDecade: 'Next decade',\n  previousCentury: 'Last century',\n  nextCentury: 'Next century'\n};\nexport default locale;","const locale = {\n  placeholder: 'Select time',\n  rangePlaceholder: ['Start time', 'End time']\n};\nexport default locale;","import CalendarLocale from \"rc-picker/es/locale/en_US\";\nimport TimePickerLocale from '../../time-picker/locale/en_US';\n// Merge into a locale object\nconst locale = {\n  lang: Object.assign({\n    placeholder: 'Select date',\n    yearPlaceholder: 'Select year',\n    quarterPlaceholder: 'Select quarter',\n    monthPlaceholder: 'Select month',\n    weekPlaceholder: 'Select week',\n    rangePlaceholder: ['Start date', 'End date'],\n    rangeYearPlaceholder: ['Start year', 'End year'],\n    rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],\n    rangeMonthPlaceholder: ['Start month', 'End month'],\n    rangeWeekPlaceholder: ['Start week', 'End week']\n  }, CalendarLocale),\n  timePickerLocale: Object.assign({}, TimePickerLocale)\n};\n// All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\nexport default locale;","/* eslint-disable no-template-curly-in-string */\nimport Pagination from \"rc-pagination/es/locale/en_US\";\nimport Calendar from '../calendar/locale/en_US';\nimport DatePicker from '../date-picker/locale/en_US';\nimport TimePicker from '../time-picker/locale/en_US';\nconst typeTemplate = '${label} is not a valid ${type}';\nconst localeValues = {\n  locale: 'en',\n  Pagination,\n  DatePicker,\n  TimePicker,\n  Calendar,\n  global: {\n    placeholder: 'Please select'\n  },\n  Table: {\n    filterTitle: 'Filter menu',\n    filterConfirm: 'OK',\n    filterReset: 'Reset',\n    filterEmptyText: 'No filters',\n    filterCheckall: 'Select all items',\n    filterSearchPlaceholder: 'Search in filters',\n    emptyText: 'No data',\n    selectAll: 'Select current page',\n    selectInvert: 'Invert current page',\n    selectNone: 'Clear all data',\n    selectionAll: 'Select all data',\n    sortTitle: 'Sort',\n    expand: 'Expand row',\n    collapse: 'Collapse row',\n    triggerDesc: 'Click to sort descending',\n    triggerAsc: 'Click to sort ascending',\n    cancelSort: 'Click to cancel sorting'\n  },\n  Tour: {\n    Next: 'Next',\n    Previous: 'Previous',\n    Finish: 'Finish'\n  },\n  Modal: {\n    okText: 'OK',\n    cancelText: 'Cancel',\n    justOkText: 'OK'\n  },\n  Popconfirm: {\n    okText: 'OK',\n    cancelText: 'Cancel'\n  },\n  Transfer: {\n    titles: ['', ''],\n    searchPlaceholder: 'Search here',\n    itemUnit: 'item',\n    itemsUnit: 'items',\n    remove: 'Remove',\n    selectCurrent: 'Select current page',\n    removeCurrent: 'Remove current page',\n    selectAll: 'Select all data',\n    removeAll: 'Remove all data',\n    selectInvert: 'Invert current page'\n  },\n  Upload: {\n    uploading: 'Uploading...',\n    removeFile: 'Remove file',\n    uploadError: 'Upload error',\n    previewFile: 'Preview file',\n    downloadFile: 'Download file'\n  },\n  Empty: {\n    description: 'No data'\n  },\n  Icon: {\n    icon: 'icon'\n  },\n  Text: {\n    edit: 'Edit',\n    copy: 'Copy',\n    copied: 'Copied',\n    expand: 'Expand'\n  },\n  PageHeader: {\n    back: 'Back'\n  },\n  Form: {\n    optional: '(optional)',\n    defaultValidateMessages: {\n      default: 'Field validation error for ${label}',\n      required: 'Please enter ${label}',\n      enum: '${label} must be one of [${enum}]',\n      whitespace: '${label} cannot be a blank character',\n      date: {\n        format: '${label} date format is invalid',\n        parse: '${label} cannot be converted to a date',\n        invalid: '${label} is an invalid date'\n      },\n      types: {\n        string: typeTemplate,\n        method: typeTemplate,\n        array: typeTemplate,\n        object: typeTemplate,\n        number: typeTemplate,\n        date: typeTemplate,\n        boolean: typeTemplate,\n        integer: typeTemplate,\n        float: typeTemplate,\n        regexp: typeTemplate,\n        email: typeTemplate,\n        url: typeTemplate,\n        hex: typeTemplate\n      },\n      string: {\n        len: '${label} must be ${len} characters',\n        min: '${label} must be at least ${min} characters',\n        max: '${label} must be up to ${max} characters',\n        range: '${label} must be between ${min}-${max} characters'\n      },\n      number: {\n        len: '${label} must be equal to ${len}',\n        min: '${label} must be minimum ${min}',\n        max: '${label} must be maximum ${max}',\n        range: '${label} must be between ${min}-${max}'\n      },\n      array: {\n        len: 'Must be ${len} ${label}',\n        min: 'At least ${min} ${label}',\n        max: 'At most ${max} ${label}',\n        range: 'The amount of ${label} must be between ${min}-${max}'\n      },\n      pattern: {\n        mismatch: '${label} does not match the pattern ${pattern}'\n      }\n    }\n  },\n  Image: {\n    preview: 'Preview'\n  },\n  QRCode: {\n    expired: 'QR code expired',\n    refresh: 'Refresh'\n  },\n  ColorPicker: {\n    presetEmpty: 'Empty'\n  }\n};\nexport default localeValues;","import { createContext } from 'react';\nconst LocaleContext = /*#__PURE__*/createContext(undefined);\nexport default LocaleContext;","\"use client\";\n\nimport { createContext } from 'react';\n// ZombieJ: We export single file here since\n// ConfigProvider use this which will make loop deps\n// to import whole `rc-field-form`\nexport default /*#__PURE__*/createContext(undefined);","\"use client\";\n\nimport defaultLocale from '../locale/en_US';\nlet runtimeLocale = Object.assign({}, defaultLocale.Modal);\nlet localeList = [];\nconst generateLocale = () => localeList.reduce((merged, locale) => Object.assign(Object.assign({}, merged), locale), defaultLocale.Modal);\nexport function changeConfirmLocale(newLocale) {\n  if (newLocale) {\n    const cloneLocale = Object.assign({}, newLocale);\n    localeList.push(cloneLocale);\n    runtimeLocale = generateLocale();\n    return () => {\n      localeList = localeList.filter(locale => locale !== cloneLocale);\n      runtimeLocale = generateLocale();\n    };\n  }\n  runtimeLocale = Object.assign({}, defaultLocale.Modal);\n}\nexport function getConfirmLocale() {\n  return runtimeLocale;\n}","\"use client\";\n\nimport * as React from 'react';\nimport warning from '../_util/warning';\nimport { changeConfirmLocale } from '../modal/locale';\nimport LocaleContext from './context';\nexport { default as useLocale } from './useLocale';\nexport const ANT_MARK = 'internalMark';\nconst LocaleProvider = props => {\n  const {\n    locale = {},\n    children,\n    _ANT_MARK__\n  } = props;\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(_ANT_MARK__ === ANT_MARK, 'LocaleProvider', '`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale') : void 0;\n  }\n  React.useEffect(() => {\n    const clearLocale = changeConfirmLocale(locale && locale.Modal);\n    return clearLocale;\n  }, [locale]);\n  const getMemoizedContextValue = React.useMemo(() => Object.assign(Object.assign({}, locale), {\n    exist: true\n  }), [locale]);\n  return /*#__PURE__*/React.createElement(LocaleContext.Provider, {\n    value: getMemoizedContextValue\n  }, children);\n};\nif (process.env.NODE_ENV !== 'production') {\n  LocaleProvider.displayName = 'LocaleProvider';\n}\nexport default LocaleProvider;","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var EVENT = {\n  ERROR: \"error\",\n  TTFB: \"core.ttfb\",\n  LOAD_START: \"core.loadstart\",\n  LOAD_RESPONSE_HEADERS: \"core.loadresponseheaders\",\n  LOAD_COMPLETE: \"core.loadcomplete\",\n  LOAD_RETRY: \"core.loadretry\",\n  SOURCEBUFFER_CREATED: \"core.sourcebuffercreated\",\n  ANALYZE_DURATION_EXCEEDED: \"core.analyzedurationexceeded\",\n  REMOVE_BUFFER: \"core.removebuffer\",\n  BUFFEREOS: \"core.buffereos\",\n  KEYFRAME: \"core.keyframe\",\n  METADATA_PARSED: \"core.metadataparsed\",\n  SEI: \"core.sei\",\n  SEI_IN_TIME: \"core.seiintime\",\n  FLV_SCRIPT_DATA: \"core.flvscriptdata\",\n  LOWDECODE: \"core.lowdecode\",\n  SWITCH_URL_SUCCESS: \"core.switchurlsuccess\",\n  SWITCH_URL_FAILED: \"core.switchurlfailed\",\n  SPEED: \"core.speed\",\n  HLS_MANIFEST_LOADED: \"core.hlsmanifestloaded\",\n  HLS_LEVEL_LOADED: \"core.hlslevelloaded\",\n  DEMUXED_TRACK: \"core.demuxedtrack\",\n  STREAM_EXCEPTION: \"core.streamexception\",\n  LARGE_AV_FIRST_FRAME_GAP_DETECT: \"LARGE_AV_FIRST_FRAME_GAP_DETECT\",\n  LARGE_VIDEO_DTS_GAP_DETECT: \"LARGE_VIDEO_DTS_GAP_DETECT\",\n  LARGE_AUDIO_DTS_GAP_DETECT: \"LARGE_AUDIO_DTS_GAP_DETECT\",\n  AUDIO_GAP_DETECT: \"AUDIO_GAP_DETECT\",\n  AUDIO_OVERLAP_DETECT: \"AUDIO_OVERLAP_DETECT\",\n  MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT: \"MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT\",\n  REAL_TIME_SPEED: \"real_time_speed\"\n};\nexport { EVENT };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function() {\n    return exports;\n  };\n  var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function(obj, key, desc) {\n    obj[key] = desc.value;\n  }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {\n  }\n  function GeneratorFunction() {\n  }\n  function GeneratorFunctionPrototype() {\n  }\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function() {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg, value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function(value2) {\n          invoke(\"next\", value2, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function(unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function(error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function(resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function(method, arg) {\n      if (\"executing\" === state)\n        throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method)\n          throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg; ; ) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel)\n              continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method)\n          context.sent = context._sent = context.arg;\n        else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state)\n            throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else\n          \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel)\n            continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method, method = delegate.iterator[methodName];\n    if (void 0 === method)\n      return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = void 0, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type)\n      return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = void 0), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(true);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod)\n        return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next)\n        return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next2() {\n          for (; ++i < iterable.length; )\n            if (hasOwn.call(iterable, i))\n              return next2.value = iterable[i], next2.done = false, next2;\n          return next2.value = void 0, next2.done = true, next2;\n        };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: void 0,\n      done: true\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: true\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: true\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function(genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function(genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function(arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function() {\n    return this;\n  }), define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  }), exports.keys = function(val) {\n    var object = Object(val), keys = [];\n    for (var key in object)\n      keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length; ) {\n        var key2 = keys.pop();\n        if (key2 in object)\n          return next.value = key2, next.done = false, next;\n      }\n      return next.done = true, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = false, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !skipTempReset)\n        for (var name in this)\n          \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = void 0);\n    },\n    stop: function() {\n      this.done = true;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type)\n        throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function(exception) {\n      if (this.done)\n        throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = void 0), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i], record = entry.completion;\n        if (\"root\" === entry.tryLoc)\n          return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc)\n              return handle(entry.catchLoc, true);\n          } else {\n            if (!hasFinally)\n              throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc)\n              return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function(record, afterLoc) {\n      if (\"throw\" === record.type)\n        throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc)\n          return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName,\n        nextLoc\n      }, \"next\" === this.method && (this.arg = void 0), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function() {\n    var self = this, args = arguments;\n    return new Promise(function(resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(void 0);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct2(Parent2, args2, Class2) {\n      var a = [null];\n      a.push.apply(a, args2);\n      var Constructor = Function.bind.apply(Parent2, a);\n      var instance = new Constructor();\n      if (Class2)\n        _setPrototypeOf(instance, Class2.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? /* @__PURE__ */ new Map() : void 0;\n  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {\n    if (Class2 === null || !_isNativeFunction(Class2))\n      return Class2;\n    if (typeof Class2 !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class2))\n        return _cache.get(Class2);\n      _cache.set(Class2, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class2.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class2);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null)\n    return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0)\n      continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null)\n    return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0)\n        continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key))\n        continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it)\n        o = it;\n      var i = 0;\n      var F = function() {\n      };\n      return {\n        s: F,\n        n: function() {\n          if (i >= o.length)\n            return {\n              done: true\n            };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function(e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true, didErr = false, err;\n  return {\n    s: function() {\n      it = it.call(o);\n    },\n    n: function() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function(e) {\n      didErr = true;\n      err = e;\n    },\n    f: function() {\n      try {\n        if (!normalCompletion && it.return != null)\n          it.return();\n      } finally {\n        if (didErr)\n          throw err;\n      }\n    }\n  };\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _assertThisInitialized as assertThisInitialized, _asyncToGenerator as asyncToGenerator, _classCallCheck as classCallCheck, _construct as construct, _createClass as createClass, _createForOfIteratorHelper as createForOfIteratorHelper, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeFunction as isNativeFunction, _isNativeReflectConstruct as isNativeReflectConstruct, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _possibleConstructorReturn as possibleConstructorReturn, _regeneratorRuntime as regeneratorRuntime, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray, _wrapNativeSuper as wrapNativeSuper };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar LogCacheLevel = {\n  \"DEBUG\": 1,\n  \"LOG\": 2,\n  \"WARN\": 3,\n  \"ERROR\": 4\n};\nvar LOG_MAX_SIZE = 200 * 1024;\nvar SIMPLE_TYPE = [\"Boolean\", \"Number\", \"String\", \"Undefined\", \"Null\", \"Date\", \"Object\"];\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, config) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    this.logCacheLevel = (config === null || config === void 0 ? void 0 : config.logCacheLevel) || 3;\n    this.logMaxSize = (config === null || config === void 0 ? void 0 : config.logMaxSize) || LOG_MAX_SIZE;\n    this.logSize = 0;\n    this.logTextArray = [];\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.logCache.apply(this, [LogCacheLevel.DEBUG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console = console).debug.apply(_console, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      this.logCache.apply(this, [LogCacheLevel.LOG].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console2 = console).log.apply(_console2, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      this.logCache.apply(this, [LogCacheLevel.WARN].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console3 = console).warn.apply(_console3, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      this.logCache.apply(this, [LogCacheLevel.ERROR].concat(args));\n      if (Logger2.disabled)\n        return;\n      (_console4 = console).error.apply(_console4, [this._prefix, nowTime()].concat(args));\n    }\n  }, {\n    key: \"logCache\",\n    value: function logCache(logCacheLevel) {\n      if (logCacheLevel < this.logCacheLevel)\n        return;\n      var text = \"\";\n      try {\n        for (var _len5 = arguments.length, logText = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n          logText[_key5 - 1] = arguments[_key5];\n        }\n        var finLogText = logText.map(function(item) {\n          return logable(item);\n        });\n        text = this._prefix + nowTime() + JSON.stringify(finLogText);\n      } catch (e) {\n        return;\n      }\n      if (logCacheLevel >= this.logCacheLevel) {\n        this.logSize += text.length;\n        this.logTextArray.push(text);\n      }\n      if (this.logSize > this.logMaxSize) {\n        var delLog = this.logTextArray.shift();\n        this.logSize -= delLog.length;\n      }\n    }\n  }, {\n    key: \"getLogCache\",\n    value: function getLogCache() {\n      var logText = this.logTextArray.join(\"\\n\");\n      this.reset();\n      return logText;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.logTextArray = [];\n      this.logSize = 0;\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }, {\n    key: \"setLogLevel\",\n    value: function setLogLevel(val) {\n      this.logCacheLevel = val;\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nfunction nowTime() {\n  return new Date().toLocaleString();\n}\nfunction reduceDepth(val) {\n  if (_typeof(val) !== \"object\") {\n    return val;\n  }\n  var objType = Object.prototype.toString.call(val).slice(8, -1);\n  switch (objType) {\n    case \"Array\":\n    case \"Uint8Array\":\n    case \"ArrayBuffer\":\n      return objType + \"[\" + val.length + \"]\";\n    case \"Object\":\n      return \"{}\";\n    default:\n      return objType;\n  }\n}\nfunction logable(obj, maxDepth, depth) {\n  if (!depth)\n    depth = 1;\n  if (!maxDepth)\n    maxDepth = 2;\n  var result = {};\n  if (!obj || _typeof(obj) !== \"object\") {\n    return obj;\n  }\n  var objType = Object.prototype.toString.call(obj).slice(8, -1);\n  if (!SIMPLE_TYPE.includes(objType)) {\n    return objType;\n  }\n  if (depth > maxDepth) {\n    return void 0;\n  }\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (depth === maxDepth) {\n        result[key] = reduceDepth(obj[key]);\n      } else if (_typeof(obj[key]) === \"object\") {\n        result[key] = logable(obj[key], maxDepth, depth + 1);\n      } else {\n        result[key] = obj[key];\n      }\n    }\n  }\n  return result;\n}\nexport { LogCacheLevel, Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n  }\n  _createClass(Buffer2, null, [{\n    key: \"start\",\n    value: function start(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      if (buf.length === 1 && buf.start(0) < 0)\n        return 0;\n      return buf.start(0);\n    }\n  }, {\n    key: \"end\",\n    value: function end(buf) {\n      if (!buf || !buf.length)\n        return 0;\n      if (buf.length === 1 && buf.end(0) - buf.start(0) < 1e-6)\n        return 0;\n      return buf.end(buf.length - 1);\n    }\n  }, {\n    key: \"get\",\n    value: function get(b) {\n      if (!b)\n        return;\n      try {\n        return b.buffered;\n      } catch (error) {\n      }\n    }\n  }, {\n    key: \"buffers\",\n    value: function buffers(buf, maxHole) {\n      if (!buf || !buf.length)\n        return [];\n      var buffers2 = [];\n      for (var i = 0, l = buf.length; i < l; i++) {\n        var bufLen = buffers2.length;\n        if (!bufLen || !maxHole) {\n          buffers2.push([buf.start(i), buf.end(i)]);\n        } else {\n          var last = buffers2[bufLen - 1];\n          var lastEnd = last[1];\n          var start = buf.start(i);\n          if (start - lastEnd <= maxHole) {\n            var end = buf.end(i);\n            if (end > lastEnd) {\n              last[1] = end;\n            }\n          } else {\n            buffers2.push([buf.start(i), buf.end(i)]);\n          }\n        }\n      }\n      return buffers2;\n    }\n  }, {\n    key: \"totalLength\",\n    value: function totalLength(buffers) {\n      if (!buffers || !buffers.length)\n        return 0;\n      return buffers.reduce(function(a, c) {\n        return a += c[1] - c[0];\n      }, 0);\n    }\n  }, {\n    key: \"info\",\n    value: function info(buf) {\n      var pos = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var maxHole = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      if (!buf || !buf.length)\n        return {\n          start: 0,\n          end: 0,\n          buffers: []\n        };\n      var start = 0;\n      var end = 0;\n      var index = 0;\n      var nextStart = 0;\n      var nextEnd = 0;\n      var prevStart = 0;\n      var prevEnd = 0;\n      var buffers = Buffer2.buffers(buf, maxHole);\n      for (var i = 0, l = buffers.length; i < l; i++) {\n        var item = buffers[i];\n        if (pos + maxHole >= item[0] && pos <= item[1]) {\n          start = item[0];\n          end = item[1];\n          index = i;\n        } else if (pos + maxHole < item[0]) {\n          nextStart = item[0];\n          nextEnd = item[1];\n          break;\n        } else if (pos + maxHole > item[1]) {\n          prevStart = item[0];\n          prevEnd = item[1];\n        }\n      }\n      return {\n        start,\n        end,\n        index,\n        buffers,\n        nextStart,\n        nextEnd,\n        prevStart,\n        prevEnd,\n        currentTime: pos,\n        behind: pos - start,\n        remaining: end ? end - pos : 0,\n        length: Buffer2.totalLength && Buffer2.totalLength(buffers)\n      };\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar _ERR_CODE;\nvar ERR = {\n  MANIFEST: \"manifest\",\n  NETWORK: \"network\",\n  NETWORK_TIMEOUT: \"network_timeout\",\n  NETWORK_FORBIDDEN: \"network_forbidden\",\n  NETWORK_NOTFOUND: \"network_notfound\",\n  NETWROK_RANGE_NOT_SATISFIABLE: \"network_range_not_satisfiable\",\n  DEMUX: \"demux\",\n  REMUX: \"remux\",\n  MEDIA: \"media\",\n  DRM: \"drm\",\n  OTHER: \"other\",\n  RUNTIME: \"runtime\",\n  SUB_TYPES: {\n    FLV: \"FLV\",\n    HLS: \"HLS\",\n    MP4: \"MP4\",\n    FMP4: \"FMP4\",\n    MSE_ADD_SB: \"MSE_ADD_SB\",\n    MSE_APPEND_BUFFER: \"MSE_APPEND_BUFFER\",\n    MSE_OTHER: \"MSE_OTHER\",\n    MSE_FULL: \"MSE_FULL\",\n    OPTION: \"OPTION\",\n    DASH: \"DASH\",\n    LICENSE: \"LICENSE\",\n    CUSTOM_LICENSE: \"CUSTOM_LICENSE\",\n    MSE_HIJACK: \"MSE_HIJACK\",\n    EME_HIJACK: \"EME_HIJACK\",\n    SIDX: \"SIDX\",\n    NO_CANPLAY_ERROR: \"NO_CANPLAY_ERROR\",\n    BUFFERBREAK_ERROR: \"BUFFERBREAK_ERROR\",\n    WAITING_TIMEOUT_ERROR: \"WAITING_TIMEOUT_ERROR\",\n    MEDIA_ERR_ABORTED: \"MEDIA_ERR_ABORTED\",\n    MEDIA_ERR_NETWORK: \"MEDIA_ERR_NETWORK\",\n    MEDIA_ERR_DECODE: \"MEDIA_ERR_DECODE\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"MEDIA_ERR_SRC_NOT_SUPPORTED\",\n    MEDIA_ERR_CODEC_NOT_SUPPORTED: \"MEDIA_ERR_CODEC_NOT_SUPPORTED\",\n    MEDIA_ERR_URL_EMPTY: \"MEDIA_ERR_URL_EMPTY\"\n  }\n};\nvar ERR_CODE = (_ERR_CODE = {}, _defineProperty(_ERR_CODE, ERR.MANIFEST, {\n  HLS: 1100,\n  DASH: 1200\n}), _defineProperty(_ERR_CODE, ERR.NETWORK, 2100), _defineProperty(_ERR_CODE, ERR.NETWORK_TIMEOUT, 2101), _defineProperty(_ERR_CODE, ERR.NETWORK_FORBIDDEN, 2103), _defineProperty(_ERR_CODE, ERR.NETWORK_NOTFOUND, 2104), _defineProperty(_ERR_CODE, ERR.NETWROK_RANGE_NOT_SATISFIABLE, 2116), _defineProperty(_ERR_CODE, ERR.DEMUX, {\n  FLV: 3100,\n  HLS: 3200,\n  MP4: 3300,\n  FMP4: 3400,\n  SIDX: 3410\n}), _defineProperty(_ERR_CODE, ERR.REMUX, {\n  FMP4: 4100,\n  MP4: 4200\n}), _defineProperty(_ERR_CODE, ERR.MEDIA, {\n  MEDIA_ERR_ABORTED: 5101,\n  MEDIA_ERR_NETWORK: 5102,\n  MEDIA_ERR_DECODE: 5103,\n  MEDIA_ERR_SRC_NOT_SUPPORTED: 5104,\n  MEDIA_ERR_CODEC_NOT_SUPPORTED: 5105,\n  MEDIA_ERR_URL_EMPTY: 5106,\n  MSE_ADD_SB: 5200,\n  MSE_APPEND_BUFFER: 5201,\n  MSE_OTHER: 5202,\n  MSE_FULL: 5203,\n  MSE_HIJACK: 5204,\n  EME_HIJACK: 5301\n}), _defineProperty(_ERR_CODE, ERR.DRM, {\n  LICENSE: 7100,\n  CUSTOM_LICENSE: 7200\n}), _defineProperty(_ERR_CODE, ERR.OTHER, 8e3), _defineProperty(_ERR_CODE, ERR.RUNTIME, {\n  NO_CANPLAY_ERROR: 9001,\n  BUFFERBREAK_ERROR: 9002,\n  WAITING_TIMEOUT_ERROR: 9003\n}), _ERR_CODE);\nvar StreamingError = /* @__PURE__ */ function(_Error) {\n  _inherits(StreamingError2, _Error);\n  var _super = _createSuper(StreamingError2);\n  function StreamingError2(type, subType, origin, payload, msg) {\n    var _this;\n    _classCallCheck(this, StreamingError2);\n    _this = _super.call(this, msg || (origin === null || origin === void 0 ? void 0 : origin.message));\n    _this.errorType = type === ERR.NETWORK_TIMEOUT ? ERR.NETWORK : type;\n    _this.originError = origin;\n    _this.ext = payload;\n    _this.errorCode = ERR_CODE[type][subType] || ERR_CODE[type];\n    _this.errorMessage = _this.message;\n    if (!_this.errorCode) {\n      _this.errorType = ERR.OTHER;\n      _this.errorCode = ERR_CODE[_this.errorType];\n    }\n    return _this;\n  }\n  _createClass(StreamingError2, null, [{\n    key: \"create\",\n    value: function create(type, subType, origin, payload, msg) {\n      if (type instanceof StreamingError2) {\n        return type;\n      } else if (type instanceof Error) {\n        origin = type;\n        type = \"\";\n      }\n      if (!type)\n        type = ERR.OTHER;\n      return new StreamingError2(type, subType, origin, payload, msg);\n    }\n  }, {\n    key: \"network\",\n    value: function network(error) {\n      var _error$response;\n      return new StreamingError2(error !== null && error !== void 0 && error.isTimeout ? ERR.NETWORK_TIMEOUT : ERR.NETWORK, null, error instanceof Error ? error : null, {\n        url: error === null || error === void 0 ? void 0 : error.url,\n        response: error === null || error === void 0 ? void 0 : error.response,\n        httpCode: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status\n      });\n    }\n  }]);\n  return StreamingError2;\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { ERR, ERR_CODE, StreamingError };\n","function isMediaPlaying(media) {\n  return media && !media.paused && !media.ended && media.playbackRate !== 0 && media.readyState !== 0;\n}\nfunction getVideoPlaybackQuality(video) {\n  if (!video)\n    return {};\n  if (typeof video.getVideoPlaybackQuality === \"function\") {\n    var info = video.getVideoPlaybackQuality();\n    return {\n      droppedVideoFrames: info.droppedVideoFrames || info.corruptedVideoFrames,\n      totalVideoFrames: info.totalVideoFrames,\n      creationTime: info.creationTime\n    };\n  }\n  return {\n    droppedVideoFrames: video.webkitDroppedFrameCount,\n    totalVideoFrames: video.webkitDecodedFrameCount,\n    creationTime: performance.now()\n  };\n}\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  if (arr.length < 2)\n    return arr[0];\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nfunction sleep() {\n  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  return new Promise(function(resolve) {\n    return setTimeout(resolve, t);\n  });\n}\nexport { concatUint8Array, getVideoPlaybackQuality, isMediaPlaying, sleep };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"../event.js\";\nvar SeiService = /* @__PURE__ */ function() {\n  function SeiService2(emitter) {\n    var _this = this;\n    _classCallCheck(this, SeiService2);\n    _defineProperty(this, \"_seiSet\", /* @__PURE__ */ new Set());\n    this.emitter = emitter;\n    emitter.on(EVENT.SEI, function(sei) {\n      if (sei)\n        _this._seiSet.add(sei);\n    });\n  }\n  _createClass(SeiService2, [{\n    key: \"throw\",\n    value: function _throw(currentTime, isLive) {\n      var _this2 = this;\n      if (currentTime === null || currentTime === void 0 || !this._seiSet.size)\n        return;\n      var min = currentTime - 0.2;\n      var max = currentTime + 0.2;\n      var toThrow = [];\n      this._seiSet.forEach(function(sei) {\n        if (sei.time >= min && sei.time <= max) {\n          toThrow.push(sei);\n        }\n      });\n      toThrow.forEach(function(sei) {\n        _this2._seiSet.delete(sei);\n        _this2.emitter.emit(EVENT.SEI_IN_TIME, sei);\n      });\n      if (!isLive)\n        return;\n      this._seiSet.forEach(function(s) {\n        if (s.time < currentTime - 5) {\n          _this2._seiSet.delete(s);\n        }\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._seiSet.clear();\n    }\n  }]);\n  return SeiService2;\n}();\nexport { SeiService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Buffer } from \"../buffer.js\";\nvar GapService = /* @__PURE__ */ function() {\n  function GapService2() {\n    _classCallCheck(this, GapService2);\n    _defineProperty(this, \"_prevCurrentTime\", 0);\n  }\n  _createClass(GapService2, [{\n    key: \"do\",\n    value: function _do(media) {\n      var maxJumpDistance = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;\n      var isLive = arguments.length > 2 ? arguments[2] : void 0;\n      var seekThreshold = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 1;\n      if (!media)\n        return;\n      var currentTime = media.currentTime;\n      var jumpTo = 0;\n      if (this._prevCurrentTime === currentTime) {\n        var info = Buffer.info(Buffer.get(media), currentTime);\n        if (!info.buffers.length)\n          return;\n        if (isLive && info.nextStart || info.nextStart && info.nextStart - currentTime < maxJumpDistance) {\n          jumpTo = info.nextStart + 0.1;\n        } else if (info.end && info.end - currentTime > seekThreshold && !media.seeking) {\n          jumpTo = currentTime + 0.1;\n        }\n      }\n      this._prevCurrentTime = currentTime;\n      if (jumpTo && currentTime !== jumpTo) {\n        media.currentTime = jumpTo;\n      }\n    }\n  }]);\n  return GapService2;\n}();\nexport { GapService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../mse.js\";\nimport { EVENT } from \"../event.js\";\nimport \"eventemitter3\";\nimport \"../logger.js\";\nimport \"../error.js\";\nvar Stats = /* @__PURE__ */ function() {\n  function Stats2(timescale) {\n    _classCallCheck(this, Stats2);\n    _defineProperty(this, \"encodeType\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"domain\", \"\");\n    _defineProperty(this, \"fps\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"samplerate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"gop\", 0);\n    _defineProperty(this, \"_bitsAccumulateSize\", 0);\n    _defineProperty(this, \"_bitsAccumulateDuration\", 0);\n    _defineProperty(this, \"_startGopId\", -1);\n    this._timescale = timescale;\n  }\n  _createClass(Stats2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      return {\n        encodeType: this.encodeType,\n        audioCodec: this.audioCodec,\n        videoCodec: this.videoCodec,\n        domain: this.domain,\n        fps: this.fps,\n        bitrate: this.bitrate,\n        width: this.width,\n        height: this.height,\n        samplerate: this.samplerate,\n        channelCount: this.channelCount,\n        gop: this.gop\n      };\n    }\n  }, {\n    key: \"setEncodeType\",\n    value: function setEncodeType(encode) {\n      this.encodeType = encode;\n    }\n  }, {\n    key: \"setFpsFromScriptData\",\n    value: function setFpsFromScriptData(_ref) {\n      var _data$onMetaData;\n      var data = _ref.data;\n      var fps = data === null || data === void 0 ? void 0 : (_data$onMetaData = data.onMetaData) === null || _data$onMetaData === void 0 ? void 0 : _data$onMetaData.framerate;\n      if (fps && fps > 0 && fps < 100) {\n        this.fps = fps;\n      }\n    }\n  }, {\n    key: \"setVideoMeta\",\n    value: function setVideoMeta(track) {\n      this.width = track.width;\n      this.height = track.height;\n      this.videoCodec = track.codec;\n      this.encodeType = track.codecType;\n      if (track.fpsNum && track.fpsDen) {\n        var fps = track.fpsNum / track.fpsDen;\n        if (fps > 0 && fps < 100) {\n          this.fps = fps;\n        }\n      }\n    }\n  }, {\n    key: \"setAudioMeta\",\n    value: function setAudioMeta(track) {\n      this.audioCodec = track.codec;\n      this.samplerate = track.sampleRate;\n      this.channelCount = track.channelCount;\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(responseUrl) {\n      this.domain = responseUrl.split(\"/\").slice(2, 3)[0];\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(samples) {\n      var _this = this;\n      if (!this.fps || this.fps >= 100) {\n        if (samples.length) {\n          var duration = samples.reduce(function(a, b) {\n            return a += b.duration;\n          }, 0) / samples.length;\n          this.fps = Math.round(this._timescale / duration);\n        }\n      }\n      samples.forEach(function(sample) {\n        if (_this._startGopId === -1) {\n          _this._startGopId = sample.gopId;\n        }\n        if (sample.gopId === _this._startGopId) {\n          _this.gop++;\n        }\n        _this._bitsAccumulateDuration += sample.duration / (_this._timescale / 1e3);\n        _this._bitsAccumulateSize += sample.units.reduce(function(a, c) {\n          return a += c.length;\n        }, 0);\n        if (_this._bitsAccumulateDuration >= 1e3) {\n          _this.bitrate = _this._bitsAccumulateSize * 8;\n          _this._bitsAccumulateDuration = 0;\n          _this._bitsAccumulateSize = 0;\n        }\n      });\n    }\n  }]);\n  return Stats2;\n}();\nvar MediaStatsService = /* @__PURE__ */ function() {\n  function MediaStatsService2(core) {\n    var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1e3;\n    _classCallCheck(this, MediaStatsService2);\n    _defineProperty(this, \"_core\", null);\n    _defineProperty(this, \"_samples\", []);\n    this._core = core;\n    this._timescale = timescale;\n    this._stats = new Stats(timescale);\n    this._bindEvents();\n  }\n  _createClass(MediaStatsService2, [{\n    key: \"getStats\",\n    value: function getStats() {\n      var _this$_core, _this$_core2, _this$_core2$speedInf, _this$_core3, _this$_core3$speedInf, _this$_core4, _this$_core4$bufferIn;\n      var _ref2 = ((_this$_core = this._core) === null || _this$_core === void 0 ? void 0 : _this$_core.media) || {}, _ref2$currentTime = _ref2.currentTime, currentTime = _ref2$currentTime === void 0 ? 0 : _ref2$currentTime, _ref2$decodeFps = _ref2.decodeFps, decodeFps = _ref2$decodeFps === void 0 ? 0 : _ref2$decodeFps;\n      return _objectSpread2(_objectSpread2({}, this._stats.getStats()), {}, {\n        downloadSpeed: ((_this$_core2 = this._core) === null || _this$_core2 === void 0 ? void 0 : (_this$_core2$speedInf = _this$_core2.speedInfo) === null || _this$_core2$speedInf === void 0 ? void 0 : _this$_core2$speedInf.call(_this$_core2).speed) || 0,\n        avgSpeed: ((_this$_core3 = this._core) === null || _this$_core3 === void 0 ? void 0 : (_this$_core3$speedInf = _this$_core3.speedInfo) === null || _this$_core3$speedInf === void 0 ? void 0 : _this$_core3$speedInf.call(_this$_core3).avgSpeed) || 0,\n        currentTime,\n        bufferEnd: ((_this$_core4 = this._core) === null || _this$_core4 === void 0 ? void 0 : (_this$_core4$bufferIn = _this$_core4.bufferInfo()) === null || _this$_core4$bufferIn === void 0 ? void 0 : _this$_core4$bufferIn.remaining) || 0,\n        decodeFps\n      });\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this2 = this;\n      this._core.on(EVENT.DEMUXED_TRACK, function(_ref3) {\n        var videoTrack = _ref3.videoTrack;\n        return _this2._stats.updateBitrate(videoTrack.samples);\n      });\n      this._core.on(EVENT.FLV_SCRIPT_DATA, function(data) {\n        _this2._stats.setFpsFromScriptData(data);\n      });\n      this._core.on(EVENT.METADATA_PARSED, function(e) {\n        if (e.type === \"video\") {\n          _this2._stats.setVideoMeta(e.track);\n        } else {\n          _this2._stats.setAudioMeta(e.track);\n        }\n      });\n      this._core.on(EVENT.TTFB, function(e) {\n        _this2._stats.setDomain(e.responseUrl);\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._samples = [];\n      this._stats = new Stats(this._timescale);\n    }\n  }]);\n  return MediaStatsService2;\n}();\nexport { MediaStatsService };\n","function createPublicPromise() {\n  var res, rej;\n  var promise = new Promise(function(resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.used = false;\n  promise.resolve = function() {\n    promise.used = true;\n    return res.apply(void 0, arguments);\n  };\n  promise.reject = function() {\n    promise.used = true;\n    return rej.apply(void 0, arguments);\n  };\n  return promise;\n}\nfunction nowTime() {\n  try {\n    return parseInt(performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nexport { createPublicPromise, nowTime };\n","var isBrowser = typeof window !== \"undefined\";\nexport { isBrowser };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, wrapNativeSuper as _wrapNativeSuper, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { createPublicPromise, nowTime } from \"./utils.js\";\nimport { Buffer } from \"./buffer.js\";\nimport { StreamingError, ERR } from \"./error.js\";\nimport { isBrowser } from \"./env.js\";\nimport { Logger } from \"./logger.js\";\nfunction getMediaSource() {\n  try {\n    return isBrowser ? window.MediaSource : null;\n  } catch (e) {\n  }\n}\nvar MediaSource = getMediaSource();\nvar MSEErrorType = {\n  UPDATE_ERROR: \"updateError\"\n};\nvar OP_NAME = {\n  APPEND: \"appendBuffer\",\n  REMOVE: \"removeBuffer\",\n  UPDATE_DURATION: \"updateDuration\"\n};\nvar MSEError = /* @__PURE__ */ function(_Error) {\n  _inherits(MSEError2, _Error);\n  var _super = _createSuper(MSEError2);\n  function MSEError2(type, msg) {\n    var _this;\n    _classCallCheck(this, MSEError2);\n    _this = _super.call(this, msg || type);\n    _this.type = type;\n    _this.msg = msg;\n    return _this;\n  }\n  return _createClass(MSEError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nvar MSE = /* @__PURE__ */ function() {\n  function MSE2(media, config) {\n    var _this2 = this;\n    _classCallCheck(this, MSE2);\n    _defineProperty(this, \"media\", null);\n    _defineProperty(this, \"mediaSource\", null);\n    _defineProperty(this, \"_openPromise\", createPublicPromise());\n    _defineProperty(this, \"_queue\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_sourceBuffer\", /* @__PURE__ */ Object.create(null));\n    _defineProperty(this, \"_mseFullFlag\", {});\n    _defineProperty(this, \"_st\", 0);\n    _defineProperty(this, \"_opst\", 0);\n    _defineProperty(this, \"_logger\", null);\n    _defineProperty(this, \"_config\", null);\n    _defineProperty(this, \"_url\", null);\n    _defineProperty(this, \"_onSBUpdateEnd\", function(type) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (!((op === null || op === void 0 ? void 0 : op.opName) === OP_NAME.UPDATE_DURATION)) {\n          queue.shift();\n        }\n        if (op) {\n          var costtime = nowTime() - _this2._opst;\n          _this2._logger.debug(\"UpdateEnd\", op.opName, costtime, op.context);\n          op.promise.resolve({\n            name: op.opName,\n            context: op.context,\n            costtime\n          });\n          _this2._startQueue(type);\n        }\n      }\n    });\n    _defineProperty(this, \"_onSBUpdateError\", function(type, event) {\n      var queue = _this2._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op) {\n          _this2._logger.error(\"UpdateError\", type, op.opName, op.context);\n          op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_APPEND_BUFFER, event));\n        }\n      }\n    });\n    this._config = Object.assign(MSE2.getDefaultConfig(), config);\n    if (media)\n      this.bindMedia(media);\n    this._logger = new Logger(\"MSE\");\n    if (this._config.openLog) {\n      Logger.enable();\n    }\n  }\n  _createClass(MSE2, [{\n    key: \"isOpened\",\n    get: function get() {\n      var _this$mediaSource;\n      return ((_this$mediaSource = this.mediaSource) === null || _this$mediaSource === void 0 ? void 0 : _this$mediaSource.readyState) === \"open\";\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._url;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      var _this$mediaSource2;\n      return ((_this$mediaSource2 = this.mediaSource) === null || _this$mediaSource2 === void 0 ? void 0 : _this$mediaSource2.duration) || -1;\n    }\n  }, {\n    key: \"isEnded\",\n    get: function get() {\n      return this.mediaSource ? this.mediaSource.readyState === \"ended\" : false;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull(type) {\n      return type ? this._mseFullFlag[type] : this._mseFullFlag[MSE2.VIDEO];\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this3 = this;\n      var isReduceDuration = this.mediaSource && this.mediaSource.duration > duration;\n      if (this.mediaSource && this.mediaSource.duration > duration) {\n        var bufferEnd = 0;\n        Object.keys(this._sourceBuffer).forEach(function(k) {\n          try {\n            bufferEnd = Math.max(_this3.bufferEnd(k) || 0, bufferEnd);\n          } catch (error) {\n          }\n        });\n        if (duration < bufferEnd) {\n          return Promise.resolve();\n        }\n      }\n      return this._enqueueBlockingOp(function() {\n        if (_this3.isEnded) {\n          _this3._logger.debug(\"[debug mse] setDuration ended\");\n          return;\n        }\n        if (_this3.mediaSource) {\n          _this3.mediaSource.duration = duration;\n          _this3._logger.debug(\"[debug mse] setDuration\");\n        }\n      }, OP_NAME.UPDATE_DURATION, {\n        isReduceDuration\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this4 = this;\n      if (this._openPromise.used && !this.isOpened && this.mediaSource) {\n        var ms = this.mediaSource;\n        var onOpen = function onOpen2() {\n          var costtime = nowTime() - _this4._st;\n          _this4._logger.debug(\"MSE OPEN\", costtime);\n          ms.removeEventListener(\"sourceopen\", onOpen2);\n          _this4._openPromise.resolve({\n            costtime\n          });\n        };\n        ms.addEventListener(\"sourceopen\", onOpen);\n        this._openPromise = createPublicPromise();\n      }\n      return this._openPromise;\n    }\n  }, {\n    key: \"bindMedia\",\n    value: function() {\n      var _bindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(media) {\n        var _this5 = this;\n        var ms, onOpen;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.mediaSource || this.media)) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this.unbindMedia();\n              case 3:\n                if (!(!media || !MediaSource)) {\n                  _context.next = 5;\n                  break;\n                }\n                throw new Error(\"Param media or MediaSource does not exist\");\n              case 5:\n                this.media = media;\n                ms = this.mediaSource = new MediaSource();\n                this._st = nowTime();\n                onOpen = function onOpen2() {\n                  var costtime = nowTime() - _this5._st;\n                  _this5._logger.debug(\"MSE OPEN\");\n                  ms.removeEventListener(\"sourceopen\", onOpen2);\n                  URL.revokeObjectURL(media.src);\n                  _this5._openPromise.resolve({\n                    costtime\n                  });\n                };\n                ms.addEventListener(\"sourceopen\", onOpen);\n                this._url = URL.createObjectURL(ms);\n                media.src = this._url;\n                return _context.abrupt(\"return\", this._openPromise);\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function bindMedia(_x) {\n        return _bindMedia.apply(this, arguments);\n      }\n      return bindMedia;\n    }()\n  }, {\n    key: \"unbindMedia\",\n    value: function() {\n      var _unbindMedia = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var ms, hasMetadata, mseOpen;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._openPromise.used)\n                  this._openPromise.resolve();\n                ms = this.mediaSource;\n                if (ms) {\n                  Object.keys(this._queue).forEach(function(t) {\n                    var queue = _this6._queue[t];\n                    if (queue) {\n                      queue.forEach(function(x) {\n                        var _x$promise, _x$promise$resolve;\n                        return (_x$promise = x.promise) === null || _x$promise === void 0 ? void 0 : (_x$promise$resolve = _x$promise.resolve) === null || _x$promise$resolve === void 0 ? void 0 : _x$promise$resolve.call(_x$promise);\n                      });\n                    }\n                  });\n                  hasMetadata = !!this.media && this.media.readyState >= 1;\n                  mseOpen = ms.readyState === \"open\";\n                  if (hasMetadata && mseOpen) {\n                    try {\n                      ms.endOfStream();\n                    } catch (error) {\n                    }\n                  }\n                  Object.keys(this._sourceBuffer).forEach(function(k) {\n                    try {\n                      ms.removeSourceBuffer(_this6._sourceBuffer[k]);\n                    } catch (error) {\n                    }\n                  });\n                }\n                if (this.media) {\n                  this.media.removeAttribute(\"src\");\n                  try {\n                    this.media.load();\n                  } catch (error) {\n                  }\n                  this.media = null;\n                }\n                this.mediaSource = null;\n                this._openPromise = createPublicPromise();\n                this._queue = /* @__PURE__ */ Object.create(null);\n                this._sourceBuffer = /* @__PURE__ */ Object.create(null);\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function unbindMedia() {\n        return _unbindMedia.apply(this, arguments);\n      }\n      return unbindMedia;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(type, mimeType) {\n      if (this._sourceBuffer[type] || !this.mediaSource)\n        return;\n      var sb;\n      try {\n        sb = this._sourceBuffer[type] = this.mediaSource.addSourceBuffer(mimeType);\n      } catch (error) {\n        throw new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_ADD_SB, error);\n      }\n      sb.mimeType = mimeType;\n      sb.addEventListener(\"updateend\", this._onSBUpdateEnd.bind(this, type));\n      sb.addEventListener(\"error\", this._onSBUpdateError.bind(this, type));\n    }\n  }, {\n    key: \"changeType\",\n    value: function changeType(type, mimeType) {\n      var _this7 = this;\n      var sb = this._sourceBuffer[type];\n      if (!this.mediaSource || !sb || sb.mimeType === mimeType)\n        return Promise.resolve();\n      if (typeof sb.changeType !== \"function\")\n        return Promise.reject();\n      return this._enqueueOp(type, function() {\n        sb.changeType(mimeType);\n        sb.mimeType = mimeType;\n        _this7._onSBUpdateEnd(type);\n      }, \"changeType\", {\n        mimeType\n      });\n    }\n  }, {\n    key: \"createOrChangeSource\",\n    value: function createOrChangeSource(type, mimeType) {\n      this.createSource(type, mimeType);\n      return this.changeType(type, mimeType);\n    }\n  }, {\n    key: \"append\",\n    value: function append(type, buffer, context) {\n      var _this8 = this;\n      if (!buffer || !buffer.byteLength) {\n        return Promise.resolve();\n      }\n      if (!this._sourceBuffer[type])\n        return Promise.resolve();\n      return this._enqueueOp(type, function() {\n        var _this8$_sourceBuffer$;\n        if (!_this8.mediaSource || _this8.media.error)\n          return;\n        _this8._logger.debug(\"MSE APPEND START\", context);\n        _this8._opst = nowTime();\n        (_this8$_sourceBuffer$ = _this8._sourceBuffer[type]) === null || _this8$_sourceBuffer$ === void 0 ? void 0 : _this8$_sourceBuffer$.appendBuffer(buffer);\n      }, OP_NAME.APPEND, context);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, startTime, endTime, context) {\n      var _this9 = this;\n      var isInsertHead = false;\n      if (this._mseFullFlag[type]) {\n        isInsertHead = true;\n      }\n      return this._enqueueOp(type, function() {\n        if (!_this9.mediaSource || _this9.media.error)\n          return;\n        var sb = _this9._sourceBuffer[type];\n        if (startTime >= endTime || !sb) {\n          _this9._onSBUpdateEnd(type);\n          return;\n        }\n        _this9._opst = nowTime();\n        _this9._logger.debug(\"MSE REMOVE START\", type, startTime, endTime, context);\n        sb.remove(startTime, endTime);\n      }, OP_NAME.REMOVE, context, isInsertHead);\n    }\n  }, {\n    key: \"clearBuffer\",\n    value: function clearBuffer(startTime, endTime) {\n      var _this10 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        p = _this10.remove(k, startTime, endTime);\n      });\n      return p || Promise.resolve();\n    }\n  }, {\n    key: \"clearAllBuffer\",\n    value: function clearAllBuffer() {\n      var _this11 = this;\n      var p;\n      Object.keys(this._sourceBuffer).forEach(function(k) {\n        var sb = _this11._sourceBuffer[k];\n        p = _this11.remove(k, 0, Buffer.end(Buffer.get(sb)));\n      });\n      return p;\n    }\n  }, {\n    key: \"clearOpQueues\",\n    value: function clearOpQueues(type, allClear) {\n      var _this$_queue$type;\n      this._logger.debug(\"MSE clearOpQueue START\");\n      var queue = this._queue[type];\n      if (allClear && queue) {\n        this._queue[type] = [];\n        return;\n      }\n      if (!queue || !queue[type] || queue.length < 5)\n        return;\n      var initOpque = [];\n      queue.forEach(function(op) {\n        if (op.context && op.context.isinit) {\n          initOpque.push(op);\n        }\n      });\n      this._queue[type] = queue.slice(0, 2);\n      initOpque.length > 0 && (_this$_queue$type = this._queue[type]).push.apply(_this$_queue$type, initOpque);\n    }\n  }, {\n    key: \"endOfStream\",\n    value: function endOfStream(reason) {\n      var _this12 = this;\n      if (!this.mediaSource || this.mediaSource.readyState !== \"open\")\n        return Promise.resolve();\n      return this._enqueueBlockingOp(function() {\n        var ms = _this12.mediaSource;\n        if (!ms || ms.readyState !== \"open\")\n          return;\n        _this12._logger.debug(\"MSE endOfStream START\");\n        if (reason) {\n          ms.endOfStream(reason);\n        } else {\n          ms.endOfStream();\n        }\n      }, \"endOfStream\");\n    }\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function setLiveSeekableRange(start, end) {\n      var ms = this.mediaSource;\n      if (start < 0 || end < start || !(ms !== null && ms !== void 0 && ms.setLiveSeekableRange) || ms.readyState !== \"open\")\n        return;\n      ms.setLiveSeekableRange(start, end);\n    }\n  }, {\n    key: \"getSourceBuffer\",\n    value: function getSourceBuffer(type) {\n      return this._sourceBuffer[type];\n    }\n  }, {\n    key: \"buffered\",\n    value: function buffered(type) {\n      return Buffer.get(this._sourceBuffer[type]);\n    }\n  }, {\n    key: \"bufferStart\",\n    value: function bufferStart(type) {\n      return Buffer.start(this.buffered(type));\n    }\n  }, {\n    key: \"bufferEnd\",\n    value: function bufferEnd(type) {\n      return Buffer.end(this.buffered(type));\n    }\n  }, {\n    key: \"_enqueueOp\",\n    value: function _enqueueOp(type, exec, opName, context, isInsertHead) {\n      var _this13 = this;\n      if (!this.mediaSource)\n        return Promise.resolve();\n      var queue = this._queue[type] = this._queue[type] || [];\n      var op = {\n        exec,\n        promise: createPublicPromise(),\n        opName,\n        context\n      };\n      if (isInsertHead) {\n        queue.splice(0, 0, op);\n        this._mseFullFlag[type] = false;\n        this._startQueue(type);\n      } else {\n        queue.push(op);\n      }\n      if (this.isOpened || this.isEnded) {\n        if (queue.length === 1) {\n          this._startQueue(type);\n        }\n      } else {\n        this._openPromise.then(function() {\n          if (queue.length === 1) {\n            _this13._startQueue(type);\n          }\n        });\n      }\n      return op.promise;\n    }\n  }, {\n    key: \"_enqueueBlockingOp\",\n    value: function() {\n      var _enqueueBlockingOp2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(exec, opName, context) {\n        var _this14 = this;\n        var types, waiters;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.mediaSource) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\", Promise.resolve());\n              case 2:\n                types = Object.keys(this._sourceBuffer);\n                if (types.length) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\", exec());\n              case 5:\n                waiters = [];\n                types.forEach(function(t) {\n                  var queue = _this14._queue[t];\n                  var prom = createPublicPromise();\n                  waiters.push(prom);\n                  queue.push({\n                    exec: function exec2() {\n                      prom.resolve();\n                    },\n                    promise: prom,\n                    opName,\n                    context\n                  });\n                  if (queue.length === 1) {\n                    _this14._startQueue(t);\n                  }\n                });\n                return _context3.abrupt(\"return\", Promise.all(waiters).then(function() {\n                  try {\n                    return exec();\n                  } finally {\n                    types.forEach(function(t) {\n                      var queue = _this14._queue[t];\n                      var sb = _this14._sourceBuffer[t];\n                      queue === null || queue === void 0 ? void 0 : queue.shift();\n                      if (!sb || !sb.updating) {\n                        _this14._startQueue(t);\n                      }\n                    });\n                  }\n                }));\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _enqueueBlockingOp(_x2, _x3, _x4) {\n        return _enqueueBlockingOp2.apply(this, arguments);\n      }\n      return _enqueueBlockingOp;\n    }()\n  }, {\n    key: \"_startQueue\",\n    value: function _startQueue(type) {\n      var queue = this._queue[type];\n      if (queue) {\n        var op = queue[0];\n        if (op && !this._mseFullFlag[type]) {\n          try {\n            op.exec();\n          } catch (error) {\n            if (error && error.message && error.message.indexOf(\"SourceBuffer is full\") >= 0) {\n              this._mseFullFlag[type] = true;\n              this._logger.error(\"[MSE error],  context,\", op.context, \" ,name,\", op.opName, \",err,SourceBuffer is full\");\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_FULL, error));\n            } else {\n              this._logger.error(error);\n              op.promise.reject(new StreamingError(ERR.MEDIA, ERR.SUB_TYPES.MSE_OTHER, error));\n              queue.shift();\n              this._startQueue(type);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeoffset\",\n    value: function setTimeoffset(type, timestampOffset, context) {\n      var _this15 = this;\n      return this._enqueueOp(type, function() {\n        if (timestampOffset < 0) {\n          timestampOffset += 1e-3;\n        }\n        _this15._sourceBuffer[type].timestampOffset = timestampOffset;\n        _this15._onSBUpdateEnd(type);\n      }, \"setTimeoffset\", context);\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(type, context) {\n      var _this16 = this;\n      if (!this.isOpened) {\n        return Promise.resolve();\n      }\n      return this._enqueueOp(type, function() {\n        _this16._sourceBuffer[type].abort();\n        _this16._onSBUpdateEnd(type);\n      }, \"abort\", context);\n    }\n  }], [{\n    key: \"getDefaultConfig\",\n    value: function getDefaultConfig() {\n      return {\n        openLog: false\n      };\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n      if (!MediaSource)\n        return false;\n      try {\n        return MediaSource.isTypeSupported(mime);\n      } catch (error) {\n        this._logger.error(mime, error);\n        return false;\n      }\n    }\n  }]);\n  return MSE2;\n}();\n_defineProperty(MSE, \"VIDEO\", \"video\");\n_defineProperty(MSE, \"AUDIO\", \"audio\");\nexport { MSE, MSEError, MSEErrorType };\n","function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s, _e, _x, _r, _arr = [], _n = true, _d = false;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i)\n          return;\n        _n = false;\n      } else\n        for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = true)\n          ;\n    } catch (err) {\n      _d = true, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r))\n          return;\n      } finally {\n        if (_d)\n          throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr))\n    return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _nonIterableSpread as nonIterableSpread, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _slicedToArray as slicedToArray, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n  }\n  _createClass(Logger2, [{\n    key: \"warn\",\n    value: function warn() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).warn.apply(_console, [this._prefix].concat(args));\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","var TrackType = {\n  VIDEO: \"video\",\n  AUDIO: \"audio\",\n  METADATA: \"metadata\"\n};\nvar VideoCodecType = {\n  AVC: \"avc\",\n  HEVC: \"hevc\"\n};\nvar AudioCodecType = {\n  AAC: \"aac\",\n  G711PCMA: \"g7110a\",\n  G711PCMU: \"g7110m\"\n};\nvar WarningType = {\n  LARGE_AV_SHIFT: \"LARGE_AV_SHIFT\",\n  LARGE_VIDEO_GAP: \"LARGE_VIDEO_GAP\",\n  LARGE_VIDEO_GAP_BETWEEN_CHUNK: \"LARGE_VIDEO_GAP_BETWEEN_CHUNK\",\n  LARGE_AUDIO_GAP: \"LARGE_AUDIO_GAP\",\n  AUDIO_FILLED: \"AUDIO_FILLED\",\n  AUDIO_DROPPED: \"AUDIO_DROPPED\"\n};\nexport { AudioCodecType, TrackType, VideoCodecType, WarningType };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar AudioSample = /* @__PURE__ */ _createClass(\n  function AudioSample2(pts, data, duration, sampleOffset) {\n    _classCallCheck(this, AudioSample2);\n    _defineProperty(this, \"duration\", 1024);\n    _defineProperty(this, \"flag\", {\n      dependsOn: 2,\n      isNonSyncSample: 0\n    });\n    _defineProperty(this, \"keyframe\", true);\n    this.originPts = this.pts = this.dts = pts;\n    this.data = data;\n    this.size = data.byteLength;\n    this.sampleOffset = sampleOffset;\n    if (duration)\n      this.duration = duration;\n  }\n);\nexport { AudioSample };\n","var isBrowser = typeof window !== \"undefined\";\nvar ua = isBrowser && navigator.userAgent.toLocaleLowerCase();\nvar isSafari = isBrowser && /^((?!chrome|android).)*safari/.test(ua);\nvar isFirefox = isBrowser && ua.includes(\"firefox\");\nvar isAndroid = isBrowser && ua.includes(\"android\");\nexport { isAndroid, isBrowser, isFirefox, isSafari };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../utils/logger.js\";\nimport { isFirefox, isAndroid } from \"../utils/env.js\";\nvar AAC = /* @__PURE__ */ function() {\n  function AAC2() {\n    _classCallCheck(this, AAC2);\n  }\n  _createClass(AAC2, null, [{\n    key: \"getRateIndexByRate\",\n    value: function getRateIndexByRate(rate) {\n      return AAC2.FREQ.indexOf(rate);\n    }\n  }, {\n    key: \"parseADTS\",\n    value: function parseADTS(data, pts) {\n      var len = data.length;\n      var i = 0;\n      while (i + 2 < len) {\n        if (data[i] === 255 && (data[i + 1] & 246) === 240) {\n          break;\n        }\n        i++;\n      }\n      if (i >= len)\n        return;\n      var skip = i;\n      var frames = [];\n      var samplingFrequencyIndex = (data[i + 2] & 60) >>> 2;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        throw new Error(\"Invalid sampling index: \".concat(samplingFrequencyIndex));\n      var objectType = ((data[i + 2] & 192) >>> 6) + 1;\n      var channelCount = (data[i + 2] & 1) << 2 | (data[i + 3] & 192) >>> 6;\n      var _AAC$_getConfig = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig.config, codec = _AAC$_getConfig.codec;\n      var protectionSkipBytes;\n      var frameLength;\n      var frameIndex = 0;\n      var duration = AAC2.getFrameDuration(sampleRate);\n      while (i + 7 < len) {\n        if (data[i] !== 255 || (data[i + 1] & 246) !== 240) {\n          i++;\n          continue;\n        }\n        frameLength = (data[i + 3] & 3) << 11 | data[i + 4] << 3 | (data[i + 5] & 224) >> 5;\n        if (len - i < frameLength)\n          break;\n        protectionSkipBytes = (~data[i + 1] & 1) * 2;\n        frames.push({\n          pts: pts + frameIndex * duration,\n          data: data.subarray(i + 7 + protectionSkipBytes, i + frameLength)\n        });\n        frameIndex++;\n        i += frameLength;\n      }\n      return {\n        skip,\n        remaining: i >= len ? void 0 : data.subarray(i),\n        frames,\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        codec,\n        config,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"parseAudioSpecificConfig\",\n    value: function parseAudioSpecificConfig(data) {\n      if (!data.length)\n        return;\n      var objectType = data[0] >>> 3;\n      var samplingFrequencyIndex = (data[0] & 7) << 1 | data[1] >>> 7;\n      var channelCount = (data[1] & 120) >>> 3;\n      var sampleRate = AAC2.FREQ[samplingFrequencyIndex];\n      if (!sampleRate)\n        return;\n      var _AAC$_getConfig2 = AAC2._getConfig(samplingFrequencyIndex, channelCount, objectType), config = _AAC$_getConfig2.config, codec = _AAC$_getConfig2.codec;\n      return {\n        samplingFrequencyIndex,\n        sampleRate,\n        objectType,\n        channelCount,\n        config,\n        codec,\n        originCodec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getFrameDuration\",\n    value: function getFrameDuration(rate) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      return 1024 * timescale / rate;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig(samplingIndex, channelCount, originObjectType) {\n      var config = [];\n      var objectType;\n      var extensionSamplingIndex;\n      if (isFirefox) {\n        if (samplingIndex >= 6) {\n          objectType = 5;\n          extensionSamplingIndex = samplingIndex - 3;\n        } else {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      } else if (isAndroid) {\n        objectType = 2;\n        extensionSamplingIndex = samplingIndex;\n      } else {\n        objectType = originObjectType === 2 || originObjectType === 5 ? originObjectType : 5;\n        extensionSamplingIndex = samplingIndex;\n        if (samplingIndex >= 6) {\n          extensionSamplingIndex = samplingIndex - 3;\n        } else if (channelCount === 1) {\n          objectType = 2;\n          extensionSamplingIndex = samplingIndex;\n        }\n      }\n      config[0] = objectType << 3;\n      config[0] |= (samplingIndex & 14) >> 1;\n      config[1] = (samplingIndex & 1) << 7;\n      config[1] |= channelCount << 3;\n      if (objectType === 5) {\n        config[1] |= (extensionSamplingIndex & 14) >> 1;\n        config[2] = (extensionSamplingIndex & 1) << 7;\n        config[2] |= 2 << 2;\n        config[3] = 0;\n      }\n      return {\n        config,\n        codec: \"mp4a.40.\".concat(objectType)\n      };\n    }\n  }, {\n    key: \"getSilentFrame\",\n    value: function getSilentFrame(codec, channelCount) {\n      switch (codec) {\n        case \"mp4a.40.2\":\n          if (channelCount === 1) {\n            return new Uint8Array([0, 200, 0, 128, 35, 128]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);\n          }\n          if (channelCount === 4) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);\n          }\n          if (channelCount === 5) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);\n          }\n          if (channelCount === 6) {\n            return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);\n          }\n          break;\n        default:\n          if (channelCount === 1) {\n            return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 2) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          if (channelCount === 3) {\n            return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);\n          }\n          break;\n      }\n    }\n  }]);\n  return AAC2;\n}();\n_defineProperty(AAC, \"FREQ\", [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]);\nexport { AAC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType } from \"../model/types.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport \"../utils/logger.js\";\nimport { isSafari } from \"../utils/env.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar LARGE_AV_FIRST_FRAME_GAP = 9e4 / 2;\nvar AUDIO_GAP_OVERLAP_THRESHOLD_COUNT = 3;\nvar MAX_SILENT_FRAME_DURATION = 9e4;\nvar AUDIO_EXCETION_LOG_EMIT_DURATION = 5 * 9e4;\nvar MAX_VIDEO_FRAME_DURATION = 9e4;\nvar MAX_DTS_DELTA_WITH_NEXT_CHUNK = 9e4 / 2;\nvar TsFixer = /* @__PURE__ */ function() {\n  function TsFixer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsFixer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    this.metadataTrack = metadataTrack;\n    this._baseDts = -1;\n    this._baseDtsInited = false;\n    this._audioNextPts = void 0;\n    this._videoNextDts = void 0;\n    this._audioTimestampBreak = false;\n    this._videoTimestampBreak = false;\n    this._lastAudioExceptionGapDot = 0;\n    this._lastAudioExceptionOverlapDot = 0;\n    this._lastAudioExceptionLargeGapDot = 0;\n  }\n  _createClass(TsFixer2, [{\n    key: \"fix\",\n    value: function fix() {\n      var _this = this;\n      var startTime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      startTime = Math.round(startTime * 9e4);\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var vSamples = videoTrack.samples;\n      var aSamples = audioTrack.samples;\n      if (!vSamples.length && !aSamples.length)\n        return;\n      var firstVideoSample = vSamples[0];\n      var firstAudioSample = aSamples[0];\n      var vaDelta = 0;\n      if (vSamples.length && aSamples.length) {\n        vaDelta = firstVideoSample.dts - firstAudioSample.pts;\n      }\n      if (!this._baseDtsInited) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n      }\n      if (discontinuity) {\n        this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        this._baseDts -= startTime;\n      }\n      if (!contiguous) {\n        this._videoNextDts = vaDelta > 0 ? startTime + vaDelta : startTime;\n        this._audioNextPts = vaDelta > 0 ? startTime : startTime - vaDelta;\n        var vDeltaToNextDts = firstVideoSample ? firstVideoSample.dts - this._baseDts - this._videoNextDts : 0;\n        var aDeltaToNextDts = firstAudioSample ? firstAudioSample.pts - this._baseDts - this._audioNextPts : 0;\n        if (Math.abs(vDeltaToNextDts || aDeltaToNextDts) > MAX_VIDEO_FRAME_DURATION) {\n          this._calculateBaseDts(this.audioTrack, this.videoTrack);\n          this._baseDts -= startTime;\n        }\n      }\n      this._resetBaseDtsWhenStreamBreaked();\n      this._fixAudio(audioTrack);\n      this._fixVideo(videoTrack);\n      if (this.metadataTrack.exist()) {\n        var timescale = this.metadataTrack.timescale;\n        this.metadataTrack.seiSamples.forEach(function(s) {\n          s.pts = s.originPts - _this._baseDts;\n          s.time = Math.max(0, s.pts) / timescale;\n        });\n      }\n      if (videoTrack.samples.length) {\n        videoTrack.baseMediaDecodeTime = videoTrack.samples[0].dts;\n      }\n      if (audioTrack.samples.length) {\n        audioTrack.baseMediaDecodeTime = audioTrack.samples[0].pts * audioTrack.timescale / 9e4;\n      }\n    }\n  }, {\n    key: \"_fixVideo\",\n    value: function _fixVideo(videoTrack) {\n      var _this2 = this;\n      var samples = videoTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.dts -= _this2._baseDts;\n        x.pts -= _this2._baseDts;\n      });\n      if (this._videoNextDts === void 0) {\n        var samp0 = samples[0];\n        this._videoNextDts = samp0.dts;\n      }\n      var len = samples.length;\n      var sampleDuration = 0;\n      var firstSample = samples[0];\n      var nextSample = samples[1];\n      var vDelta = this._videoNextDts - firstSample.dts;\n      if (Math.abs(vDelta) > MAX_DTS_DELTA_WITH_NEXT_CHUNK) {\n        var _samples$;\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK,\n          nextDts: this._videoNextDts / 90,\n          firstSampleDts: firstSample.dts / 90,\n          nextSampleDts: (((_samples$ = samples[1]) === null || _samples$ === void 0 ? void 0 : _samples$.dts) || 0) / 90,\n          sampleDuration: vDelta / 90\n        });\n        firstSample.dts += vDelta;\n        firstSample.pts += vDelta;\n        if (nextSample && Math.abs(nextSample.dts - firstSample.dts) > MAX_VIDEO_FRAME_DURATION) {\n          this._videoTimestampBreak = true;\n          samples.forEach(function(x, i2) {\n            if (i2 === 0)\n              return;\n            x.dts += vDelta;\n            x.pts += vDelta;\n          });\n        } else {\n          for (var i = 1; i < len - 1; i++) {\n            var _samples$i;\n            var dts = (_samples$i = samples[i]) === null || _samples$i === void 0 ? void 0 : _samples$i.dts;\n            var prevDts = samples[i - 1].dts;\n            if (dts && dts - prevDts < 0) {\n              samples[i].dts += vDelta;\n              samples[i].pts += vDelta;\n            }\n          }\n        }\n      }\n      var refSampleDurationInt;\n      if (videoTrack.fpsNum && videoTrack.fpsDen) {\n        refSampleDurationInt = videoTrack.timescale * (videoTrack.fpsDen / videoTrack.fpsNum);\n      } else {\n        var first = videoTrack.samples[0];\n        var second = videoTrack.samples[1];\n        refSampleDurationInt = len === 1 ? 9e3 : Math.floor(second.dts - first.dts);\n      }\n      for (var _i = 0; _i < len; _i++) {\n        var _dts = samples[_i].dts;\n        var _nextSample = samples[_i + 1];\n        if (_i < len - 1) {\n          sampleDuration = _nextSample.dts - _dts;\n        } else if (samples[_i - 1]) {\n          sampleDuration = Math.min(_dts - samples[_i - 1].dts, refSampleDurationInt);\n        } else {\n          sampleDuration = refSampleDurationInt;\n        }\n        if (sampleDuration > MAX_VIDEO_FRAME_DURATION || sampleDuration < 0) {\n          this._videoTimestampBreak = true;\n          sampleDuration = this._audioTimestampBreak ? refSampleDurationInt : Math.max(sampleDuration, 30 * 90);\n          var expectFragEnd = this._audioNextPts || 0;\n          if (_nextSample && _nextSample.dts > expectFragEnd) {\n            sampleDuration = refSampleDurationInt;\n          }\n          videoTrack.warnings.push({\n            type: WarningType.LARGE_VIDEO_GAP,\n            time: _dts / videoTrack.timescale,\n            dts: _dts,\n            originDts: samples[_i].originDts,\n            nextDts: this._videoNextDts,\n            sampleDuration,\n            refSampleDuration: refSampleDurationInt\n          });\n        }\n        samples[_i].duration = sampleDuration;\n        this._videoNextDts += sampleDuration;\n      }\n    }\n  }, {\n    key: \"_fixAudio\",\n    value: function _fixAudio(audioTrack) {\n      var _this3 = this;\n      var samples = audioTrack.samples;\n      if (!samples.length)\n        return;\n      samples.forEach(function(x) {\n        x.pts -= _this3._baseDts;\n        x.dts = x.pts;\n      });\n      this._doFixAudioInternal(audioTrack, samples, 9e4);\n    }\n  }, {\n    key: \"_calculateBaseDts\",\n    value: function _calculateBaseDts(audioTrack, videoTrack) {\n      var audioSamps = audioTrack.samples;\n      var videoSamps = videoTrack.samples;\n      if (!audioSamps.length && !videoSamps.length) {\n        return false;\n      }\n      var audioBasePts = Infinity;\n      var videoBaseDts = Infinity;\n      if (audioSamps.length) {\n        audioTrack.baseDts = audioBasePts = audioSamps[0].pts;\n      }\n      if (videoSamps.length) {\n        videoTrack.baseDts = videoBaseDts = videoSamps[0].dts;\n      }\n      this._baseDts = Math.min(audioBasePts, videoBaseDts);\n      var delta = videoBaseDts - audioBasePts;\n      if (Number.isFinite(delta) && Math.abs(delta) > LARGE_AV_FIRST_FRAME_GAP) {\n        videoTrack.warnings.push({\n          type: WarningType.LARGE_AV_SHIFT,\n          videoBaseDts,\n          audioBasePts,\n          baseDts: this._baseDts,\n          delta\n        });\n      }\n      this._baseDtsInited = true;\n      return true;\n    }\n  }, {\n    key: \"_resetBaseDtsWhenStreamBreaked\",\n    value: function _resetBaseDtsWhenStreamBreaked() {\n      if (this._baseDtsInited && this._videoTimestampBreak && this._audioTimestampBreak) {\n        var calc = this._calculateBaseDts(this.audioTrack, this.videoTrack);\n        if (!calc)\n          return;\n        this._baseDts -= Math.min(this._audioNextPts, this._videoNextDts);\n        this._audioLastSample = null;\n        this._videoLastSample = null;\n        this._videoTimestampBreak = false;\n        this._audioTimestampBreak = false;\n      }\n    }\n  }, {\n    key: \"_doFixAudioInternal\",\n    value: function _doFixAudioInternal(audioTrack, samples, timescale) {\n      if (!audioTrack.sampleDuration)\n        audioTrack.sampleDuration = AAC.getFrameDuration(audioTrack.timescale, timescale);\n      var refSampleDuration = audioTrack.sampleDuration;\n      if (this._audioNextPts === void 0) {\n        var samp0 = samples[0];\n        this._audioNextPts = samp0.pts;\n      }\n      for (var i = 0; i < samples.length; i++) {\n        var nextPts = this._audioNextPts;\n        var sample = samples[i];\n        var delta = sample.pts - nextPts;\n        if (!this._audioTimestampBreak && delta >= AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta <= MAX_SILENT_FRAME_DURATION && !isSafari) {\n          var silentFrame = AAC.getSilentFrame(audioTrack.codec, audioTrack.channelCount) || samples[0].data.subarray();\n          var count = Math.floor(delta / refSampleDuration);\n          if (Math.abs(sample.pts - this._lastAudioExceptionGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionGapDot = sample.pts;\n          }\n          audioTrack.warnings.push({\n            type: WarningType.AUDIO_FILLED,\n            pts: sample.pts,\n            originPts: sample.originPts,\n            count,\n            nextPts,\n            refSampleDuration\n          });\n          for (var j = 0; j < count; j++) {\n            var silentSample = new AudioSample(Math.floor(nextPts), silentFrame);\n            silentSample.originPts = Math.floor(this._baseDts + nextPts);\n            samples.splice(i, 0, silentSample);\n            this._audioNextPts += refSampleDuration;\n            i++;\n          }\n          i--;\n        } else if (delta <= -AUDIO_GAP_OVERLAP_THRESHOLD_COUNT * refSampleDuration && delta >= -1 * MAX_SILENT_FRAME_DURATION) {\n          if (Math.abs(sample.pts - this._lastAudioExceptionOverlapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n            this._lastAudioExceptionOverlapDot = sample.pts;\n            audioTrack.warnings.push({\n              type: WarningType.AUDIO_DROPPED,\n              pts: sample.pts,\n              originPts: sample.originPts,\n              nextPts,\n              refSampleDuration\n            });\n          }\n          samples.splice(i, 1);\n          i--;\n        } else {\n          if (Math.abs(delta) >= MAX_SILENT_FRAME_DURATION) {\n            this._audioTimestampBreak = true;\n            if (Math.abs(sample.pts - this._lastAudioExceptionLargeGapDot) > AUDIO_EXCETION_LOG_EMIT_DURATION) {\n              this._lastAudioExceptionLargeGapDot = sample.pts;\n              audioTrack.warnings.push({\n                type: WarningType.LARGE_AUDIO_GAP,\n                time: sample.pts / 1e3,\n                pts: sample.pts,\n                originPts: sample.originPts,\n                nextPts,\n                sampleDuration: delta,\n                refSampleDuration\n              });\n            }\n          }\n          sample.dts = sample.pts = nextPts;\n          this._audioNextPts += refSampleDuration;\n        }\n      }\n    }\n  }]);\n  return TsFixer2;\n}();\nexport { TsFixer };\n","export { Logger } from \"./logger.js\";\nexport { isAndroid, isBrowser, isFirefox, isSafari } from \"./env.js\";\nfunction concatUint8Array() {\n  for (var _len = arguments.length, arr = new Array(_len), _key = 0; _key < _len; _key++) {\n    arr[_key] = arguments[_key];\n  }\n  arr = arr.filter(Boolean);\n  var data = new Uint8Array(arr.reduce(function(p, c) {\n    return p + c.byteLength;\n  }, 0));\n  var prevLen = 0;\n  arr.forEach(function(d) {\n    data.set(d, prevLen);\n    prevLen += d.byteLength;\n  });\n  return data;\n}\nvar MAX_SIZE = Math.pow(2, 32);\nfunction readBig16(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 8) + (data[i + 1] || 0);\n}\nfunction readBig24(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 16) + (data[i + 1] << 8) + (data[i + 2] || 0);\n}\nfunction readBig32(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return (data[i] << 24 >>> 0) + (data[i + 1] << 16) + (data[i + 2] << 8) + (data[i + 3] || 0);\n}\nfunction readBig64(data) {\n  var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n  return readBig32(data, i) * MAX_SIZE + readBig32(data, i + 4);\n}\nfunction getAvcCodec(codecs) {\n  var codec = \"avc1.\";\n  var h;\n  for (var i = 0; i < 3; i++) {\n    h = codecs[i].toString(16);\n    if (h.length < 2)\n      h = \"0\".concat(h);\n    codec += h;\n  }\n  return codec;\n}\nfunction formatIV(arr) {\n  var iv = \"\";\n  arr.forEach(function(value) {\n    iv += bufferToString(value);\n  });\n  if (iv.length <= 32) {\n    var len = 32 - iv.length;\n    for (var i = 0; i < len; i++) {\n      iv += \"0\";\n    }\n  }\n  return iv;\n}\nfunction parse(a) {\n  if (!Array.isArray(a)) {\n    var arr = [];\n    var value = \"\";\n    for (var i = 0; i < a.length; i++) {\n      if (i % 2) {\n        value = a[i - 1] + a[i];\n        arr.push(parseInt(value, 16));\n        value = \"\";\n      }\n    }\n    return arr;\n  }\n  return a.map(function(item) {\n    return parseInt(item, 16);\n  });\n}\nfunction bufferToString(value) {\n  return (\"0\" + Number(value).toString(16)).slice(-2).toUpperCase();\n}\nexport { MAX_SIZE, concatUint8Array, formatIV, getAvcCodec, parse, readBig16, readBig24, readBig32, readBig64 };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { readBig32 } from \"../utils/index.js\";\nvar NALu = /* @__PURE__ */ function() {\n  function NALu2() {\n    _classCallCheck(this, NALu2);\n  }\n  _createClass(NALu2, null, [{\n    key: \"parseAnnexB\",\n    value: function parseAnnexB(data) {\n      var len = data.length;\n      var start = 2;\n      var end = 0;\n      while (data[start] !== null && data[start] !== void 0 && data[start] !== 1) {\n        start++;\n      }\n      start++;\n      end = start + 2;\n      if (end >= len)\n        return [];\n      var units = [];\n      while (end < len) {\n        switch (data[end]) {\n          case 0:\n            if (data[end - 1] !== 0) {\n              end += 2;\n              break;\n            } else if (data[end - 2] !== 0) {\n              end++;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            do {\n              end++;\n            } while (data[end] !== 1 && end < len);\n            start = end + 1;\n            end = start + 2;\n            break;\n          case 1:\n            if (data[end - 1] !== 0 || data[end - 2] !== 0) {\n              end += 3;\n              break;\n            }\n            if (start !== end - 2)\n              units.push(data.subarray(start, end - 2));\n            start = end + 1;\n            end = start + 2;\n            break;\n          default:\n            end += 3;\n            break;\n        }\n      }\n      if (start < len)\n        units.push(data.subarray(start));\n      return units;\n    }\n  }, {\n    key: \"parseAvcC\",\n    value: function parseAvcC(data) {\n      var size = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 4;\n      if (data.length < 4)\n        return;\n      var dataLen = data.length;\n      var units = [];\n      var offset = 0;\n      var length;\n      while (offset + size < dataLen) {\n        length = readBig32(data, offset);\n        if (size === 3)\n          length >>>= 8;\n        offset += size;\n        if (!length)\n          continue;\n        if (offset + length > dataLen) {\n          break;\n        }\n        units.push(data.subarray(offset, offset + length));\n        offset += length;\n      }\n      return units;\n    }\n  }, {\n    key: \"parseSEI\",\n    value: function parseSEI(unit, isHevc) {\n      var len = unit.length;\n      var i = isHevc ? 2 : 1;\n      var type = 0;\n      var size = 0;\n      var uuid = \"\";\n      while (unit[i] === 255) {\n        type += 255;\n        i++;\n      }\n      type += unit[i++];\n      while (unit[i] === 255) {\n        size += 255;\n        i++;\n      }\n      size += unit[i++];\n      if (type === 5 && len > i + 16) {\n        for (var j = 0; j < 16; j++) {\n          uuid += unit[i].toString(16);\n          i++;\n        }\n      }\n      return {\n        payload: unit.subarray(i, i + size),\n        type,\n        size,\n        uuid\n      };\n    }\n  }, {\n    key: \"removeEPB\",\n    value: function removeEPB(uint) {\n      var length = uint.byteLength;\n      var emulationPreventionBytesPositions = [];\n      var i = 1;\n      while (i < length - 2) {\n        if (uint[i] === 0 && uint[i + 1] === 0 && uint[i + 2] === 3) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      }\n      if (!emulationPreventionBytesPositions.length)\n        return uint;\n      var newLength = length - emulationPreventionBytesPositions.length;\n      var newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          sourceIndex++;\n          emulationPreventionBytesPositions.shift();\n        }\n        newData[i] = uint[sourceIndex];\n      }\n      return newData;\n    }\n  }]);\n  return NALu2;\n}();\nexport { NALu };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar ExpGolomb = /* @__PURE__ */ function() {\n  function ExpGolomb2(data) {\n    _classCallCheck(this, ExpGolomb2);\n    _defineProperty(this, \"_bytesAvailable\", void 0);\n    _defineProperty(this, \"_bitsAvailable\", 0);\n    _defineProperty(this, \"_word\", 0);\n    if (!data)\n      throw new Error(\"ExpGolomb data params is required\");\n    this._data = data;\n    this._bytesAvailable = data.byteLength;\n    if (this._bytesAvailable)\n      this._loadWord();\n  }\n  _createClass(ExpGolomb2, [{\n    key: \"_loadWord\",\n    value: function _loadWord() {\n      var position = this._data.byteLength - this._bytesAvailable;\n      var availableBytes = Math.min(4, this._bytesAvailable);\n      if (availableBytes === 0)\n        throw new Error(\"No bytes available\");\n      var workingBytes = new Uint8Array(4);\n      workingBytes.set(this._data.subarray(position, position + availableBytes));\n      this._word = new DataView(workingBytes.buffer).getUint32(0);\n      this._bitsAvailable = availableBytes * 8;\n      this._bytesAvailable -= availableBytes;\n    }\n  }, {\n    key: \"skipBits\",\n    value: function skipBits(count) {\n      if (this._bitsAvailable > count) {\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      } else {\n        count -= this._bitsAvailable;\n        var skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        this._bytesAvailable -= skipBytes;\n        this._loadWord();\n        this._word <<= count;\n        this._bitsAvailable -= count;\n      }\n    }\n  }, {\n    key: \"readBits\",\n    value: function readBits(size) {\n      if (size > 32) {\n        throw new Error(\"Cannot read more than 32 bits\");\n      }\n      var bits = Math.min(this._bitsAvailable, size);\n      var val = this._word >>> 32 - bits;\n      this._bitsAvailable -= bits;\n      if (this._bitsAvailable > 0) {\n        this._word <<= bits;\n      } else if (this._bytesAvailable > 0) {\n        this._loadWord();\n      }\n      bits = size - bits;\n      if (bits > 0 && this._bitsAvailable) {\n        return val << bits | this.readBits(bits);\n      }\n      return val;\n    }\n  }, {\n    key: \"skipLZ\",\n    value: function skipLZ() {\n      var leadingZeroCount;\n      for (leadingZeroCount = 0; leadingZeroCount < this._bitsAvailable; ++leadingZeroCount) {\n        if ((this._word & 2147483648 >>> leadingZeroCount) !== 0) {\n          this._word <<= leadingZeroCount;\n          this._bitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      }\n      this._loadWord();\n      return leadingZeroCount + this.skipLZ();\n    }\n  }, {\n    key: \"skipUEG\",\n    value: function skipUEG() {\n      this.skipBits(1 + this.skipLZ());\n    }\n  }, {\n    key: \"readUEG\",\n    value: function readUEG() {\n      var clz = this.skipLZ();\n      return this.readBits(clz + 1) - 1;\n    }\n  }, {\n    key: \"readEG\",\n    value: function readEG() {\n      var val = this.readUEG();\n      if (1 & val) {\n        return 1 + val >>> 1;\n      }\n      return -1 * (val >>> 1);\n    }\n  }, {\n    key: \"readBool\",\n    value: function readBool() {\n      return this.readBits(1) === 1;\n    }\n  }, {\n    key: \"readUByte\",\n    value: function readUByte() {\n      return this.readBits(8);\n    }\n  }, {\n    key: \"skipScalingList\",\n    value: function skipScalingList(count) {\n      var lastScale = 8;\n      var nextScale = 8;\n      var deltaScale;\n      for (var j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = this.readEG();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    }\n  }]);\n  return ExpGolomb2;\n}();\nexport { ExpGolomb };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { getAvcCodec } from \"../utils/index.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nvar AVC = /* @__PURE__ */ function() {\n  function AVC2() {\n    _classCallCheck(this, AVC2);\n  }\n  _createClass(AVC2, null, [{\n    key: \"parseAVCDecoderConfigurationRecord\",\n    value: function parseAVCDecoderConfigurationRecord(data) {\n      if (data.length < 7)\n        return;\n      var nalUnitSize = (data[4] & 3) + 1;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var offset = 6;\n      var spsCount = data[5] & 31;\n      var spsSize;\n      for (var i = 0; i < spsCount; i++) {\n        spsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!spsSize)\n          continue;\n        var sps = data.subarray(offset, offset + spsSize);\n        offset += spsSize;\n        spsArr.push(sps);\n        if (!spsParsed) {\n          spsParsed = AVC2.parseSPS(NALu.removeEPB(sps));\n        }\n      }\n      var ppsCount = data[offset];\n      offset++;\n      var ppsSize;\n      for (var _i = 0; _i < ppsCount; _i++) {\n        ppsSize = data[offset] << 8 | data[offset + 1];\n        offset += 2;\n        if (!ppsSize)\n          continue;\n        ppsArr.push(data.subarray(offset, offset + ppsSize));\n        offset += ppsSize;\n      }\n      return {\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      var profileIdc = eg.readUByte();\n      var profileCompatibility = eg.readUByte();\n      var levelIdc = eg.readUByte();\n      eg.skipUEG();\n      var chromaFormat = 420;\n      if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128 || profileIdc === 138 || profileIdc === 144) {\n        var chromaFormatIdc = eg.readUEG();\n        if (chromaFormatIdc <= 3)\n          chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n        if (chromaFormatIdc === 3)\n          eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        eg.skipBits(1);\n        if (eg.readBool()) {\n          var scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n          for (var i = 0; i < scalingListCount; i++) {\n            if (eg.readBool()) {\n              if (i < 6) {\n                eg.skipScalingList(16);\n              } else {\n                eg.skipScalingList(64);\n              }\n            }\n          }\n        }\n      }\n      eg.skipUEG();\n      var picOrderCntType = eg.readUEG();\n      if (picOrderCntType === 0) {\n        eg.readUEG();\n      } else if (picOrderCntType === 1) {\n        eg.skipBits(1);\n        eg.skipUEG();\n        eg.skipUEG();\n        var numRefFramesInPicOrderCntCycle = eg.readUEG();\n        for (var _i2 = 0; _i2 < numRefFramesInPicOrderCntCycle; _i2++) {\n          eg.skipUEG();\n        }\n      }\n      eg.skipUEG();\n      eg.skipBits(1);\n      var picWidthInMbsMinus1 = eg.readUEG();\n      var picHeightInMapUnitsMinus1 = eg.readUEG();\n      var frameMbsOnlyFlag = eg.readBits(1);\n      if (frameMbsOnlyFlag === 0)\n        eg.skipBits(1);\n      eg.skipBits(1);\n      var frameCropLeftOffset = 0;\n      var frameCropRightOffset = 0;\n      var frameCropTopOffset = 0;\n      var frameCropBottomOffset = 0;\n      if (eg.readBool()) {\n        frameCropLeftOffset = eg.readUEG();\n        frameCropRightOffset = eg.readUEG();\n        frameCropTopOffset = eg.readUEG();\n        frameCropBottomOffset = eg.readUEG();\n      }\n      var sarRatio;\n      var fixedFrame;\n      var fpsNum;\n      var fpsDen;\n      var fps;\n      if (eg.readBool()) {\n        if (eg.readBool()) {\n          var aspectRatioIdc = eg.readUByte();\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n            case 2:\n              sarRatio = [12, 11];\n              break;\n            case 3:\n              sarRatio = [10, 11];\n              break;\n            case 4:\n              sarRatio = [16, 11];\n              break;\n            case 5:\n              sarRatio = [40, 33];\n              break;\n            case 6:\n              sarRatio = [24, 11];\n              break;\n            case 7:\n              sarRatio = [20, 11];\n              break;\n            case 8:\n              sarRatio = [32, 11];\n              break;\n            case 9:\n              sarRatio = [80, 33];\n              break;\n            case 10:\n              sarRatio = [18, 11];\n              break;\n            case 11:\n              sarRatio = [15, 11];\n              break;\n            case 12:\n              sarRatio = [64, 33];\n              break;\n            case 13:\n              sarRatio = [160, 99];\n              break;\n            case 14:\n              sarRatio = [4, 3];\n              break;\n            case 15:\n              sarRatio = [3, 2];\n              break;\n            case 16:\n              sarRatio = [2, 1];\n              break;\n            case 255: {\n              sarRatio = [eg.readUByte() << 8 | eg.readUByte(), eg.readUByte() << 8 | eg.readUByte()];\n              break;\n            }\n          }\n        }\n        if (eg.readBool())\n          eg.readBool();\n        if (eg.readBool()) {\n          eg.readBits(4);\n          if (eg.readBool())\n            eg.readBits(24);\n        }\n        if (eg.readBool()) {\n          eg.readUEG();\n          eg.readUEG();\n        }\n        if (eg.readBool()) {\n          var numUnitsInTick = eg.readBits(32);\n          var timeScale = eg.readBits(32);\n          fixedFrame = eg.readBool();\n          fpsNum = timeScale;\n          fpsDen = numUnitsInTick * 2;\n          fps = fpsNum / fpsDen;\n        }\n      }\n      return {\n        codec: getAvcCodec(unit.subarray(1, 4)),\n        profileIdc,\n        profileCompatibility,\n        levelIdc,\n        chromaFormat,\n        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - 2 * (frameCropLeftOffset + frameCropRightOffset)),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),\n        sarRatio,\n        fpsNum,\n        fpsDen,\n        fps,\n        fixedFrame\n      };\n    }\n  }]);\n  return AVC2;\n}();\nexport { AVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NALu } from \"./nalu.js\";\nimport { ExpGolomb } from \"../utils/exp-golomb.js\";\nimport \"../utils/logger.js\";\nimport \"../utils/env.js\";\nvar HEVC = /* @__PURE__ */ function() {\n  function HEVC2() {\n    _classCallCheck(this, HEVC2);\n  }\n  _createClass(HEVC2, null, [{\n    key: \"parseHEVCDecoderConfigurationRecord\",\n    value: function parseHEVCDecoderConfigurationRecord(data) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (data.length < 23)\n        return;\n      hvcC = hvcC || {};\n      var nalUnitSize = (data[21] & 3) + 1;\n      var vpsParsed;\n      var spsParsed;\n      var spsArr = [];\n      var ppsArr = [];\n      var vpsArr = [];\n      var offset = 23;\n      var numOfArrays = data[22];\n      var nalUnitType;\n      var numNalus;\n      var nalSize;\n      for (var i = 0; i < numOfArrays; i++) {\n        nalUnitType = data[offset] & 63;\n        numNalus = data[offset + 1] << 8 | data[offset + 2];\n        offset += 3;\n        for (var j = 0; j < numNalus; j++) {\n          nalSize = data[offset] << 8 | data[offset + 1];\n          offset += 2;\n          if (!nalSize)\n            continue;\n          switch (nalUnitType) {\n            case 32:\n              {\n                var vps = data.subarray(offset, offset + nalSize);\n                if (!vpsParsed)\n                  vpsParsed = HEVC2.parseVPS(NALu.removeEPB(vps), hvcC);\n                vpsArr.push(vps);\n              }\n              break;\n            case 33:\n              {\n                var sps = data.subarray(offset, offset + nalSize);\n                if (!spsParsed)\n                  spsParsed = HEVC2.parseSPS(NALu.removeEPB(sps), hvcC);\n                spsArr.push(sps);\n              }\n              break;\n            case 34:\n              ppsArr.push(data.subarray(offset, offset + nalSize));\n              break;\n          }\n          offset += nalSize;\n        }\n      }\n      return {\n        hvcC,\n        sps: spsParsed,\n        spsArr,\n        ppsArr,\n        vpsArr,\n        nalUnitSize\n      };\n    }\n  }, {\n    key: \"parseVPS\",\n    value: function parseVPS(unit, hvcC) {\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(12);\n      var vpsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(hvcC.numTemporalLayers || 0, vpsMaxSubLayersMinus1 + 1);\n      eg.readBits(17);\n      HEVC2._parseProfileTierLevel(eg, vpsMaxSubLayersMinus1, hvcC);\n      return hvcC;\n    }\n  }, {\n    key: \"parseSPS\",\n    value: function parseSPS(unit) {\n      var hvcC = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      hvcC = hvcC || {};\n      var eg = new ExpGolomb(unit);\n      eg.readUByte();\n      eg.readUByte();\n      eg.readBits(4);\n      var spsMaxSubLayersMinus1 = eg.readBits(3);\n      hvcC.numTemporalLayers = Math.max(spsMaxSubLayersMinus1 + 1, hvcC.numTemporalLayers || 0);\n      hvcC.temporalIdNested = eg.readBits(1);\n      HEVC2._parseProfileTierLevel(eg, spsMaxSubLayersMinus1, hvcC);\n      eg.readUEG();\n      var chromaFormatIdc = hvcC.chromaFormatIdc = eg.readUEG();\n      var chromaFormat = 420;\n      if (chromaFormatIdc <= 3)\n        chromaFormat = [0, 420, 422, 444][chromaFormatIdc];\n      var separateColourPlaneFlag = 0;\n      if (chromaFormatIdc === 3) {\n        separateColourPlaneFlag = eg.readBits(1);\n      }\n      var width = eg.readUEG();\n      var height = eg.readUEG();\n      var conformanceWindowFlag = eg.readBits(1);\n      var confWinLeftOffset;\n      var confWinRightOffset;\n      var confWinTopOffset;\n      var confWinBottomOffset;\n      if (conformanceWindowFlag === 1) {\n        confWinLeftOffset = eg.readUEG();\n        confWinRightOffset = eg.readUEG();\n        confWinTopOffset = eg.readUEG();\n        confWinBottomOffset = eg.readUEG();\n      }\n      hvcC.bitDepthLumaMinus8 = eg.readUEG();\n      hvcC.bitDepthChromaMinus8 = eg.readUEG();\n      if (conformanceWindowFlag === 1) {\n        var subWidthC = (chromaFormatIdc === 1 || chromaFormatIdc === 2) && separateColourPlaneFlag === 0 ? 2 : 1;\n        var subHeightC = chromaFormatIdc === 1 && separateColourPlaneFlag === 0 ? 2 : 1;\n        width -= subWidthC * (confWinRightOffset + confWinLeftOffset);\n        height -= subHeightC * (confWinBottomOffset + confWinTopOffset);\n      }\n      return {\n        codec: \"hev1.1.6.L93.B0\",\n        width,\n        height,\n        chromaFormat,\n        hvcC\n      };\n    }\n  }, {\n    key: \"_parseProfileTierLevel\",\n    value: function _parseProfileTierLevel(eg, maxSubLayersMinus1, hvcC) {\n      var generalTierFlag = hvcC.generalTierFlag || 0;\n      hvcC.generalProfileSpace = eg.readBits(2);\n      hvcC.generalTierFlag = Math.max(eg.readBits(1), generalTierFlag);\n      hvcC.generalProfileIdc = Math.max(eg.readBits(5), hvcC.generalProfileIdc || 0);\n      hvcC.generalProfileCompatibilityFlags = eg.readBits(32);\n      hvcC.generalConstraintIndicatorFlags = [eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8), eg.readBits(8)];\n      var generalLevelIdc = eg.readBits(8);\n      if (generalTierFlag < hvcC.generalTierFlag) {\n        hvcC.generalLevelIdc = generalLevelIdc;\n      } else {\n        hvcC.generalLevelIdc = Math.max(generalLevelIdc, hvcC.generalLevelIdc || 0);\n      }\n      var subLayerProfilePresentFlag = [];\n      var subLayerLevelPresentFlag = [];\n      for (var j = 0; j < maxSubLayersMinus1; j++) {\n        subLayerProfilePresentFlag[j] = eg.readBits(1);\n        subLayerLevelPresentFlag[j] = eg.readBits(1);\n      }\n      if (maxSubLayersMinus1 > 0) {\n        eg.readBits((8 - maxSubLayersMinus1) * 2);\n      }\n      for (var i = 0; i < maxSubLayersMinus1; i++) {\n        if (subLayerProfilePresentFlag[i] !== 0) {\n          eg.readBits(2);\n          eg.readBits(1);\n          eg.readBits(5);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(4);\n          eg.readBits(16);\n          eg.readBits(16);\n          eg.readBits(12);\n        }\n        if (subLayerLevelPresentFlag[i] !== 0) {\n          eg.readBits(8);\n        }\n      }\n    }\n  }]);\n  return HEVC2;\n}();\nexport { HEVC };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"./types.js\";\nvar VideoTrack = /* @__PURE__ */ function() {\n  function VideoTrack2() {\n    _classCallCheck(this, VideoTrack2);\n    _defineProperty(this, \"id\", 1);\n    _defineProperty(this, \"type\", TrackType.VIDEO);\n    _defineProperty(this, \"codecType\", VideoCodecType.AVC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"hvcC\", void 0);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"pps\", []);\n    _defineProperty(this, \"sps\", []);\n    _defineProperty(this, \"vps\", []);\n    _defineProperty(this, \"fpsNum\", 0);\n    _defineProperty(this, \"fpsDen\", 0);\n    _defineProperty(this, \"sarRatio\", []);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"nalUnitSize\", 4);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"isVideo\", true);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"pssh\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(VideoTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = this.width = this.height = this.fpsDen = this.fpsNum = this.duration = this.baseMediaDecodeTime = this.timescale = 0;\n      this.codec = \"\";\n      this.present = false;\n      this.pid = -1;\n      this.pps = [];\n      this.sps = [];\n      this.vps = [];\n      this.sarRatio = [];\n      this.samples = [];\n      this.warnings = [];\n      this.hvcC = null;\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.pps.length && this.sps.length && this.codec);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isVideoEncryption;\n    }\n  }]);\n  return VideoTrack2;\n}();\nexport { VideoTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, AudioCodecType } from \"./types.js\";\nvar AudioTrack = /* @__PURE__ */ function() {\n  function AudioTrack2() {\n    _classCallCheck(this, AudioTrack2);\n    _defineProperty(this, \"id\", 2);\n    _defineProperty(this, \"type\", TrackType.AUDIO);\n    _defineProperty(this, \"codecType\", AudioCodecType.AAC);\n    _defineProperty(this, \"pid\", -1);\n    _defineProperty(this, \"codec\", \"\");\n    _defineProperty(this, \"sequenceNumber\", 0);\n    _defineProperty(this, \"sampleDuration\", 0);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"formatTimescale\", 0);\n    _defineProperty(this, \"baseMediaDecodeTime\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"warnings\", []);\n    _defineProperty(this, \"samples\", []);\n    _defineProperty(this, \"baseDts\", 0);\n    _defineProperty(this, \"sampleSize\", 16);\n    _defineProperty(this, \"sampleRate\", 0);\n    _defineProperty(this, \"channelCount\", 0);\n    _defineProperty(this, \"objectType\", 0);\n    _defineProperty(this, \"sampleRateIndex\", 0);\n    _defineProperty(this, \"config\", []);\n    _defineProperty(this, \"present\", false);\n    _defineProperty(this, \"isVideoEncryption\", false);\n    _defineProperty(this, \"isAudioEncryption\", false);\n    _defineProperty(this, \"kid\", null);\n    _defineProperty(this, \"ext\", void 0);\n  }\n  _createClass(AudioTrack2, [{\n    key: \"reset\",\n    value: function reset() {\n      this.sequenceNumber = 0;\n      this.timescale = 0;\n      this.sampleDuration = 0;\n      this.sampleRate = 0;\n      this.channelCount = 0;\n      this.baseMediaDecodeTime = 0;\n      this.present = false;\n      this.pid = -1;\n      this.codec = \"\";\n      this.samples = [];\n      this.config = [];\n      this.warnings = [];\n    }\n  }, {\n    key: \"exist\",\n    value: function exist() {\n      return !!(this.sampleRate && this.channelCount && this.codec && this.codecType === AudioCodecType.AAC);\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!this.samples.length;\n    }\n  }, {\n    key: \"isEncryption\",\n    get: function get() {\n      return this.isAudioEncryption;\n    }\n  }]);\n  return AudioTrack2;\n}();\nexport { AudioTrack };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar VideoSample = /* @__PURE__ */ function() {\n  function VideoSample2(pts, dts, units) {\n    _classCallCheck(this, VideoSample2);\n    _defineProperty(this, \"flag\", {});\n    _defineProperty(this, \"keyframe\", false);\n    _defineProperty(this, \"gopId\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"size\", 0);\n    _defineProperty(this, \"units\", []);\n    _defineProperty(this, \"chromaFormat\", 420);\n    this.originPts = this.pts = pts;\n    this.originDts = this.dts = dts;\n    if (units)\n      this.units = units;\n  }\n  _createClass(VideoSample2, [{\n    key: \"cts\",\n    get: function get() {\n      return this.pts - this.dts;\n    }\n  }, {\n    key: \"setToKeyframe\",\n    value: function setToKeyframe() {\n      this.keyframe = true;\n      this.flag.dependsOn = 2;\n      this.flag.isNonSyncSample = 0;\n    }\n  }]);\n  return VideoSample2;\n}();\nexport { VideoSample };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType } from \"./types.js\";\nvar Sample = /* @__PURE__ */ _createClass(\n  function Sample2(data, pts) {\n    _classCallCheck(this, Sample2);\n    _defineProperty(this, \"time\", 0);\n    this.data = data;\n    this.originPts = this.pts = pts;\n  }\n);\nvar FlvScriptSample = /* @__PURE__ */ function(_Sample) {\n  _inherits(FlvScriptSample2, _Sample);\n  var _super = _createSuper(FlvScriptSample2);\n  function FlvScriptSample2() {\n    _classCallCheck(this, FlvScriptSample2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(FlvScriptSample2);\n}(Sample);\nvar SeiSample = /* @__PURE__ */ function(_Sample2) {\n  _inherits(SeiSample2, _Sample2);\n  var _super2 = _createSuper(SeiSample2);\n  function SeiSample2() {\n    _classCallCheck(this, SeiSample2);\n    return _super2.apply(this, arguments);\n  }\n  return _createClass(SeiSample2);\n}(Sample);\nvar MetadataTrack = /* @__PURE__ */ function() {\n  function MetadataTrack2() {\n    _classCallCheck(this, MetadataTrack2);\n    _defineProperty(this, \"id\", 3);\n    _defineProperty(this, \"type\", TrackType.METADATA);\n    _defineProperty(this, \"timescale\", 0);\n    _defineProperty(this, \"flvScriptSamples\", []);\n    _defineProperty(this, \"seiSamples\", []);\n  }\n  _createClass(MetadataTrack2, [{\n    key: \"exist\",\n    value: function exist() {\n      return !!((this.flvScriptSamples.length || this.seiSamples.length) && this.timescale);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.timescale = 0;\n      this.flvScriptSamples = [];\n      this.seiSamples = [];\n    }\n  }, {\n    key: \"hasSample\",\n    value: function hasSample() {\n      return !!(this.flvScriptSamples.length || this.seiSamples.length);\n    }\n  }]);\n  return MetadataTrack2;\n}();\nexport { FlvScriptSample, MetadataTrack, SeiSample };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsFixer } from \"./fixer.js\";\nimport { AVC } from \"../codec/avc.js\";\nimport { AAC } from \"../codec/aac.js\";\nimport { HEVC } from \"../codec/hevc.js\";\nimport { NALu } from \"../codec/nalu.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack, SeiSample } from \"../model/metadata-track.js\";\nimport { VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nvar logger = new Logger(\"TsDemuxer\");\nvar TsDemuxer = /* @__PURE__ */ function() {\n  function TsDemuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, TsDemuxer2);\n    _defineProperty(this, \"_pmtId\", -1);\n    _defineProperty(this, \"_remainingPacketData\", null);\n    _defineProperty(this, \"_videoPesData\", []);\n    _defineProperty(this, \"_audioPesData\", []);\n    _defineProperty(this, \"_gopId\", 0);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n    this._fixer = new TsFixer(this.videoTrack, this.audioTrack, this.metadataTrack);\n  }\n  _createClass(TsDemuxer2, [{\n    key: \"demux\",\n    value: function demux(data) {\n      var discontinuity = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      var contiguous = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;\n      var audioTrack = this.audioTrack, videoTrack = this.videoTrack, metadataTrack = this.metadataTrack;\n      if (discontinuity) {\n        this._pmtId = -1;\n        videoTrack.reset();\n        audioTrack.reset();\n        metadataTrack.reset();\n      }\n      if (!contiguous || discontinuity) {\n        this._remainingPacketData = null;\n        this._videoPesData = [];\n        this._audioPesData = [];\n      } else {\n        videoTrack.samples = [];\n        audioTrack.samples = [];\n        metadataTrack.seiSamples = [];\n        videoTrack.warnings = [];\n        audioTrack.warnings = [];\n        if (this._remainingPacketData) {\n          data = concatUint8Array(this._remainingPacketData, data);\n          this._remainingPacketData = null;\n        }\n      }\n      var dataLen = data.length;\n      var remainingLength = dataLen % 188;\n      if (remainingLength) {\n        this._remainingPacketData = data.subarray(dataLen - remainingLength);\n        dataLen -= remainingLength;\n      }\n      var videoPid = videoTrack.pid;\n      var audioPid = audioTrack.pid;\n      for (var start = 0; start < dataLen; start += 188) {\n        if (data[start] !== 71)\n          throw new Error(\"TS packet did not start with 0x47\");\n        var payloadUnitStartIndicator = !!(data[start + 1] & 64);\n        var pid = ((data[start + 1] & 31) << 8) + data[start + 2];\n        var adaptationFiledControl = (data[start + 3] & 48) >> 4;\n        var offset = void 0;\n        if (adaptationFiledControl > 1) {\n          offset = start + 5 + data[start + 4];\n          if (offset === start + 188)\n            continue;\n        } else {\n          offset = start + 4;\n        }\n        switch (pid) {\n          case 0:\n            if (payloadUnitStartIndicator)\n              offset += data[offset] + 1;\n            this._pmtId = (data[offset + 10] & 31) << 8 | data[offset + 11];\n            break;\n          case this._pmtId:\n            {\n              if (payloadUnitStartIndicator)\n                offset += data[offset] + 1;\n              var tableEnd = offset + 3 + ((data[offset + 1] & 15) << 8 | data[offset + 2]) - 4;\n              var programInfoLength = (data[offset + 10] & 15) << 8 | data[offset + 11];\n              offset += 12 + programInfoLength;\n              while (offset < tableEnd) {\n                var esPid = (data[offset + 1] & 31) << 8 | data[offset + 2];\n                switch (data[offset]) {\n                  case 15:\n                    audioTrack.pid = audioPid = esPid;\n                    break;\n                  case 27:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.AVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  case 36:\n                    if (videoPid !== -1)\n                      break;\n                    videoTrack.codecType = VideoCodecType.HEVC;\n                    videoTrack.pid = videoPid = esPid;\n                    break;\n                  default:\n                    logger.warn(\"Unsupported stream. type: \".concat(data[offset], \", pid: \").concat(esPid));\n                }\n                offset += ((data[offset + 3] & 15) << 8 | data[offset + 4]) + 5;\n              }\n            }\n            break;\n          case videoPid:\n            if (payloadUnitStartIndicator && this._videoPesData.length) {\n              this._parseVideoData();\n            }\n            this._videoPesData.push(data.subarray(offset, start + 188));\n            break;\n          case audioPid:\n            if (payloadUnitStartIndicator && this._audioPesData.length) {\n              this._parseAudioData();\n            }\n            this._audioPesData.push(data.subarray(offset, start + 188));\n            break;\n          case 17:\n          case 8191:\n            break;\n          default:\n            logger.warn(\"Unknown pid: \".concat(pid));\n        }\n      }\n      this._parseVideoData();\n      this._parseAudioData();\n      audioTrack.formatTimescale = videoTrack.formatTimescale = videoTrack.timescale = metadataTrack.timescale = 9e4;\n      audioTrack.timescale = audioTrack.sampleRate || 0;\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack\n      };\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(startTime, discontinuity, contiguous) {\n      this._fixer.fix(startTime, discontinuity, contiguous);\n      return {\n        videoTrack: this.videoTrack,\n        audioTrack: this.audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"demuxAndFix\",\n    value: function demuxAndFix(data, discontinuity, contiguous, startTime) {\n      this.demux(data, discontinuity, contiguous);\n      return this.fix(startTime, discontinuity, contiguous);\n    }\n  }, {\n    key: \"_parseVideoData\",\n    value: function _parseVideoData() {\n      if (!this._videoPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._videoPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse video pes\", this._videoPesData);\n        return;\n      }\n      var units = NALu.parseAnnexB(pes.data);\n      if (units) {\n        this._createVideoSample(units, pes.pts, pes.dts);\n      } else {\n        logger.warn(\"Cannot parse avc units\", pes);\n      }\n      this._videoPesData = [];\n    }\n  }, {\n    key: \"_createVideoSample\",\n    value: function _createVideoSample(units, pts, dts) {\n      var _this = this;\n      if (!units.length)\n        return;\n      var track = this.videoTrack;\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var sample = new VideoSample(pts, dts);\n      units.forEach(function(unit) {\n        var type = isHevc ? unit[0] >>> 1 & 63 : unit[0] & 31;\n        switch (type) {\n          case 5:\n          case 16:\n          case 17:\n          case 18:\n          case 19:\n          case 20:\n          case 21:\n          case 22:\n          case 23:\n            if (!isHevc && type !== 5 || isHevc && type === 5)\n              break;\n            sample.setToKeyframe();\n            _this._gopId++;\n            break;\n          case 6:\n          case 39:\n          case 40:\n            if (!isHevc && type !== 6 || isHevc && type === 6)\n              break;\n            _this.metadataTrack.seiSamples.push(new SeiSample(NALu.parseSEI(NALu.removeEPB(unit), isHevc), pts));\n            return;\n          case 32:\n            if (!isHevc)\n              break;\n            if (!track.vps.length) {\n              var hvcC = HEVC.parseVPS(NALu.removeEPB(unit), track.hvcC);\n              track.hvcC = track.hvcC || hvcC;\n              track.vps = [unit];\n            }\n            break;\n          case 7:\n          case 33:\n            if (!isHevc && type !== 7 || isHevc && type === 7)\n              break;\n            if (!track.sps.length) {\n              var data = NALu.removeEPB(unit);\n              var spsInfo = isHevc ? HEVC.parseSPS(data, track.hvcC) : AVC.parseSPS(data);\n              track.sps = [unit];\n              track.hvcC = track.hvcC || spsInfo.hvcC;\n              track.codec = spsInfo.codec;\n              track.width = spsInfo.width;\n              track.height = spsInfo.height;\n              track.sarRatio = spsInfo.sarRatio;\n              track.fpsNum = spsInfo.fpsNum;\n              track.fpsDen = spsInfo.fpsDen;\n            }\n            break;\n          case 8:\n          case 34:\n            if (!isHevc && type !== 8 || isHevc && type === 8)\n              break;\n            if (!track.pps.length)\n              track.pps = [unit];\n            break;\n        }\n        sample.units.push(unit);\n      });\n      sample.gopId = this._gopId;\n      this._pushVideoSample(track, sample);\n    }\n  }, {\n    key: \"_pushVideoSample\",\n    value: function _pushVideoSample(track, sample) {\n      if (sample.units.length) {\n        if (sample.pts === null || sample.pts === void 0) {\n          logger.warn(\"Video sample no pts\", sample);\n          var lastSample = track.samples[track.samples.length - 1];\n          if (lastSample) {\n            sample.pts = lastSample.pts;\n            sample.dts = lastSample.dts;\n          } else {\n            logger.warn(\"Drop video sample\", sample);\n          }\n        } else {\n          track.samples.push(sample);\n        }\n      }\n    }\n  }, {\n    key: \"_parseAudioData\",\n    value: function _parseAudioData() {\n      if (!this._audioPesData.length)\n        return;\n      var pes = TsDemuxer2._parsePES(concatUint8Array.apply(void 0, _toConsumableArray(this._audioPesData)));\n      if (!pes) {\n        logger.warn(\"Cannot parse audio pes\", this._audioPesData);\n        return;\n      }\n      this._parseAacData(pes);\n      this._audioPesData = [];\n    }\n  }, {\n    key: \"_parseAacData\",\n    value: function _parseAacData(pes) {\n      var track = this.audioTrack;\n      var pts = pes.pts;\n      if (pts === null || pts === void 0) {\n        logger.warn(\"AAC pes not pts\", track);\n        if (!track.samples.length || !track.sampleRate) {\n          return;\n        }\n        pts = track.samples[track.samples.length - 1].pts + AAC.getFrameDuration(track.sampleRate);\n      }\n      var ret = AAC.parseADTS(pes.data, pts);\n      if (ret) {\n        var _track$samples;\n        track.codec = ret.codec;\n        track.channelCount = ret.channelCount;\n        track.sampleRate = ret.sampleRate;\n        track.objectType = ret.objectType;\n        track.sampleRateIndex = ret.samplingFrequencyIndex;\n        track.config = ret.config;\n        (_track$samples = track.samples).push.apply(_track$samples, _toConsumableArray(ret.frames.map(function(s) {\n          return new AudioSample(s.pts, s.data);\n        })));\n        if (ret.skip) {\n          logger.warn(\"Skip aac adts \".concat(ret.skip, \" bits\"));\n        }\n        if (ret.remaining) {\n          logger.warn(\"Remaining aac adts \".concat(ret.remaining, \" bits\"));\n        }\n      } else {\n        logger.warn(\"Cannot parse aac adts\", pes);\n      }\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      if (!data.length)\n        return false;\n      return data[0] === 71 && data[188] === 71 && data[376] === 71;\n    }\n  }, {\n    key: \"_parsePES\",\n    value: function _parsePES(data) {\n      var headerDataLen = data[8];\n      if (headerDataLen === null || headerDataLen === void 0 || data.length < headerDataLen + 9)\n        return;\n      var startPrefix = data[0] << 16 | data[1] << 8 | data[2];\n      if (startPrefix !== 1)\n        return;\n      var pesLen = (data[4] << 8) + data[5];\n      if (pesLen && pesLen > data.length - 6)\n        return;\n      var pts;\n      var dts;\n      var ptsDtsFlags = data[7];\n      if (ptsDtsFlags & 192) {\n        pts = (data[9] & 14) * 536870912 + (data[10] & 255) * 4194304 + (data[11] & 254) * 16384 + (data[12] & 255) * 128 + (data[13] & 254) / 2;\n        if (ptsDtsFlags & 64) {\n          dts = (data[14] & 14) * 536870912 + (data[15] & 255) * 4194304 + (data[16] & 254) * 16384 + (data[17] & 255) * 128 + (data[18] & 254) / 2;\n          if (pts - dts > 60 * 9e4)\n            pts = dts;\n        } else {\n          dts = pts;\n        }\n      }\n      return {\n        data: data.subarray(9 + headerDataLen),\n        pts,\n        dts\n      };\n    }\n  }]);\n  return TsDemuxer2;\n}();\nexport { TsDemuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoCodecType, AudioCodecType } from \"../model/types.js\";\nimport { readBig32, readBig64, readBig24, readBig16, getAvcCodec } from \"../utils/index.js\";\nimport { AAC } from \"../codec/aac.js\";\nvar MP4Parser = /* @__PURE__ */ function() {\n  function MP4Parser2() {\n    _classCallCheck(this, MP4Parser2);\n  }\n  _createClass(MP4Parser2, null, [{\n    key: \"findBox\",\n    value: function findBox(data, names) {\n      var start = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var ret = [];\n      if (!data)\n        return ret;\n      var size = 0;\n      var type = \"\";\n      var headerSize = 0;\n      while (data.length > 7) {\n        size = readBig32(data);\n        type = String.fromCharCode.apply(null, data.subarray(4, 8));\n        headerSize = 8;\n        if (size === 1) {\n          size = readBig64(data, 8);\n          headerSize += 8;\n        } else if (!size) {\n          size = data.length;\n        }\n        if (!names[0] || type === names[0]) {\n          var subData = data.subarray(0, size);\n          if (names.length < 2) {\n            ret.push({\n              start,\n              size,\n              headerSize,\n              type,\n              data: subData\n            });\n          } else {\n            return MP4Parser2.findBox(subData.subarray(headerSize), names.slice(1), start + headerSize);\n          }\n        }\n        start += size;\n        data = data.subarray(size);\n      }\n      return ret;\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.trackId = readBig32(data);\n        var start = 4;\n        var baseDataOffsetPresent = ret.flags & 255 & 1;\n        var sampleDescriptionIndexPresent = ret.flags & 255 & 2;\n        var defaultSampleDurationPresent = ret.flags & 255 & 8;\n        var defaultSampleSizePresent = ret.flags & 255 & 16;\n        var defaultSampleFlagsPresent = ret.flags & 255 & 32;\n        if (baseDataOffsetPresent) {\n          start += 4;\n          ret.baseDataOffset = readBig32(data, start);\n          start += 4;\n        }\n        if (sampleDescriptionIndexPresent) {\n          ret.sampleDescriptionIndex = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleDurationPresent) {\n          ret.defaultSampleDuration = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleSizePresent) {\n          ret.defaultSampleSize = readBig32(data, start);\n          start += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n          ret.defaultSampleFlags = readBig32(data, start);\n        }\n      });\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        ret.reference_ID = readBig32(data, start);\n        start += 4;\n        ret.timescale = readBig32(data, start);\n        start += 4;\n        if (ret.version === 0) {\n          ret.earliest_presentation_time = readBig32(data, start);\n          start += 4;\n          ret.first_offset = readBig32(data, start);\n          start += 4;\n        } else {\n          ret.earliest_presentation_time = readBig64(data, start);\n          start += 8;\n          ret.first_offset = readBig64(data, start);\n          start += 8;\n        }\n        start += 2;\n        ret.references = [];\n        var count = readBig16(data, start);\n        start += 2;\n        for (var i = 0; i < count; i++) {\n          var ref = {};\n          ret.references.push(ref);\n          var tmp32 = readBig32(data, start);\n          start += 4;\n          ref.reference_type = tmp32 >> 31 & 1;\n          ref.referenced_size = tmp32 & 2147483647;\n          ref.subsegment_duration = readBig32(data, start);\n          start += 4;\n          tmp32 = readBig32(data, start);\n          start += 4;\n          ref.starts_with_SAP = tmp32 >> 31 & 1;\n          ref.SAP_type = tmp32 >> 28 & 7;\n          ref.SAP_delta_time = tmp32 & 268435455;\n        }\n      });\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mvhd = MP4Parser2.mvhd(MP4Parser2.findBox(data, [\"mvhd\"], start)[0]);\n        ret.trak = MP4Parser2.findBox(data, [\"trak\"], start).map(function(trak) {\n          return MP4Parser2.trak(trak);\n        });\n        ret.pssh = MP4Parser2.pssh(MP4Parser2.findBox(data, [\"pssh\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        ret.nextTrackId = readBig32(data, start + 76);\n      });\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tkhd = MP4Parser2.tkhd(MP4Parser2.findBox(data, [\"tkhd\"], start)[0]);\n        ret.mdia = MP4Parser2.mdia(MP4Parser2.findBox(data, [\"mdia\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.trackId = readBig32(data, 16);\n          ret.duration = readBig64(data, 24);\n          start += 32;\n        } else {\n          ret.trackId = readBig32(data, 8);\n          ret.duration = readBig32(data, 16);\n          start += 20;\n        }\n        ret.width = readBig32(data, start + 52);\n        ret.height = readBig32(data, start + 56);\n      });\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mdhd = MP4Parser2.mdhd(MP4Parser2.findBox(data, [\"mdhd\"], start)[0]);\n        ret.hdlr = MP4Parser2.hdlr(MP4Parser2.findBox(data, [\"hdlr\"], start)[0]);\n        ret.minf = MP4Parser2.minf(MP4Parser2.findBox(data, [\"minf\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        if (ret.version === 1) {\n          ret.timescale = readBig32(data, 16);\n          ret.duration = readBig64(data, 20);\n          start += 28;\n        } else {\n          ret.timescale = readBig32(data, 8);\n          ret.duration = readBig32(data, 12);\n          start += 16;\n        }\n        var lang = readBig16(data, start);\n        ret.language = String.fromCharCode((lang >> 10 & 31) + 96, (lang >> 5 & 31) + 96, (lang & 31) + 96);\n      });\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 0) {\n          ret.handlerType = String.fromCharCode.apply(null, data.subarray(4, 8));\n        }\n      });\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.vmhd = MP4Parser2.vmhd(MP4Parser2.findBox(data, [\"vmhd\"], start)[0]);\n        ret.smhd = MP4Parser2.smhd(MP4Parser2.findBox(data, [\"smhd\"], start)[0]);\n        ret.stbl = MP4Parser2.stbl(MP4Parser2.findBox(data, [\"stbl\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"vmhd\",\n    value: function vmhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.graphicsmode = readBig16(data);\n        ret.opcolor = [readBig16(data, 2), readBig16(data, 4), readBig16(data, 6)];\n      });\n    }\n  }, {\n    key: \"smhd\",\n    value: function smhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.balance = readBig16(data);\n      });\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var _ret$stsd$entries$, _ret$stsd$entries$$si, _ret$stsd$entries$$si2;\n        ret.stsd = MP4Parser2.stsd(MP4Parser2.findBox(data, [\"stsd\"], start)[0]);\n        ret.stts = MP4Parser2.stts(MP4Parser2.findBox(data, [\"stts\"], start)[0]);\n        ret.ctts = MP4Parser2.ctts(MP4Parser2.findBox(data, [\"ctts\"], start)[0]);\n        ret.stsc = MP4Parser2.stsc(MP4Parser2.findBox(data, [\"stsc\"], start)[0]);\n        ret.stsz = MP4Parser2.stsz(MP4Parser2.findBox(data, [\"stsz\"], start)[0]);\n        ret.stco = MP4Parser2.stco(MP4Parser2.findBox(data, [\"stco\"], start)[0]);\n        if (!ret.stco) {\n          ret.co64 = MP4Parser2.co64(MP4Parser2.findBox(data, [\"co64\"], start)[0]);\n          ret.stco = ret.co64;\n        }\n        var default_IV_size = (_ret$stsd$entries$ = ret.stsd.entries[0]) === null || _ret$stsd$entries$ === void 0 ? void 0 : (_ret$stsd$entries$$si = _ret$stsd$entries$.sinf) === null || _ret$stsd$entries$$si === void 0 ? void 0 : (_ret$stsd$entries$$si2 = _ret$stsd$entries$$si.schi) === null || _ret$stsd$entries$$si2 === void 0 ? void 0 : _ret$stsd$entries$$si2.tenc.default_IV_size;\n        ret.stss = MP4Parser2.stss(MP4Parser2.findBox(data, [\"stss\"], start)[0]);\n        ret.senc = MP4Parser2.senc(MP4Parser2.findBox(data, [\"senc\"], start)[0], default_IV_size);\n      });\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(box) {\n      var iv = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 8;\n      return parseBox(box, true, function(ret, data) {\n        var start = 0;\n        var sampleCount = readBig32(data, start);\n        start += 4;\n        ret.samples = [];\n        for (var i = 0; i < sampleCount; i++) {\n          var sample = {};\n          sample.InitializationVector = [];\n          for (var j = 0; j < iv; j++) {\n            sample.InitializationVector[j] = data[start + j];\n          }\n          start += iv;\n          if (ret.flags & 2) {\n            sample.subsamples = [];\n            var subsampleCount = readBig16(data, start);\n            start += 2;\n            for (var _j = 0; _j < subsampleCount; _j++) {\n              var subsample = {};\n              subsample.BytesOfClearData = readBig16(data, start);\n              start += 2;\n              subsample.BytesOfProtectedData = readBig32(data, start);\n              start += 4;\n              sample.subsamples.push(subsample);\n            }\n          }\n          ret.samples.push(sample);\n        }\n      });\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(box) {\n      return parseBox(box, true, function(ret, data) {\n        var keyIds = [];\n        var systemId = [];\n        var start = 0;\n        for (var i = 0; i < 16; i++) {\n          systemId.push(toHex(data[start + i]));\n        }\n        start += 16;\n        if (ret.version > 0) {\n          var numKeyIds = readBig32(data, start);\n          start += 4;\n          for (var _i = 0; _i < (\"\" + numKeyIds).length; _i++) {\n            for (var j = 0; j < 16; j++) {\n              var keyId = data[start];\n              start += 1;\n              keyIds.push(toHex(keyId));\n            }\n          }\n        }\n        var dataSize = readBig32(data, start);\n        ret.data_size = dataSize;\n        start += 4;\n        ret.kid = keyIds;\n        ret.system_id = systemId;\n        ret.buffer = data;\n      });\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(box) {\n      return parseBox(box, true, function(ret, data, start) {\n        ret.entryCount = readBig32(data);\n        ret.entries = MP4Parser2.findBox(data.subarray(4), [], start + 4).map(function(b) {\n          switch (b.type) {\n            case \"avc1\":\n            case \"avc2\":\n            case \"avc3\":\n            case \"avc4\":\n              return MP4Parser2.avc1(b);\n            case \"hvc1\":\n            case \"hev1\":\n              return MP4Parser2.hvc1(b);\n            case \"mp4a\":\n              return MP4Parser2.mp4a(b);\n            case \"alaw\":\n            case \"ulaw\":\n              return MP4Parser2.alaw(b);\n            case \"enca\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.channelCount = readBig16(data2, 16);\n                ret2.samplesize = readBig16(data2, 18);\n                ret2.sampleRate = readBig32(data2, 24) / (1 << 16);\n                data2 = data2.subarray(28);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.esds = MP4Parser2.esds(MP4Parser2.findBox(data2, [\"esds\"], start2)[0]);\n              });\n            case \"encv\":\n              return parseBox(b, false, function(ret2, data2, start2) {\n                ret2.width = readBig16(data2, 24);\n                ret2.height = readBig16(data2, 26);\n                ret2.horizresolution = readBig32(data2, 28);\n                ret2.vertresolution = readBig32(data2, 32);\n                data2 = data2.subarray(78);\n                ret2.sinf = MP4Parser2.sinf(MP4Parser2.findBox(data2, [\"sinf\"], start2)[0]);\n                ret2.avcC = MP4Parser2.avcC(MP4Parser2.findBox(data2, [\"avcC\"], start2)[0]);\n                ret2.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(data2, [\"hvcC\"], start2)[0]);\n                ret2.pasp = MP4Parser2.pasp(MP4Parser2.findBox(data2, [\"pasp\"], start2)[0]);\n              });\n          }\n        }).filter(Boolean);\n      });\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(box) {\n      return parseBox(box, false, function(ret, data) {\n        var start = 6;\n        ret.default_IsEncrypted = data[start];\n        start += 1;\n        ret.default_IV_size = data[start];\n        start += 1;\n        ret.default_KID = [];\n        for (var i = 0; i < 16; i++) {\n          ret.default_KID.push(toHex(data[start]));\n          start += 1;\n        }\n      });\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tenc = MP4Parser2.tenc(MP4Parser2.findBox(data, [\"tenc\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.schi = MP4Parser2.schi(MP4Parser2.findBox(data, [\"schi\"], start)[0]);\n        ret.frma = MP4Parser2.frma(MP4Parser2.findBox(data, [\"frma\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"frma\",\n    value: function frma(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data_format = \"\";\n        for (var i = 0; i < 4; i++) {\n          ret.data_format += String.fromCharCode(data[i]);\n        }\n      });\n    }\n  }, {\n    key: \"avc1\",\n    value: function avc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.avcC = MP4Parser2.avcC(MP4Parser2.findBox(bodyData, [\"avcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.configurationVersion = data[0];\n        ret.AVCProfileIndication = data[1];\n        ret.profileCompatibility = data[2];\n        ret.AVCLevelIndication = data[3];\n        ret.codec = getAvcCodec([data[1], data[2], data[3]]);\n        ret.lengthSizeMinusOne = data[4] & 3;\n        ret.spsLength = data[5] & 31;\n        ret.sps = [];\n        var start = 6;\n        for (var i = 0; i < ret.spsLength; i++) {\n          var size = readBig16(data, start);\n          start += 2;\n          ret.sps.push(data.subarray(start, start + size));\n          start += size;\n        }\n        ret.ppsLength = data[start];\n        start += 1;\n        ret.pps = [];\n        for (var _i2 = 0; _i2 < ret.ppsLength; _i2++) {\n          var _size = readBig16(data, start);\n          start += 2;\n          ret.pps.push(data.subarray(start, start += _size));\n          start += _size;\n        }\n      });\n    }\n  }, {\n    key: \"hvc1\",\n    value: function hvc1(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseVisualSampleEntry(ret, data);\n        var bodyData = data.subarray(bodyStart);\n        start += bodyStart;\n        ret.hvcC = MP4Parser2.hvcC(MP4Parser2.findBox(bodyData, [\"hvcC\"], start)[0]);\n        ret.pasp = MP4Parser2.pasp(MP4Parser2.findBox(bodyData, [\"pasp\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.data = box.data;\n        ret.codec = \"hev1.1.6.L93.B0\";\n        ret.configurationVersion = data[0];\n        var tmp = data[1];\n        ret.generalProfileSpace = tmp >> 6;\n        ret.generalTierFlag = (tmp & 32) >> 5;\n        ret.generalProfileIdc = tmp & 31;\n        ret.generalProfileCompatibility = readBig32(data, 2);\n        ret.generalConstraintIndicatorFlags = data.subarray(6, 12);\n        ret.generalLevelIdc = data[12];\n        ret.avgFrameRate = readBig16(data, 19);\n        ret.numOfArrays = data[22];\n        ret.vps = [];\n        ret.sps = [];\n        ret.pps = [];\n        var start = 23;\n        var type = 0;\n        var numNalus = 0;\n        var size = 0;\n        for (var i = 0; i < ret.numOfArrays; i++) {\n          type = data[start] & 63;\n          numNalus = readBig16(data, start + 1);\n          start += 3;\n          var nalus = [];\n          for (var j = 0; j < numNalus; j++) {\n            size = readBig16(data, start);\n            start += 2;\n            nalus.push(data.subarray(start, start + size));\n            start += size;\n          }\n          if (type === 32) {\n            var _ret$vps;\n            (_ret$vps = ret.vps).push.apply(_ret$vps, nalus);\n          } else if (type === 33) {\n            var _ret$sps;\n            (_ret$sps = ret.sps).push.apply(_ret$sps, nalus);\n          } else if (type === 34) {\n            var _ret$pps;\n            (_ret$pps = ret.pps).push.apply(_ret$pps, nalus);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(box) {\n      return parseBox(box, false, function(ret, data) {\n        ret.hSpacing = readBig32(data);\n        ret.vSpacing = readBig32(data, 4);\n      });\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        var bodyStart = parseAudioSampleEntry(ret, data);\n        ret.esds = MP4Parser2.esds(MP4Parser2.findBox(data.subarray(bodyStart), [\"esds\"], start + bodyStart)[0]);\n      });\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.codec = \"mp4a.\";\n        var start = 0;\n        var byteRead = 0;\n        var size = 0;\n        var tag = 0;\n        while (data.length) {\n          start = 0;\n          tag = data[start];\n          byteRead = data[start + 1];\n          start += 2;\n          while (byteRead & 128) {\n            size = (byteRead & 127) << 7;\n            byteRead = data[start];\n            start += 1;\n          }\n          size += byteRead & 127;\n          if (tag === 3) {\n            data = data.subarray(start + 3);\n          } else if (tag === 4) {\n            ret.codec += (data[start].toString(16) + \".\").padStart(3, \"0\");\n            data = data.subarray(start + 13);\n          } else if (tag === 5) {\n            var config = ret.config = data.subarray(start, start + size);\n            var objectType = (config[0] & 248) >> 3;\n            if (objectType === 31 && config.length >= 2) {\n              objectType = 32 + ((config[0] & 7) << 3) + ((config[1] & 224) >> 5);\n            }\n            ret.objectType = objectType;\n            ret.codec += objectType.toString(16);\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          } else {\n            if (ret.codec[ret.codec.length - 1] === \".\") {\n              ret.codec = ret.codec.substring(0, ret.codec.length - 1);\n            }\n            return;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"alaw\",\n    value: function alaw(box) {\n      return parseBox(box, false, function(ret, data) {\n        parseAudioSampleEntry(ret, data);\n      });\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            count: readBig32(data, start),\n            delta: readBig32(data, start + 4)\n          });\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        if (ret.version === 1) {\n          for (var i = 0; i < entryCount; i++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: readBig32(data, start + 4)\n            });\n            start += 8;\n          }\n        } else {\n          for (var _i3 = 0; _i3 < entryCount; _i3++) {\n            entries.push({\n              count: readBig32(data, start),\n              offset: -(~readBig32(data, start + 4) + 1)\n            });\n            start += 8;\n          }\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push({\n            firstChunk: readBig32(data, start),\n            samplesPerChunk: readBig32(data, start + 4),\n            sampleDescriptionIndex: readBig32(data, start + 8)\n          });\n          start += 12;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(box) {\n      return parseBox(box, true, function(ret, data) {\n        var sampleSize = readBig32(data);\n        var sampleCount = readBig32(data, 4);\n        var entrySizes = [];\n        if (!sampleSize) {\n          var start = 8;\n          for (var i = 0; i < sampleCount; i++) {\n            entrySizes.push(readBig32(data, start));\n            start += 4;\n          }\n        }\n        ret.sampleSize = sampleSize;\n        ret.sampleCount = sampleCount;\n        ret.entrySizes = entrySizes;\n      });\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"co64\",\n    value: function co64(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig64(data, start));\n          start += 8;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(box) {\n      return parseBox(box, true, function(ret, data) {\n        var entryCount = readBig32(data);\n        var entries = [];\n        var start = 4;\n        for (var i = 0; i < entryCount; i++) {\n          entries.push(readBig32(data, start));\n          start += 4;\n        }\n        ret.entryCount = entryCount;\n        ret.entries = entries;\n      });\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.mfhd = MP4Parser2.mfhd(MP4Parser2.findBox(data, [\"mfhd\"], start)[0]);\n        ret.traf = MP4Parser2.findBox(data, [\"traf\"], start).map(function(t) {\n          return MP4Parser2.traf(t);\n        });\n      });\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(box) {\n      return parseBox(box, true, function(ret, data) {\n        ret.sequenceNumber = readBig32(data);\n      });\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(box) {\n      return parseBox(box, false, function(ret, data, start) {\n        ret.tfhd = MP4Parser2.tfhd(MP4Parser2.findBox(data, [\"tfhd\"], start)[0]);\n        ret.tfdt = MP4Parser2.tfdt(MP4Parser2.findBox(data, [\"tfdt\"], start)[0]);\n        ret.trun = MP4Parser2.trun(MP4Parser2.findBox(data, [\"trun\"], start)[0]);\n      });\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(box) {\n      return parseBox(box, true, function(ret, data) {\n        var version = ret.version, flags = ret.flags;\n        var dataLen = data.length;\n        var sampleCount = ret.sampleCount = readBig32(data);\n        var offset = 4;\n        if (dataLen > offset && flags & 1) {\n          ret.dataOffset = -(~readBig32(data, offset) + 1);\n          offset += 4;\n        }\n        if (dataLen > offset && flags & 4) {\n          ret.firstSampleFlags = readBig32(data, offset);\n          offset += 4;\n        }\n        ret.samples = [];\n        if (dataLen > offset) {\n          var sample;\n          for (var i = 0; i < sampleCount; i++) {\n            sample = {};\n            if (flags & 256) {\n              sample.duration = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 512) {\n              sample.size = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 1024) {\n              sample.flags = readBig32(data, offset);\n              offset += 4;\n            }\n            if (flags & 2048) {\n              if (version) {\n                sample.cts = -(~readBig32(data, offset + 4) + 1);\n              } else {\n                sample.cts = readBig32(data, offset);\n              }\n              offset += 4;\n            }\n            ret.samples.push(sample);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(box) {\n      return parseBox(box, true, function(ret, data) {\n        if (ret.version === 1) {\n          ret.baseMediaDecodeTime = readBig64(data);\n        } else {\n          ret.baseMediaDecodeTime = readBig32(data);\n        }\n      });\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(data) {\n      return !!MP4Parser2.findBox(data, [\"ftyp\"]);\n    }\n  }, {\n    key: \"parseSampleFlags\",\n    value: function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 12) >>> 2,\n        dependsOn: flags[0] & 3,\n        isDependedOn: (flags[1] & 192) >>> 6,\n        hasRedundancy: (flags[1] & 48) >>> 4,\n        paddingValue: (flags[1] & 14) >>> 1,\n        isNonSyncSample: flags[1] & 1,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    }\n  }, {\n    key: \"moovToTrack\",\n    value: function moovToTrack(moov, videoTrack, audioTrack) {\n      var _e$esds, _e$esds2;\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia, _t$mdia$hdlr;\n        return ((_t$mdia = t.mdia) === null || _t$mdia === void 0 ? void 0 : (_t$mdia$hdlr = _t$mdia.hdlr) === null || _t$mdia$hdlr === void 0 ? void 0 : _t$mdia$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia2, _t$mdia2$hdlr;\n        return ((_t$mdia2 = t.mdia) === null || _t$mdia2 === void 0 ? void 0 : (_t$mdia2$hdlr = _t$mdia2.hdlr) === null || _t$mdia2$hdlr === void 0 ? void 0 : _t$mdia2$hdlr.handlerType) === \"soun\";\n      });\n      if (vTrack && videoTrack) {\n        var _vTrack$tkhd, _vTrack$mdia, _vTrack$mdia$minf, _vTrack$mdia$minf$stb, _vTrack$mdia2, _vTrack$mdia2$minf, _vTrack$mdia2$minf$st;\n        var v = videoTrack;\n        var _vTrackId = (_vTrack$tkhd = vTrack.tkhd) === null || _vTrack$tkhd === void 0 ? void 0 : _vTrack$tkhd.trackId;\n        if (_vTrackId !== null && _vTrackId !== void 0)\n          v.id = vTrack.tkhd.trackId;\n        v.tkhdDuration = vTrack.tkhd.duration;\n        v.mvhdDurtion = moov.mvhd.duration;\n        v.mvhdTimecale = moov.mvhd.timescale;\n        v.timescale = v.formatTimescale = vTrack.mdia.mdhd.timescale;\n        v.duration = vTrack.mdia.mdhd.duration || v.mvhdDurtion / v.mvhdTimecale * v.timescale;\n        var e1 = vTrack.mdia.minf.stbl.stsd.entries[0];\n        v.width = e1.width;\n        v.height = e1.height;\n        if (e1.pasp) {\n          v.sarRatio = [e1.pasp.hSpacing, e1.pasp.vSpacing];\n        }\n        if (e1.hvcC) {\n          v.codecType = VideoCodecType.HEVC;\n          v.codec = e1.hvcC.codec;\n          v.vps = e1.hvcC.vps;\n          v.sps = e1.hvcC.sps;\n          v.pps = e1.hvcC.pps;\n          v.hvcC = e1.hvcC.data;\n        } else if (e1.avcC) {\n          v.codec = e1.avcC.codec;\n          v.sps = e1.avcC.sps;\n          v.pps = e1.avcC.pps;\n        } else {\n          throw new Error(\"unknown video stsd entry\");\n        }\n        v.present = true;\n        v.ext = {};\n        v.ext.stss = (_vTrack$mdia = vTrack.mdia) === null || _vTrack$mdia === void 0 ? void 0 : (_vTrack$mdia$minf = _vTrack$mdia.minf) === null || _vTrack$mdia$minf === void 0 ? void 0 : (_vTrack$mdia$minf$stb = _vTrack$mdia$minf.stbl) === null || _vTrack$mdia$minf$stb === void 0 ? void 0 : _vTrack$mdia$minf$stb.stss;\n        v.ext.ctts = (_vTrack$mdia2 = vTrack.mdia) === null || _vTrack$mdia2 === void 0 ? void 0 : (_vTrack$mdia2$minf = _vTrack$mdia2.minf) === null || _vTrack$mdia2$minf === void 0 ? void 0 : (_vTrack$mdia2$minf$st = _vTrack$mdia2$minf.stbl) === null || _vTrack$mdia2$minf$st === void 0 ? void 0 : _vTrack$mdia2$minf$st.ctts;\n        if (e1 && e1.type === \"encv\") {\n          var _e1$sinf, _e1$sinf$schi, _e1$sinf2, _e1$sinf2$schi, _e1$sinf3, _e1$sinf3$schi, _e1$sinf4, _e1$sinf4$frma;\n          v.isVideoEncryption = true;\n          e1.default_KID = (_e1$sinf = e1.sinf) === null || _e1$sinf === void 0 ? void 0 : (_e1$sinf$schi = _e1$sinf.schi) === null || _e1$sinf$schi === void 0 ? void 0 : _e1$sinf$schi.tenc.default_KID;\n          e1.default_IsEncrypted = (_e1$sinf2 = e1.sinf) === null || _e1$sinf2 === void 0 ? void 0 : (_e1$sinf2$schi = _e1$sinf2.schi) === null || _e1$sinf2$schi === void 0 ? void 0 : _e1$sinf2$schi.tenc.default_IsEncrypted;\n          e1.default_IV_size = (_e1$sinf3 = e1.sinf) === null || _e1$sinf3 === void 0 ? void 0 : (_e1$sinf3$schi = _e1$sinf3.schi) === null || _e1$sinf3$schi === void 0 ? void 0 : _e1$sinf3$schi.tenc.default_IV_size;\n          v.videoSenc = vTrack.mdia.minf.stbl.senc && vTrack.mdia.minf.stbl.senc.samples;\n          e1.data_format = (_e1$sinf4 = e1.sinf) === null || _e1$sinf4 === void 0 ? void 0 : (_e1$sinf4$frma = _e1$sinf4.frma) === null || _e1$sinf4$frma === void 0 ? void 0 : _e1$sinf4$frma.data_format;\n          v.useEME = moov.useEME;\n          v.kidValue = moov.kidValue;\n          v.pssh = moov.pssh;\n          v.encv = e1;\n        }\n      }\n      if (aTrack && audioTrack) {\n        var _aTrack$tkhd, _e$esds3, _e$esds4, _aTrack$mdia, _aTrack$mdia$minf, _aTrack$mdia$minf$stb, _aTrack$mdia2, _aTrack$mdia2$minf, _aTrack$mdia2$minf$st;\n        var a = audioTrack;\n        var _aTrackId = (_aTrack$tkhd = aTrack.tkhd) === null || _aTrack$tkhd === void 0 ? void 0 : _aTrack$tkhd.trackId;\n        if (_aTrackId !== null && _aTrackId !== void 0)\n          a.id = aTrack.tkhd.trackId;\n        a.tkhdDuration = aTrack.tkhd.duration;\n        a.mvhdDurtion = moov.mvhd.duration;\n        a.mvhdTimecale = moov.mvhd.timescale;\n        a.timescale = a.formatTimescale = aTrack.mdia.mdhd.timescale;\n        a.duration = aTrack.mdia.mdhd.duration || a.mvhdDurtion / a.mvhdTimecale * a.timescale;\n        var _e = aTrack.mdia.minf.stbl.stsd.entries[0];\n        a.sampleSize = _e.sampleSize;\n        a.sampleRate = _e.sampleRate;\n        a.channelCount = _e.channelCount;\n        a.present = true;\n        switch (_e.type) {\n          case \"alaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMA;\n            a.sampleRate = 8e3;\n            break;\n          case \"ulaw\":\n            a.codecType = a.codec = AudioCodecType.G711PCMU;\n            a.sampleRate = 8e3;\n            break;\n          default:\n            a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n            a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n            a.objectType = ((_e$esds = _e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.objectType) || 2;\n            if (_e.esds)\n              a.config = Array.from(_e.esds.config);\n            a.codec = ((_e$esds2 = _e.esds) === null || _e$esds2 === void 0 ? void 0 : _e$esds2.codec) || \"mp4a.40.2\";\n            break;\n        }\n        a.sampleDuration = AAC.getFrameDuration(a.sampleRate, a.timescale);\n        a.objectType = ((_e$esds3 = _e.esds) === null || _e$esds3 === void 0 ? void 0 : _e$esds3.objectType) || 2;\n        if (_e.esds) {\n          if (_e.esds.config) {\n            a.config = Array.from(_e.esds.config);\n          } else {\n            console.warn(\"esds config is null\");\n          }\n        }\n        a.codec = ((_e$esds4 = _e.esds) === null || _e$esds4 === void 0 ? void 0 : _e$esds4.codec) || \"mp4a.40.2\";\n        a.sampleRateIndex = AAC.getRateIndexByRate(a.sampleRate);\n        a.ext = {};\n        a.ext.stss = (_aTrack$mdia = aTrack.mdia) === null || _aTrack$mdia === void 0 ? void 0 : (_aTrack$mdia$minf = _aTrack$mdia.minf) === null || _aTrack$mdia$minf === void 0 ? void 0 : (_aTrack$mdia$minf$stb = _aTrack$mdia$minf.stbl) === null || _aTrack$mdia$minf$stb === void 0 ? void 0 : _aTrack$mdia$minf$stb.stss;\n        a.ext.ctts = (_aTrack$mdia2 = aTrack.mdia) === null || _aTrack$mdia2 === void 0 ? void 0 : (_aTrack$mdia2$minf = _aTrack$mdia2.minf) === null || _aTrack$mdia2$minf === void 0 ? void 0 : (_aTrack$mdia2$minf$st = _aTrack$mdia2$minf.stbl) === null || _aTrack$mdia2$minf$st === void 0 ? void 0 : _aTrack$mdia2$minf$st.ctts;\n        a.present = true;\n        if (_e && _e.type === \"enca\") {\n          var _e$sinf, _e$sinf$frma, _e$sinf2, _e$sinf2$schi, _e$sinf3, _e$sinf3$schi, _e$sinf4, _e$sinf4$schi;\n          a.isAudioEncryption = true;\n          _e.data_format = (_e$sinf = _e.sinf) === null || _e$sinf === void 0 ? void 0 : (_e$sinf$frma = _e$sinf.frma) === null || _e$sinf$frma === void 0 ? void 0 : _e$sinf$frma.data_format;\n          _e.default_KID = (_e$sinf2 = _e.sinf) === null || _e$sinf2 === void 0 ? void 0 : (_e$sinf2$schi = _e$sinf2.schi) === null || _e$sinf2$schi === void 0 ? void 0 : _e$sinf2$schi.tenc.default_KID;\n          _e.default_IsEncrypted = (_e$sinf3 = _e.sinf) === null || _e$sinf3 === void 0 ? void 0 : (_e$sinf3$schi = _e$sinf3.schi) === null || _e$sinf3$schi === void 0 ? void 0 : _e$sinf3$schi.tenc.default_IsEncrypted;\n          _e.default_IV_size = (_e$sinf4 = _e.sinf) === null || _e$sinf4 === void 0 ? void 0 : (_e$sinf4$schi = _e$sinf4.schi) === null || _e$sinf4$schi === void 0 ? void 0 : _e$sinf4$schi.tenc.default_IV_size;\n          a.audioSenc = aTrack.mdia.minf.stbl.senc && aTrack.mdia.minf.stbl.senc.samples;\n          a.useEME = moov.useEME;\n          a.kidValue = moov.kidValue;\n          a.enca = _e;\n        }\n      }\n      audioTrack && (audioTrack.isVideoEncryption = videoTrack ? videoTrack.isVideoEncryption : false);\n      videoTrack && (videoTrack.isAudioEncryption = audioTrack ? audioTrack.isAudioEncryption : false);\n      if (videoTrack !== null && videoTrack !== void 0 && videoTrack.encv || audioTrack !== null && audioTrack !== void 0 && audioTrack.enca) {\n        var _videoTrack$encv, _audioTrack$enca;\n        var vkid = videoTrack === null || videoTrack === void 0 ? void 0 : (_videoTrack$encv = videoTrack.encv) === null || _videoTrack$encv === void 0 ? void 0 : _videoTrack$encv.default_KID;\n        var akid = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$enca = audioTrack.enca) === null || _audioTrack$enca === void 0 ? void 0 : _audioTrack$enca.default_KID;\n        var kid = vkid || akid ? (vkid || akid).join(\"\") : null;\n        videoTrack && (videoTrack.kid = kid);\n        audioTrack && (audioTrack.kid = kid);\n      }\n      videoTrack && (videoTrack.flags = 3841);\n      audioTrack && (audioTrack.flags = 1793);\n      return {\n        videoTrack,\n        audioTrack\n      };\n    }\n  }, {\n    key: \"evaluateDefaultDuration\",\n    value: function evaluateDefaultDuration(videoTrack, audioTrack, videoSampleCount) {\n      var _audioTrack$samples;\n      var audioSampleCount = audioTrack === null || audioTrack === void 0 ? void 0 : (_audioTrack$samples = audioTrack.samples) === null || _audioTrack$samples === void 0 ? void 0 : _audioTrack$samples.length;\n      if (!audioSampleCount)\n        return 1024;\n      var segmentDuration = 1024 * audioSampleCount / audioTrack.timescale;\n      return segmentDuration * videoTrack.timescale / videoSampleCount;\n    }\n  }, {\n    key: \"moofToSamples\",\n    value: function moofToSamples(moof, videoTrack, audioTrack) {\n      var ret = {};\n      if (moof.mfhd) {\n        if (videoTrack)\n          videoTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n        if (audioTrack)\n          audioTrack.sequenceNumber = moof.mfhd.sequenceNumber;\n      }\n      moof.traf.forEach(function(_ref) {\n        var tfhd = _ref.tfhd, tfdt = _ref.tfdt, trun = _ref.trun;\n        if (!tfhd || !trun)\n          return;\n        if (tfdt) {\n          if (videoTrack && videoTrack.id === tfhd.trackId)\n            videoTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n          if (audioTrack && audioTrack.id === tfhd.trackId)\n            audioTrack.baseMediaDecodeTime = tfdt.baseMediaDecodeTime;\n        }\n        var defaultSize = tfhd.defaultSampleSize || 0;\n        var defaultDuration = tfhd.defaultSampleDuration || MP4Parser2.evaluateDefaultDuration(videoTrack, audioTrack, trun.samples.length || trun.sampleCount);\n        var offset = trun.dataOffset || 0;\n        var dts = 0;\n        var gopId = -1;\n        if (!trun.samples.length && trun.sampleCount) {\n          ret[tfhd.trackId] = [];\n          for (var i = 0; i < trun.sampleCount; i++) {\n            ret[tfhd.trackId].push({\n              offset,\n              dts,\n              duration: defaultDuration,\n              size: defaultSize\n            });\n            dts += defaultDuration;\n            offset += defaultSize;\n          }\n        } else {\n          ret[tfhd.trackId] = trun.samples.map(function(s, index) {\n            s = {\n              offset,\n              dts,\n              pts: dts + (s.cts || 0),\n              duration: s.duration || defaultDuration,\n              size: s.size || defaultSize,\n              gopId,\n              keyframe: index === 0 || s.flags !== null && s.flags !== void 0 && (s.flags & 65536) >>> 0 !== 65536\n            };\n            if (s.keyframe) {\n              gopId++;\n              s.gopId = gopId;\n            }\n            dts += s.duration;\n            offset += s.size;\n            return s;\n          });\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"moovToSamples\",\n    value: function moovToSamples(moov) {\n      var tracks = moov.trak;\n      if (!tracks || !tracks.length)\n        return;\n      var vTrack = tracks.find(function(t) {\n        var _t$mdia3, _t$mdia3$hdlr;\n        return ((_t$mdia3 = t.mdia) === null || _t$mdia3 === void 0 ? void 0 : (_t$mdia3$hdlr = _t$mdia3.hdlr) === null || _t$mdia3$hdlr === void 0 ? void 0 : _t$mdia3$hdlr.handlerType) === \"vide\";\n      });\n      var aTrack = tracks.find(function(t) {\n        var _t$mdia4, _t$mdia4$hdlr;\n        return ((_t$mdia4 = t.mdia) === null || _t$mdia4 === void 0 ? void 0 : (_t$mdia4$hdlr = _t$mdia4.hdlr) === null || _t$mdia4$hdlr === void 0 ? void 0 : _t$mdia4$hdlr.handlerType) === \"soun\";\n      });\n      if (!vTrack && !aTrack)\n        return;\n      var videoSamples;\n      var audioSamples;\n      if (vTrack) {\n        var _vTrack$mdia3, _vTrack$mdia3$minf;\n        var videoStbl = (_vTrack$mdia3 = vTrack.mdia) === null || _vTrack$mdia3 === void 0 ? void 0 : (_vTrack$mdia3$minf = _vTrack$mdia3.minf) === null || _vTrack$mdia3$minf === void 0 ? void 0 : _vTrack$mdia3$minf.stbl;\n        if (!videoStbl)\n          return;\n        var stts = videoStbl.stts, stsc = videoStbl.stsc, stsz = videoStbl.stsz, stco = videoStbl.stco, stss = videoStbl.stss, ctts = videoStbl.ctts;\n        if (!stts || !stsc || !stsz || !stco || !stss)\n          return;\n        videoSamples = getSamples(stts, stsc, stsz, stco, ctts, stss);\n      }\n      if (aTrack) {\n        var _aTrack$mdia3, _aTrack$mdia3$minf, _aTrack$mdia$mdhd;\n        var audioStbl = (_aTrack$mdia3 = aTrack.mdia) === null || _aTrack$mdia3 === void 0 ? void 0 : (_aTrack$mdia3$minf = _aTrack$mdia3.minf) === null || _aTrack$mdia3$minf === void 0 ? void 0 : _aTrack$mdia3$minf.stbl;\n        if (!audioStbl)\n          return;\n        var timescale = (_aTrack$mdia$mdhd = aTrack.mdia.mdhd) === null || _aTrack$mdia$mdhd === void 0 ? void 0 : _aTrack$mdia$mdhd.timescale;\n        var _stts = audioStbl.stts, _stsc = audioStbl.stsc, _stsz = audioStbl.stsz, _stco = audioStbl.stco;\n        if (!timescale || !_stts || !_stsc || !_stsz || !_stco)\n          return;\n        audioSamples = getSamples(_stts, _stsc, _stsz, _stco);\n      }\n      return {\n        videoSamples,\n        audioSamples\n      };\n    }\n  }]);\n  return MP4Parser2;\n}();\nfunction getSamples(stts, stsc, stsz, stco, ctts, stss) {\n  var samples = [];\n  var cttsEntries = ctts === null || ctts === void 0 ? void 0 : ctts.entries;\n  var stscEntries = stsc.entries;\n  var stcoEntries = stco.entries;\n  var stszEntrySizes = stsz.entrySizes;\n  var stssEntries = stss === null || stss === void 0 ? void 0 : stss.entries;\n  var keyframeMap;\n  if (stssEntries) {\n    keyframeMap = {};\n    stssEntries.forEach(function(x) {\n      keyframeMap[x - 1] = true;\n    });\n  }\n  var cttsArr;\n  if (cttsEntries) {\n    cttsArr = [];\n    cttsEntries.forEach(function(_ref2) {\n      var count = _ref2.count, offset = _ref2.offset;\n      for (var i = 0; i < count; i++) {\n        cttsArr.push(offset);\n      }\n    });\n  }\n  var sample;\n  var gopId = -1;\n  var dts = 0;\n  var pos = 0;\n  var chunkIndex = 0;\n  var chunkRunIndex = 0;\n  var offsetInChunk = 0;\n  var lastSampleInChunk = stscEntries[0].samplesPerChunk;\n  var lastChunkInRun = stscEntries[1] ? stscEntries[1].firstChunk - 1 : Infinity;\n  stts.entries.forEach(function(_ref3) {\n    var count = _ref3.count, delta = _ref3.delta;\n    for (var i = 0; i < count; i++) {\n      sample = {\n        dts,\n        duration: delta,\n        size: stszEntrySizes[pos] || stsz.sampleSize,\n        offset: stcoEntries[chunkIndex] + offsetInChunk,\n        index: pos\n      };\n      if (stssEntries) {\n        sample.keyframe = keyframeMap[pos];\n        if (sample.keyframe) {\n          gopId++;\n        }\n        sample.gopId = gopId;\n      }\n      if (cttsArr && pos < cttsArr.length) {\n        sample.pts = sample.dts + cttsArr[pos];\n      }\n      samples.push(sample);\n      dts += delta;\n      pos++;\n      if (pos < lastSampleInChunk) {\n        offsetInChunk += sample.size;\n      } else {\n        chunkIndex++;\n        offsetInChunk = 0;\n        if (chunkIndex >= lastChunkInRun) {\n          chunkRunIndex++;\n          lastChunkInRun = stscEntries[chunkRunIndex + 1] ? stscEntries[chunkRunIndex + 1].firstChunk - 1 : Infinity;\n        }\n        lastSampleInChunk += stscEntries[chunkRunIndex].samplesPerChunk;\n      }\n    }\n  });\n  return samples;\n}\nfunction parseVisualSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.width = readBig16(data, 24);\n  ret.height = readBig16(data, 26);\n  ret.horizresolution = readBig32(data, 28);\n  ret.vertresolution = readBig32(data, 32);\n  ret.frameCount = readBig16(data, 40);\n  ret.depth = readBig16(data, 74);\n  return 78;\n}\nfunction parseAudioSampleEntry(ret, data) {\n  ret.dataReferenceIndex = readBig16(data, 6);\n  ret.channelCount = readBig16(data, 16);\n  ret.sampleSize = readBig16(data, 18);\n  ret.sampleRate = readBig32(data, 24) / (1 << 16);\n  return 28;\n}\nfunction parseBox(box, isFullBox, parse) {\n  if (!box)\n    return;\n  if (box.size !== box.data.length)\n    throw new Error(\"box \".concat(box.type, \" size !== data.length\"));\n  var ret = {\n    start: box.start,\n    size: box.size,\n    headerSize: box.headerSize,\n    type: box.type\n  };\n  if (isFullBox) {\n    ret.version = box.data[box.headerSize];\n    ret.flags = readBig24(box.data, box.headerSize + 1);\n    ret.headerSize += 4;\n  }\n  parse(ret, box.data.subarray(ret.headerSize), ret.start + ret.headerSize);\n  return ret;\n}\nvar padStart = function padStart2(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nvar toHex = function toHex2() {\n  var hex = [];\n  for (var _len = arguments.length, value = new Array(_len), _key = 0; _key < _len; _key++) {\n    value[_key] = arguments[_key];\n  }\n  value.forEach(function(item) {\n    hex.push(padStart(Number(item).toString(16), 2, 0));\n  });\n  return hex[0];\n};\nexport { MP4Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { concatUint8Array } from \"xgplayer-streaming-shared\";\nvar Decryptor = /* @__PURE__ */ function() {\n  function Decryptor2() {\n    _classCallCheck(this, Decryptor2);\n    var crypto = window.crypto || window.msCrypto;\n    this.subtle = crypto && (crypto.subtle || crypto.webkitSubtle);\n    this.externalDecryptor = null;\n  }\n  _createClass(Decryptor2, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$externalDecrypt;\n      if ((_this$externalDecrypt = this.externalDecryptor) !== null && _this$externalDecrypt !== void 0 && _this$externalDecrypt.destroy) {\n        this.externalDecryptor.destroy();\n      }\n    }\n  }, {\n    key: \"decrypt\",\n    value: function decrypt(video, audio) {\n      if (!video && !audio)\n        return;\n      var ret = [];\n      if (video) {\n        ret[0] = this._decryptSegment(video);\n      }\n      if (audio) {\n        ret[1] = this._decryptSegment(audio);\n      }\n      return Promise.all(ret);\n    }\n  }, {\n    key: \"_decryptSegment\",\n    value: function() {\n      var _decryptSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(seg) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = seg.data;\n                if (!seg.key) {\n                  _context2.next = 5;\n                  break;\n                }\n                _context2.next = 4;\n                return this._decryptData(seg.data, seg.key, seg.keyIv);\n              case 4:\n                data = _context2.sent;\n              case 5:\n                if (seg.map) {\n                  _context2.next = 7;\n                  break;\n                }\n                return _context2.abrupt(\"return\", data);\n              case 7:\n                return _context2.abrupt(\"return\", concatUint8Array(seg.map, data));\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function _decryptSegment(_x4) {\n        return _decryptSegment2.apply(this, arguments);\n      }\n      return _decryptSegment;\n    }()\n  }, {\n    key: \"_decryptData\",\n    value: function() {\n      var _decryptData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3(data, key, iv) {\n        var aesKey;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.externalDecryptor) {\n                  _context3.next = 6;\n                  break;\n                }\n                _context3.next = 3;\n                return this.externalDecryptor.decrypt(data, key, iv);\n              case 3:\n                return _context3.abrupt(\"return\", _context3.sent);\n              case 6:\n                if (this.subtle) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error(\"crypto is not defined\");\n              case 8:\n                _context3.next = 10;\n                return this.subtle.importKey(\"raw\", key, {\n                  name: \"AES-CBC\"\n                }, false, [\"encrypt\", \"decrypt\"]);\n              case 10:\n                aesKey = _context3.sent;\n                _context3.t0 = Uint8Array;\n                _context3.next = 14;\n                return this.subtle.decrypt({\n                  name: \"AES-CBC\",\n                  iv\n                }, aesKey, data);\n              case 14:\n                _context3.t1 = _context3.sent;\n                return _context3.abrupt(\"return\", new _context3.t0(_context3.t1));\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function _decryptData(_x5, _x6, _x7) {\n        return _decryptData2.apply(this, arguments);\n      }\n      return _decryptData;\n    }()\n  }]);\n  return Decryptor2;\n}();\nexport { Decryptor };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { VideoTrack } from \"../model/video-track.js\";\nimport { AudioTrack } from \"../model/audio-track.js\";\nimport { VideoSample } from \"../model/video-sample.js\";\nimport { AudioSample } from \"../model/audio-sample.js\";\nimport { MetadataTrack } from \"../model/metadata-track.js\";\nimport { readBig32 } from \"../utils/index.js\";\nimport { MP4Parser } from \"./mp4-parser.js\";\nvar FMP4Demuxer = /* @__PURE__ */ function() {\n  function FMP4Demuxer2(videoTrack, audioTrack, metadataTrack) {\n    _classCallCheck(this, FMP4Demuxer2);\n    this.videoTrack = videoTrack || new VideoTrack();\n    this.audioTrack = audioTrack || new AudioTrack();\n    this.metadataTrack = metadataTrack || new MetadataTrack();\n  }\n  _createClass(FMP4Demuxer2, [{\n    key: \"demux\",\n    value: function demux(videoData, audioData) {\n      var videoTrack = this.videoTrack, audioTrack = this.audioTrack;\n      var videoExist = videoTrack.exist();\n      var audioExist = audioTrack.exist();\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      if (audioData) {\n        if (!audioExist) {\n          var moovBox = MP4Parser.findBox(audioData, [\"moov\"])[0];\n          if (!moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(moovBox), null, audioTrack);\n        }\n        var moofBox = MP4Parser.findBox(audioData, [\"moof\"])[0];\n        if (moofBox) {\n          var samples = MP4Parser.moofToSamples(MP4Parser.moof(moofBox), null, audioTrack)[audioTrack.id];\n          var baseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          if (samples) {\n            var baseOffset = moofBox.start;\n            samples.map(function(x) {\n              x.offset += baseOffset;\n              var sampleData = audioData.subarray(x.offset, x.offset + x.size);\n              audioTrack.samples.push(new AudioSample(x.dts + baseMediaDecodeTime, sampleData, x.duration));\n            });\n          }\n        }\n      }\n      if (videoData) {\n        if (!videoExist && !audioExist) {\n          var _moovBox = MP4Parser.findBox(videoData, [\"moov\"])[0];\n          if (!_moovBox)\n            throw new Error(\"cannot found moov box\");\n          MP4Parser.moovToTrack(MP4Parser.moov(_moovBox), videoTrack, audioTrack);\n        }\n        var _moofBox = MP4Parser.findBox(videoData, [\"moof\"])[0];\n        if (_moofBox) {\n          var tracks = MP4Parser.moofToSamples(MP4Parser.moof(_moofBox), videoTrack, audioTrack);\n          var videoBaseMediaDecodeTime = videoTrack.baseMediaDecodeTime;\n          var audioBaseMediaDecodeTime = audioTrack.baseMediaDecodeTime;\n          var _baseOffset = _moofBox.start;\n          var nalSize;\n          Object.keys(tracks).forEach(function(k) {\n            if (videoTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sample = new VideoSample((x.pts || x.dts) + videoBaseMediaDecodeTime, x.dts + videoBaseMediaDecodeTime);\n                sample.duration = x.duration;\n                sample.gopId = x.gopId;\n                if (x.keyframe)\n                  sample.setToKeyframe();\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                sample.data = sampleData;\n                var start = 0;\n                var len = sampleData.length - 1;\n                while (start < len) {\n                  nalSize = readBig32(sampleData, start);\n                  start += 4;\n                  sample.units.push(sampleData.subarray(start, start + nalSize));\n                  start += nalSize;\n                }\n                videoTrack.samples.push(sample);\n              });\n            } else if (audioTrack.id == k) {\n              tracks[k].map(function(x) {\n                x.offset += _baseOffset;\n                var sampleData = videoData.subarray(x.offset, x.offset + x.size);\n                audioTrack.samples.push(new AudioSample(x.dts + audioBaseMediaDecodeTime, sampleData, x.duration));\n              });\n            }\n          });\n        }\n      }\n      return {\n        videoTrack,\n        audioTrack,\n        metadataTrack: this.metadataTrack\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n      this.metadataTrack.reset();\n    }\n  }], [{\n    key: \"probe\",\n    value: function probe(data) {\n      return MP4Parser.probe(data);\n    }\n  }]);\n  return FMP4Demuxer2;\n}();\nexport { FMP4Demuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction Concat(ResultConstructor) {\n  var totalLength = 0;\n  for (var _len = arguments.length, arrays = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    arrays[_key - 1] = arguments[_key];\n  }\n  arrays.forEach(function(arr) {\n    totalLength += arr.length;\n  });\n  var result = new ResultConstructor(totalLength);\n  var offset = 0;\n  arrays.forEach(function(arr) {\n    result.set(arr, offset);\n    offset += arr.length;\n  });\n  return result;\n}\nvar Buffer = /* @__PURE__ */ function() {\n  function Buffer2() {\n    _classCallCheck(this, Buffer2);\n    this.buffer = new Uint8Array(0);\n  }\n  _createClass(Buffer2, [{\n    key: \"write\",\n    value: function write() {\n      var self = this;\n      for (var _len2 = arguments.length, buffer = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        buffer[_key2] = arguments[_key2];\n      }\n      buffer.forEach(function(item) {\n        if (item) {\n          self.buffer = Concat(Uint8Array, self.buffer, item);\n        } else {\n          window.console.warn(item);\n        }\n      });\n    }\n  }], [{\n    key: \"writeUint16\",\n    value: function writeUint16(value) {\n      return new Uint8Array([value >> 8 & 255, value & 255]);\n    }\n  }, {\n    key: \"writeUint32\",\n    value: function writeUint32(value) {\n      return new Uint8Array([value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255]);\n    }\n  }]);\n  return Buffer2;\n}();\nexport { Buffer as default };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray, slicedToArray as _slicedToArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TrackType, VideoCodecType } from \"../model/types.js\";\nimport { concatUint8Array, parse } from \"../utils/index.js\";\nimport Buffer from \"./buffer.js\";\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar MP4 = /* @__PURE__ */ function() {\n  function MP42() {\n    _classCallCheck(this, MP42);\n  }\n  _createClass(MP42, null, [{\n    key: \"box\",\n    value: function box(type) {\n      for (var _len = arguments.length, payload = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        payload[_key - 1] = arguments[_key];\n      }\n      payload = payload.filter(Boolean);\n      var size = 8 + payload.reduce(function(p, c) {\n        return p + c.byteLength;\n      }, 0);\n      var ret = new Uint8Array(size);\n      ret[0] = size >> 24 & 255;\n      ret[1] = size >> 16 & 255;\n      ret[2] = size >> 8 & 255;\n      ret[3] = size & 255;\n      ret.set(type, 4);\n      var offset = 8;\n      payload.forEach(function(data) {\n        ret.set(data, offset);\n        offset += data.byteLength;\n      });\n      return ret;\n    }\n  }, {\n    key: \"ftyp\",\n    value: function ftyp(tracks) {\n      var isHevc = tracks.find(function(t) {\n        return t.type === TrackType.VIDEO && t.codecType === VideoCodecType.HEVC;\n      });\n      return isHevc ? MP42.FTYPHEV1 : MP42.FTYPAVC1;\n    }\n  }, {\n    key: \"initSegment\",\n    value: function initSegment(tracks) {\n      var ftyp = MP42.ftyp(tracks);\n      var init = concatUint8Array(ftyp, MP42.moov(tracks));\n      return init;\n    }\n  }, {\n    key: \"pssh\",\n    value: function pssh(data) {\n      var content = new Uint8Array([\n        1,\n        0,\n        0,\n        0\n      ].concat([16, 119, 239, 236, 192, 178, 77, 2, 172, 227, 60, 30, 82, 226, 251, 75], [0, 0, 0, 1], parse(data.kid), [0, 0, 0, 0]));\n      return MP42.box(MP42.types.pssh, content);\n    }\n  }, {\n    key: \"moov\",\n    value: function moov(tracks) {\n      if (tracks[0].useEME && (tracks[0].encv || tracks[0].enca)) {\n        if (!tracks[0].pssh) {\n          tracks[0].pssh = {\n            kid: tracks[0].kid\n          };\n        }\n        var pssh = this.pssh(tracks[0].pssh);\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale), MP42.mvex(tracks)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [pssh]));\n      } else {\n        return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].mvhdDurtion || tracks[0].duration, tracks[0].mvhdTimecale || tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n          return MP42.trak(t);\n        })), [MP42.mvex(tracks)]));\n      }\n    }\n  }, {\n    key: \"mvhd\",\n    value: function mvhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mvhd2 = MP42.box(MP42.types.mvhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        1,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        255,\n        255,\n        255,\n        255\n      ]));\n      return mvhd2;\n    }\n  }, {\n    key: \"trak\",\n    value: function trak(track) {\n      var trak2 = MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.tkhdDuration || 0, track.width, track.height), MP42.mdia(track));\n      return trak2;\n    }\n  }, {\n    key: \"tkhd\",\n    value: function tkhd(id, duration) {\n      var width = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var height = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var tkhd2 = MP42.box(MP42.types.tkhd, new Uint8Array([\n        0,\n        0,\n        0,\n        7,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        id >> 24 & 255,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        0,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        64,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        0,\n        0,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        0\n      ]));\n      return tkhd2;\n    }\n  }, {\n    key: \"mdia\",\n    value: function mdia(track) {\n      var mdia2 = MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minf(track));\n      return mdia2;\n    }\n  }, {\n    key: \"mdhd\",\n    value: function mdhd(duration) {\n      var timescale = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9e4;\n      var mdhd2 = MP42.box(MP42.types.mdhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        duration >> 24 & 255,\n        duration >> 16 & 255,\n        duration >> 8 & 255,\n        duration & 255,\n        85,\n        196,\n        0,\n        0\n      ]));\n      return mdhd2;\n    }\n  }, {\n    key: \"hdlr\",\n    value: function hdlr(type) {\n      var hdlr2 = MP42.box(MP42.types.hdlr, MP42.HDLR_TYPES[type]);\n      return hdlr2;\n    }\n  }, {\n    key: \"minf\",\n    value: function minf(track) {\n      var minf2 = MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stbl(track));\n      return minf2;\n    }\n  }, {\n    key: \"stbl\",\n    value: function stbl(track) {\n      var extBox = [];\n      if (track && track.ext) {\n        track.ext.stss && extBox.push(MP42.stss(track.ext.stss.entries));\n      }\n      var stbl2 = MP42.box(MP42.types.stbl, MP42.stsd(track), MP42.STTS, extBox[0], MP42.STSC, MP42.STSZ, MP42.STCO);\n      return stbl2;\n    }\n  }, {\n    key: \"stsd\",\n    value: function stsd(track) {\n      var content;\n      if (track.type === \"audio\") {\n        if (track.useEME && track.enca) {\n          content = MP42.enca(track);\n        } else {\n          content = MP42.mp4a(track);\n        }\n      } else if (track.useEME && track.encv) {\n        content = MP42.encv(track);\n      } else {\n        content = MP42.avc1hev1(track);\n      }\n      var stsd2 = MP42.box(MP42.types.stsd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]), content);\n      return stsd2;\n    }\n  }, {\n    key: \"enca\",\n    value: function enca(data) {\n      var channelCount = data.enca.channelCount;\n      var sampleRate = data.enca.sampleRate;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        sampleRate >> 8 & 255,\n        sampleRate & 255,\n        0,\n        0\n      ]);\n      var esds = MP42.esds(data.config);\n      var sinf = MP42.sinf(data.enca);\n      return MP42.box(MP42.types.enca, content, esds, sinf);\n    }\n  }, {\n    key: \"encv\",\n    value: function encv(track) {\n      var _concat$concat, _ref;\n      var sps = track.sps.length > 0 ? track.sps[0] : [];\n      var pps = track.pps.length > 0 ? track.pps[0] : [];\n      var width = track.width;\n      var height = track.height;\n      var hSpacing = track.sarRatio[0];\n      var vSpacing = track.sarRatio[1];\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        width >> 8 & 255,\n        width & 255,\n        height >> 8 & 255,\n        height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        18,\n        100,\n        97,\n        105,\n        108,\n        121,\n        109,\n        111,\n        116,\n        105,\n        111,\n        110,\n        47,\n        104,\n        108,\n        115,\n        46,\n        106,\n        115,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]);\n      var avcc = new Uint8Array((_concat$concat = (_ref = [\n        1,\n        sps[1],\n        sps[2],\n        sps[3],\n        252 | 3,\n        224 | 1,\n        sps.length >>> 8 & 255,\n        sps.length & 255\n      ]).concat.apply(_ref, _toConsumableArray(sps)).concat([1, pps.length >>> 8 & 255, pps.length & 255])).concat.apply(_concat$concat, _toConsumableArray(pps)));\n      var btrt = new Uint8Array([0, 0, 88, 57, 0, 15, 200, 192, 0, 4, 86, 72]);\n      var sinf = MP42.sinf(track.encv);\n      var pasp = new Uint8Array([\n        hSpacing >> 24,\n        hSpacing >> 16 & 255,\n        hSpacing >> 8 & 255,\n        hSpacing & 255,\n        vSpacing >> 24,\n        vSpacing >> 16 & 255,\n        vSpacing >> 8 & 255,\n        vSpacing & 255\n      ]);\n      return MP42.box(MP42.types.encv, content, MP42.box(MP42.types.avcC, avcc), MP42.box(MP42.types.btrt, btrt), sinf, MP42.box(MP42.types.pasp, pasp));\n    }\n  }, {\n    key: \"schi\",\n    value: function schi(data) {\n      var content = new Uint8Array([]);\n      var tenc = MP42.tenc(data);\n      return MP42.box(MP42.types.schi, content, tenc);\n    }\n  }, {\n    key: \"tenc\",\n    value: function tenc(data) {\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.default_IsEncrypted & 255,\n        data.default_IV_size & 255\n      ].concat(parse(data.default_KID)));\n      return MP42.box(MP42.types.tenc, content);\n    }\n  }, {\n    key: \"sinf\",\n    value: function sinf(data) {\n      var content = new Uint8Array([]);\n      var frma = new Uint8Array([data.data_format.charCodeAt(0), data.data_format.charCodeAt(1), data.data_format.charCodeAt(2), data.data_format.charCodeAt(3)]);\n      var schm = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        99,\n        101,\n        110,\n        99,\n        0,\n        1,\n        0,\n        0\n      ]);\n      var schi = MP42.schi(data);\n      return MP42.box(MP42.types.sinf, content, MP42.box(MP42.types.frma, frma), MP42.box(MP42.types.schm, schm), schi);\n    }\n  }, {\n    key: \"avc1hev1\",\n    value: function avc1hev1(track) {\n      var isHevc = track.codecType === VideoCodecType.HEVC;\n      var typ = isHevc ? MP42.types.hvc1 : MP42.types.avc1;\n      var config = isHevc ? MP42.hvcC(track) : MP42.avcC(track);\n      var boxes = [new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.width >> 8 & 255,\n        track.width & 255,\n        track.height >> 8 & 255,\n        track.height & 255,\n        0,\n        72,\n        0,\n        0,\n        0,\n        72,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        24,\n        17,\n        17\n      ]), config];\n      if (isHevc) {\n        boxes.push(MP42.box(MP42.types.fiel, new Uint8Array([1, 0])));\n      } else if (track.sarRatio && track.sarRatio.length > 1) {\n        boxes.push(MP42.pasp(track.sarRatio));\n      }\n      return MP42.box.apply(MP42, [typ].concat(boxes));\n    }\n  }, {\n    key: \"avcC\",\n    value: function avcC(track) {\n      var _concat$concat2, _ref2;\n      var sps = [];\n      var pps = [];\n      var len;\n      track.sps.forEach(function(s) {\n        len = s.byteLength;\n        sps.push(len >>> 8 & 255);\n        sps.push(len & 255);\n        sps.push.apply(sps, _toConsumableArray(s));\n      });\n      track.pps.forEach(function(p) {\n        len = p.byteLength;\n        pps.push(len >>> 8 & 255);\n        pps.push(len & 255);\n        pps.push.apply(pps, _toConsumableArray(p));\n      });\n      return MP42.box(MP42.types.avcC, new Uint8Array((_concat$concat2 = (_ref2 = [\n        1,\n        sps[3],\n        sps[4],\n        sps[5],\n        252 | 3,\n        224 | track.sps.length\n      ]).concat.apply(_ref2, sps).concat([track.pps.length])).concat.apply(_concat$concat2, pps)));\n    }\n  }, {\n    key: \"hvcC\",\n    value: function hvcC(track) {\n      var hvcC2 = track.hvcC;\n      if (hvcC2 instanceof ArrayBuffer || hvcC2 instanceof Uint8Array)\n        return hvcC2;\n      var vps = track.vps, sps = track.sps, pps = track.pps;\n      var data;\n      if (hvcC2) {\n        var pcf = hvcC2.generalProfileCompatibilityFlags;\n        var cif = hvcC2.generalConstraintIndicatorFlags;\n        var numOfArrays = (vps.length && 1) + (sps.length && 1) + (pps.length && 1);\n        data = [\n          1,\n          hvcC2.generalProfileSpace << 6 | hvcC2.generalTierFlag << 5 | hvcC2.generalProfileIdc,\n          pcf >>> 24,\n          pcf >>> 16,\n          pcf >>> 8,\n          pcf,\n          cif[0],\n          cif[1],\n          cif[2],\n          cif[3],\n          cif[4],\n          cif[5],\n          hvcC2.generalLevelIdc,\n          240,\n          0,\n          252,\n          hvcC2.chromaFormatIdc | 252,\n          hvcC2.bitDepthLumaMinus8 | 248,\n          hvcC2.bitDepthChromaMinus8 | 248,\n          0,\n          0,\n          hvcC2.numTemporalLayers << 3 | hvcC2.temporalIdNested << 2 | 3,\n          numOfArrays\n        ];\n        var write = function write2(x) {\n          var _data;\n          data.push(x.length >> 8, x.length);\n          (_data = data).push.apply(_data, _toConsumableArray(x));\n        };\n        if (vps.length) {\n          data.push(160, 0, vps.length);\n          vps.forEach(write);\n        }\n        if (sps.length) {\n          data.push(161, 0, sps.length);\n          sps.forEach(write);\n        }\n        if (pps.length) {\n          data.push(162, 0, pps.length);\n          pps.forEach(write);\n        }\n      } else {\n        data = [\n          1,\n          1,\n          96,\n          0,\n          0,\n          0,\n          144,\n          0,\n          0,\n          0,\n          0,\n          0,\n          93,\n          240,\n          0,\n          252,\n          253,\n          248,\n          248,\n          0,\n          0,\n          15,\n          3,\n          160,\n          0,\n          1,\n          0,\n          24,\n          64,\n          1,\n          12,\n          1,\n          255,\n          255,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          153,\n          152,\n          9,\n          161,\n          0,\n          1,\n          0,\n          45,\n          66,\n          1,\n          1,\n          1,\n          96,\n          0,\n          0,\n          3,\n          0,\n          144,\n          0,\n          0,\n          3,\n          0,\n          0,\n          3,\n          0,\n          93,\n          160,\n          2,\n          128,\n          128,\n          45,\n          22,\n          89,\n          153,\n          164,\n          147,\n          43,\n          154,\n          128,\n          128,\n          128,\n          130,\n          0,\n          0,\n          3,\n          0,\n          2,\n          0,\n          0,\n          3,\n          0,\n          50,\n          16,\n          162,\n          0,\n          1,\n          0,\n          7,\n          68,\n          1,\n          193,\n          114,\n          180,\n          98,\n          64\n        ];\n      }\n      return MP42.box(MP42.types.hvcC, new Uint8Array(data));\n    }\n  }, {\n    key: \"pasp\",\n    value: function pasp(_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2), hSpacing = _ref4[0], vSpacing = _ref4[1];\n      return MP42.box(MP42.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 255, hSpacing >> 8 & 255, hSpacing & 255, vSpacing >> 24, vSpacing >> 16 & 255, vSpacing >> 8 & 255, vSpacing & 255]));\n    }\n  }, {\n    key: \"mp4a\",\n    value: function mp4a(track) {\n      return MP42.box(MP42.types.mp4a, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        track.channelCount,\n        0,\n        16,\n        0,\n        0,\n        0,\n        0,\n        track.sampleRate >> 8 & 255,\n        track.sampleRate & 255,\n        0,\n        0\n      ]), track.config.length ? MP42.esds(track.config) : void 0);\n    }\n  }, {\n    key: \"esds\",\n    value: function esds(config) {\n      var len = config.length;\n      var esds2 = MP42.box(MP42.types.esds, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        3,\n        23 + len,\n        0,\n        0,\n        0,\n        4,\n        15 + len,\n        64,\n        21,\n        0,\n        6,\n        0,\n        0,\n        0,\n        218,\n        192,\n        0,\n        0,\n        218,\n        192,\n        5\n      ].concat([len]).concat(config).concat(\n        [6, 1, 2]\n      )));\n      return esds2;\n    }\n  }, {\n    key: \"mvex\",\n    value: function mvex(tracks) {\n      var mvex2 = MP42.box.apply(MP42, [MP42.types.mvex].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trex(t.id);\n      }))));\n      return mvex2;\n    }\n  }, {\n    key: \"trex\",\n    value: function trex(id) {\n      var trex2 = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        1\n      ]));\n      return trex2;\n    }\n  }, {\n    key: \"trex1\",\n    value: function trex1(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"trex2\",\n    value: function trex2(id) {\n      var trex = MP42.box(MP42.types.trex, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        4,\n        0,\n        0,\n        0,\n        0,\n        0,\n        2,\n        0,\n        0,\n        0\n      ]));\n      return trex;\n    }\n  }, {\n    key: \"moof\",\n    value: function moof(tracks) {\n      var moof2 = MP42.box.apply(MP42, [MP42.types.moof, MP42.mfhd(tracks[0].samples ? tracks[0].samples[0].gopId : 0)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.traf(t);\n      }))));\n      return moof2;\n    }\n  }, {\n    key: \"mfhd\",\n    value: function mfhd(sequenceNumber) {\n      var mfhd2 = MP42.box(MP42.types.mfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        sequenceNumber >> 24,\n        sequenceNumber >> 16 & 255,\n        sequenceNumber >> 8 & 255,\n        sequenceNumber & 255\n      ]));\n      return mfhd2;\n    }\n  }, {\n    key: \"traf\",\n    value: function traf(track) {\n      var tfhd = MP42.tfhd(track.id);\n      var tfdt = MP42.tfdt(track, track.baseMediaDecodeTime);\n      var sencLength = 0;\n      var samples;\n      if (track.isVideo && track.videoSenc) {\n        samples = track.videoSenc;\n        samples.forEach(function(item) {\n          sencLength = sencLength + 8;\n          if (item.subsamples && item.subsamples.length) {\n            sencLength = sencLength + 2;\n            sencLength = sencLength + item.subsamples.length * 6;\n          }\n        });\n      }\n      track.videoSencLength = sencLength;\n      if (!track.useEME || !track.isVideoEncryption && !track.isAudioEncryption) {\n        var sdtp = MP42.sdtp(track);\n        var offset = 16 + 20 + 8 + 16 + 8 + 8;\n        return MP42.box(MP42.types.traf, tfhd, tfdt, sdtp, MP42.trun(track.samples, sdtp.byteLength + offset));\n      } else if (track.isVideoEncryption) {\n        if (track.isVideo) {\n          var saiz = MP42.saiz(track);\n          var saio = MP42.saio(track);\n          var trun = MP42.trun1(track);\n          var senc = MP42.senc(track);\n          var traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, saiz, saio, trun, senc);\n          return traf2;\n        } else {\n          if (!track.isAudioEncryption) {\n            var sbgp = MP42.sbgp();\n            var _trun = MP42.trun1(track);\n            return MP42.box(MP42.types.traf, tfhd, tfdt, sbgp, _trun);\n          } else {\n            var _sbgp = MP42.sbgp();\n            var _saiz = MP42.saiz(track);\n            var _saio = MP42.saio(track);\n            var _senc = MP42.senc(track);\n            var _trun2 = MP42.trun1(track);\n            var _traf = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp, _saiz, _saio, _senc, _trun2);\n            return _traf;\n          }\n        }\n      } else {\n        if (track.isVideo) {\n          var _trun3 = MP42.trun1(track);\n          return MP42.box(MP42.types.traf, tfhd, tfdt, _trun3);\n        } else {\n          var _sbgp2 = MP42.sbgp();\n          var _saiz2 = MP42.saiz(track);\n          var _saio2 = MP42.saio(track);\n          var _senc2 = MP42.senc(track);\n          var _trun4 = MP42.trun1(track);\n          var _traf2 = MP42.box(MP42.types.traf, tfhd, tfdt, _sbgp2, _saiz2, _saio2, _senc2, _trun4);\n          return _traf2;\n        }\n      }\n    }\n  }, {\n    key: \"sdtp\",\n    value: function sdtp(data) {\n      var buffer = new Buffer();\n      data.samples.forEach(function(item) {\n        buffer.write(new Uint8Array(data.isVideo ? [item.keyframe ? 32 : 16] : [16]));\n      });\n      return MP42.box(MP42.types.sdtp, this.extension(0, 0), buffer.buffer);\n    }\n  }, {\n    key: \"trun1\",\n    value: function trun1(data) {\n      var buffer = new Buffer();\n      var sampleCount = Buffer.writeUint32(data.samples.length);\n      var offset = null;\n      if (data.isVideo) {\n        var sencLength = data.videoSencLength;\n        offset = Buffer.writeUint32(data.samples.length * 16 + sencLength + 149);\n        if (!data.isVideoEncryption && data.isAudioEncryption) {\n          offset = Buffer.writeUint32(data.samples.length * 16 + 92);\n        }\n      } else {\n        var len = data.samples.length * 12 + 124;\n        if (data.isAudioEncryption) {\n          len = data.samples.length * 12 + 8 * data.audioSenc.length + 177;\n        }\n        offset = Buffer.writeUint32(len);\n      }\n      data.samples.forEach(function(item) {\n        buffer.write(Buffer.writeUint32(item.duration));\n        buffer.write(Buffer.writeUint32(item.size));\n        buffer.write(Buffer.writeUint32(item.keyframe ? 33554432 : 65536));\n        if (data.isVideo) {\n          buffer.write(Buffer.writeUint32(item.cts ? item.cts : 0));\n        }\n      });\n      return MP42.box(MP42.types.trun, this.extension(0, data.flags), sampleCount, offset, buffer.buffer);\n    }\n  }, {\n    key: \"senc\",\n    value: function senc(data) {\n      var buffer = new Buffer();\n      var len = data.samples.length;\n      var ceil = data.isVideo ? 16 : 8;\n      var flag = data.isVideo ? 2 : 0;\n      var samples = [];\n      var samplesLength = 0;\n      if (data.isVideo) {\n        samples = data.videoSenc;\n        samplesLength = data.videoSencLength;\n      } else {\n        samples = data.audioSenc;\n      }\n      samplesLength = samplesLength || ceil * len;\n      buffer.write(Buffer.writeUint32(16 + samplesLength), MP42.types.senc, this.extension(0, flag));\n      buffer.write(Buffer.writeUint32(len));\n      samples.forEach(function(item) {\n        for (var i = 0; i < item.InitializationVector.length; i++) {\n          buffer.write(new Uint8Array([item.InitializationVector[i]]));\n        }\n        if (item.subsamples && item.subsamples.length) {\n          buffer.write(Buffer.writeUint16(item.subsamples.length));\n          item.subsamples.forEach(function(value) {\n            buffer.write(Buffer.writeUint16(value.BytesOfClearData));\n            buffer.write(Buffer.writeUint32(value.BytesOfProtectedData));\n          });\n        }\n      });\n      return buffer.buffer;\n    }\n  }, {\n    key: \"saio\",\n    value: function saio(data) {\n      var length = data.samples.length * 12 + 141;\n      if (!data.isVideo && data.isAudioEncryption) {\n        length = 149;\n      }\n      var content = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, length >> 24 & 255, length >> 16 & 255, length >> 8 & 255, length & 255]);\n      return MP42.box(MP42.types.saio, content);\n    }\n  }, {\n    key: \"saiz\",\n    value: function saiz(data) {\n      var samplesLength = data.samples.length;\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        16,\n        samplesLength >> 24 & 255,\n        samplesLength >> 16 & 255,\n        samplesLength >> 8 & 255,\n        samplesLength & 255\n      ]);\n      return MP42.box(MP42.types.saiz, content);\n    }\n  }, {\n    key: \"sbgp\",\n    value: function sbgp() {\n      var content = new Uint8Array([\n        114,\n        111,\n        108,\n        108,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        1,\n        25,\n        0,\n        0,\n        0,\n        1\n      ]);\n      return MP42.box(MP42.types.sbgp, this.extension(0, 0), content);\n    }\n  }, {\n    key: \"extension\",\n    value: function extension(version, flag) {\n      return new Uint8Array([version, flag >> 16 & 255, flag >> 8 & 255, flag & 255]);\n    }\n  }, {\n    key: \"tfhd\",\n    value: function tfhd(id) {\n      return MP42.box(MP42.types.tfhd, new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        id >> 24,\n        id >> 16 & 255,\n        id >> 8 & 255,\n        id & 255\n      ]));\n    }\n  }, {\n    key: \"tfdt\",\n    value: function tfdt(data, baseMediaDecodeTime) {\n      var upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n      var lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n      if (data.useEME && (data.isVideoEncryption || data.isAudioEncryption)) {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          0,\n          0,\n          0,\n          0,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      } else {\n        return MP42.box(MP42.types.tfdt, new Uint8Array([\n          1,\n          0,\n          0,\n          0,\n          upperWordBaseMediaDecodeTime >> 24,\n          upperWordBaseMediaDecodeTime >> 16 & 255,\n          upperWordBaseMediaDecodeTime >> 8 & 255,\n          upperWordBaseMediaDecodeTime & 255,\n          lowerWordBaseMediaDecodeTime >> 24,\n          lowerWordBaseMediaDecodeTime >> 16 & 255,\n          lowerWordBaseMediaDecodeTime >> 8 & 255,\n          lowerWordBaseMediaDecodeTime & 255\n        ]));\n      }\n    }\n  }, {\n    key: \"trun\",\n    value: function trun(samples, offset) {\n      var sampleLen = samples.length;\n      var dataLen = 12 + 16 * sampleLen;\n      offset += 8 + dataLen;\n      var data = new Uint8Array(dataLen);\n      data.set([\n        0,\n        0,\n        15,\n        1,\n        sampleLen >>> 24 & 255,\n        sampleLen >>> 16 & 255,\n        sampleLen >>> 8 & 255,\n        sampleLen & 255,\n        offset >>> 24 & 255,\n        offset >>> 16 & 255,\n        offset >>> 8 & 255,\n        offset & 255\n      ], 0);\n      for (var i = 0; i < sampleLen; i++) {\n        var _samples$i = samples[i], duration = _samples$i.duration, size = _samples$i.size, _samples$i$flag = _samples$i.flag, flag = _samples$i$flag === void 0 ? {} : _samples$i$flag, _samples$i$cts = _samples$i.cts, cts = _samples$i$cts === void 0 ? 0 : _samples$i$cts;\n        data.set([\n          duration >>> 24 & 255,\n          duration >>> 16 & 255,\n          duration >>> 8 & 255,\n          duration & 255,\n          size >>> 24 & 255,\n          size >>> 16 & 255,\n          size >>> 8 & 255,\n          size & 255,\n          flag.isLeading << 2 | (flag.dependsOn === null || flag.dependsOn === void 0 ? 1 : flag.dependsOn),\n          flag.isDependedOn << 6 | flag.hasRedundancy << 4 | flag.paddingValue << 1 | (flag.isNonSyncSample === null || flag.isNonSyncSample === void 0 ? 1 : flag.isNonSyncSample),\n          flag.degradationPriority & 240 << 8,\n          flag.degradationPriority & 15,\n          cts >>> 24 & 255,\n          cts >>> 16 & 255,\n          cts >>> 8 & 255,\n          cts & 255\n        ], 12 + 16 * i);\n      }\n      return MP42.box(MP42.types.trun, data);\n    }\n  }, {\n    key: \"moovMP4\",\n    value: function moovMP4(tracks) {\n      return MP42.box.apply(MP42, [MP42.types.moov, MP42.mvhd(tracks[0].duration, tracks[0].timescale)].concat(_toConsumableArray(tracks.map(function(t) {\n        return MP42.trackMP4(t);\n      }))));\n    }\n  }, {\n    key: \"trackMP4\",\n    value: function trackMP4(track) {\n      return MP42.box(MP42.types.trak, MP42.tkhd(track.id, track.duration, track.width, track.height), MP42.mdiaMP4(track));\n    }\n  }, {\n    key: \"mdiaMP4\",\n    value: function mdiaMP4(track) {\n      return MP42.box(MP42.types.mdia, MP42.mdhd(track.duration, track.timescale), MP42.hdlr(track.type), MP42.minfMP4(track));\n    }\n  }, {\n    key: \"minfMP4\",\n    value: function minfMP4(track) {\n      return MP42.box(MP42.types.minf, track.type === TrackType.VIDEO ? MP42.VMHD : MP42.SMHD, MP42.DINF, MP42.stblMP4(track));\n    }\n  }, {\n    key: \"stblMP4\",\n    value: function stblMP4(track) {\n      var ext = track.ext;\n      var boxes = [MP42.stsd(track), MP42.stts(ext.stts), MP42.stsc(ext.stsc), MP42.stsz(ext.stsz), MP42.stco(ext.stco)];\n      if (ext.stss.length) {\n        boxes.push(MP42.stss(ext.stss));\n      }\n      if (ext.ctts.length) {\n        boxes.push(MP42.ctts(ext.ctts));\n      }\n      return MP42.box.apply(MP42, [MP42.types.stbl].concat(boxes));\n    }\n  }, {\n    key: \"stts\",\n    value: function stts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref5) {\n        var value = _ref5.value, count = _ref5.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.stts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsc\",\n    value: function stsc(entries) {\n      var len = entries.length;\n      var data = new Uint8Array(12 * len);\n      var offset = 0;\n      entries.forEach(function(_ref6) {\n        var firstChunk = _ref6.firstChunk, samplesPerChunk = _ref6.samplesPerChunk, sampleDescIndex = _ref6.sampleDescIndex;\n        data.set([firstChunk >> 24, firstChunk >> 16 & 255, firstChunk >> 8 & 255, firstChunk & 255, samplesPerChunk >> 24, samplesPerChunk >> 16 & 255, samplesPerChunk >> 8 & 255, samplesPerChunk & 255, sampleDescIndex >> 24, sampleDescIndex >> 16 & 255, sampleDescIndex >> 8 & 255, sampleDescIndex & 255], offset);\n        offset += 12;\n      });\n      return MP42.box(MP42.types.stsc, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stsz\",\n    value: function stsz(samplesSizes) {\n      var len = samplesSizes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      samplesSizes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stsz, concatUint8Array(new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stco\",\n    value: function stco(offsets) {\n      var len = offsets.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      offsets.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stco, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"stss\",\n    value: function stss(keyframeIndexes) {\n      var len = keyframeIndexes.length;\n      var data = new Uint8Array(4 * len);\n      var offset = 0;\n      keyframeIndexes.forEach(function(x) {\n        data.set([x >> 24, x >> 16 & 255, x >> 8 & 255, x & 255], offset);\n        offset += 4;\n      });\n      return MP42.box(MP42.types.stss, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"ctts\",\n    value: function ctts(samples) {\n      var len = samples.length;\n      var data = new Uint8Array(8 * len);\n      var offset = 0;\n      samples.forEach(function(_ref7) {\n        var value = _ref7.value, count = _ref7.count;\n        data.set([count >> 24, count >> 16 & 255, count >> 8 & 255, count & 255, value >> 24, value >> 16 & 255, value >> 8 & 255, value & 255], offset);\n        offset += 8;\n      });\n      return MP42.box(MP42.types.ctts, concatUint8Array(new Uint8Array([0, 0, 0, 0, len >> 24, len >> 16 & 255, len >> 8 & 255, len & 255]), data));\n    }\n  }, {\n    key: \"styp\",\n    value: function styp() {\n      return MP42.box(MP42.types.styp, new Uint8Array([109, 115, 100, 104, 0, 0, 0, 0, 109, 115, 100, 104, 109, 115, 105, 120]));\n    }\n  }, {\n    key: \"sidx\",\n    value: function sidx(data) {\n      var timescale = data.timescale;\n      var duration = data.samples[0].duration;\n      var durationCount = duration * data.samples.length;\n      var earliestTime = data.samples[0].sampleOffset * duration;\n      var mdatSize = 8;\n      data.samples.forEach(function(item) {\n        mdatSize += item.size;\n      });\n      var length = 0;\n      if (data.isVideo) {\n        var sencLength = 0;\n        var samples;\n        if (data.videoSenc) {\n          samples = data.videoSenc;\n        }\n        if (data.isVideo) {\n          samples.forEach(function(item) {\n            sencLength = sencLength + 8;\n            if (item.subsamples && item.subsamples.length) {\n              sencLength = sencLength + 2;\n              sencLength = sencLength + item.subsamples.length * 6;\n            }\n          });\n        }\n        data.videoSencLength = sencLength;\n        length = mdatSize + 141 + data.samples.length * 16 + sencLength;\n        if (data.useEME && data.isAudioEncryption && !data.isVideoEncryption) {\n          length = mdatSize + data.samples.length * 16 + 84;\n        }\n      } else {\n        length = mdatSize + 116 + data.samples.length * 12;\n        if (data.useEME && data.isAudioEncryption) {\n          length = mdatSize + 169 + data.samples.length * 12 + 8 * data.audioSenc.length;\n        }\n      }\n      var content = new Uint8Array([\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        data.id & 255,\n        timescale >> 24 & 255,\n        timescale >> 16 & 255,\n        timescale >> 8 & 255,\n        timescale & 255,\n        earliestTime >> 24 & 255,\n        earliestTime >> 16 & 255,\n        earliestTime >> 8 & 255,\n        earliestTime & 255,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        length >> 16 & 255,\n        length >> 8 & 255,\n        length & 255,\n        durationCount >> 24 & 255,\n        durationCount >> 16 & 255,\n        durationCount >> 8 & 255,\n        durationCount & 255,\n        144,\n        0,\n        0,\n        0\n      ]);\n      return MP42.box(MP42.types.sidx, content);\n    }\n  }, {\n    key: \"mdat\",\n    value: function mdat(data) {\n      var mdat2 = MP42.box(MP42.types.mdat, data);\n      return mdat2;\n    }\n  }]);\n  return MP42;\n}();\n_defineProperty(MP4, \"types\", [\"avc1\", \"avcC\", \"hvc1\", \"hvcC\", \"dinf\", \"dref\", \"esds\", \"ftyp\", \"hdlr\", \"mdat\", \"mdhd\", \"mdia\", \"mfhd\", \"minf\", \"moof\", \"moov\", \"mp4a\", \"mvex\", \"mvhd\", \"pasp\", \"stbl\", \"stco\", \"stsc\", \"stsd\", \"stsz\", \"stts\", \"tfdt\", \"tfhd\", \"traf\", \"trak\", \"trex\", \"tkhd\", \"vmhd\", \"smhd\", \"ctts\", \"stss\", \"styp\", \"pssh\", \"sidx\", \"sbgp\", \"saiz\", \"saio\", \"senc\", \"trun\", \"encv\", \"enca\", \"sinf\", \"btrt\", \"frma\", \"tenc\", \"schm\", \"schi\", \"mehd\", \"fiel\", \"sdtp\"].reduce(function(p, c) {\n  p[c] = [c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2), c.charCodeAt(3)];\n  return p;\n}, /* @__PURE__ */ Object.create(null)));\n_defineProperty(MP4, \"HDLR_TYPES\", {\n  video: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    118,\n    105,\n    100,\n    101,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    86,\n    105,\n    100,\n    101,\n    111,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ]),\n  audio: new Uint8Array([\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    115,\n    111,\n    117,\n    110,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    83,\n    111,\n    117,\n    110,\n    100,\n    72,\n    97,\n    110,\n    100,\n    108,\n    101,\n    114,\n    0\n  ])\n});\n_defineProperty(MP4, \"FTYPAVC1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  97,\n  118,\n  99,\n  49\n])));\n_defineProperty(MP4, \"FTYPHEV1\", MP4.box(MP4.types.ftyp, new Uint8Array([\n  105,\n  115,\n  111,\n  109,\n  0,\n  0,\n  0,\n  1,\n  105,\n  115,\n  111,\n  109,\n  104,\n  101,\n  118,\n  49\n])));\n_defineProperty(MP4, \"DINF\", MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  12,\n  117,\n  114,\n  108,\n  32,\n  0,\n  0,\n  0,\n  1\n]))));\n_defineProperty(MP4, \"VMHD\", MP4.box(MP4.types.vmhd, new Uint8Array([\n  0,\n  0,\n  0,\n  1,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"SMHD\", MP4.box(MP4.types.smhd, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"StblTable\", new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n]));\n_defineProperty(MP4, \"STTS\", MP4.box(MP4.types.stts, MP4.StblTable));\n_defineProperty(MP4, \"STSC\", MP4.box(MP4.types.stsc, MP4.StblTable));\n_defineProperty(MP4, \"STSZ\", MP4.box(MP4.types.stsz, new Uint8Array([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0\n])));\n_defineProperty(MP4, \"STCO\", MP4.box(MP4.types.stco, MP4.StblTable));\nexport { MP4 };\n","import { defineProperty as _defineProperty, createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar Logger = /* @__PURE__ */ function() {\n  function Logger2(name, enable) {\n    _classCallCheck(this, Logger2);\n    this.name = name || \"\";\n    this._prefix = \"[\".concat(this.name, \"]\");\n    Logger2.disabled = enable;\n  }\n  _createClass(Logger2, [{\n    key: \"debug\",\n    value: function debug() {\n      var _console;\n      if (Logger2.disabled)\n        return;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_console = console).debug.apply(_console, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var _console2;\n      if (Logger2.disabled)\n        return;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      (_console2 = console).log.apply(_console2, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _console3;\n      if (Logger2.disabled)\n        return;\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      (_console3 = console).warn.apply(_console3, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _console4;\n      if (Logger2.disabled)\n        return;\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      (_console4 = console).error.apply(_console4, [this._prefix].concat(args));\n    }\n  }, {\n    key: \"table\",\n    value: function table() {\n      var _console5;\n      if (Logger2.disabled)\n        return;\n      console.group(this._prefix);\n      (_console5 = console).table.apply(_console5, arguments);\n      console.groupEnd();\n    }\n  }], [{\n    key: \"enable\",\n    value: function enable() {\n      Logger2.disabled = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      Logger2.disabled = true;\n    }\n  }]);\n  return Logger2;\n}();\n_defineProperty(Logger, \"disabled\", true);\nexport { Logger };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MP4 } from \"./mp4.js\";\nimport { concatUint8Array } from \"../utils/index.js\";\nimport { Logger } from \"./logger.js\";\nvar FMP4Remuxer = /* @__PURE__ */ function() {\n  function FMP4Remuxer2(videoTrack, audioTrack, options) {\n    _classCallCheck(this, FMP4Remuxer2);\n    this.videoTrack = videoTrack;\n    this.audioTrack = audioTrack;\n    var browserVersions = /Chrome\\/([^.]+)/.exec(navigator.userAgent);\n    this.forceFirstIDR = browserVersions && Number(browserVersions[1]) < 50;\n    this.log = new Logger(\"FMP4Remuxer\", options && options.openLog ? !options.openLog : true);\n  }\n  _createClass(FMP4Remuxer2, [{\n    key: \"remux\",\n    value: function remux() {\n      var createInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var videoTrack = this.videoTrack;\n      var audioTrack = this.audioTrack;\n      var hasVideo = videoTrack.exist();\n      var hasAudio = audioTrack.exist();\n      var videoInitSegment;\n      var audioInitSegment;\n      var initSegment;\n      var tracks = [];\n      if (createInit) {\n        if (options && options.initMerge) {\n          if (hasVideo) {\n            tracks.push(this.videoTrack);\n          }\n          if (hasAudio) {\n            tracks.push(this.audioTrack);\n          }\n          initSegment = MP4.initSegment(tracks);\n        } else {\n          if (hasVideo)\n            videoInitSegment = MP4.initSegment([this.videoTrack]);\n          if (hasAudio)\n            audioInitSegment = MP4.initSegment([this.audioTrack]);\n        }\n      }\n      var videoSegment;\n      var audioSegment;\n      if (hasVideo && videoTrack.hasSample()) {\n        videoSegment = this._remuxVideo();\n      }\n      if (hasAudio && audioTrack.hasSample()) {\n        audioSegment = this._remuxAudio();\n      }\n      videoTrack.samples = [];\n      audioTrack.samples = [];\n      return {\n        initSegment,\n        videoInitSegment,\n        audioInitSegment,\n        videoSegment,\n        audioSegment\n      };\n    }\n  }, {\n    key: \"_remuxVideo\",\n    value: function _remuxVideo() {\n      var track = this.videoTrack;\n      if (this.forceFirstIDR) {\n        track.samples[0].flag = {\n          dependsOn: 2,\n          isNonSyncSample: 0\n        };\n      }\n      var samples = track.samples;\n      var mdatSize = 0;\n      samples.forEach(function(s) {\n        mdatSize += s.units.reduce(function(t, c) {\n          return t + c.byteLength;\n        }, 0);\n        mdatSize += s.units.length * 4;\n      });\n      var mdata = new Uint8Array(mdatSize);\n      var mdatView = new DataView(mdata.buffer);\n      var _loop = function _loop2(_offset, _sample) {\n        _sample = samples[i];\n        var sampleSize = 0;\n        _sample.units.forEach(function(u) {\n          mdatView.setUint32(_offset, u.byteLength);\n          _offset += 4;\n          mdata.set(u, _offset);\n          _offset += u.byteLength;\n          sampleSize += 4 + u.byteLength;\n        });\n        _sample.size = sampleSize;\n        offset = _offset, sample = _sample;\n      };\n      for (var i = 0, l = samples.length, offset = 0, sample; i < l; i++) {\n        _loop(offset, sample);\n      }\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"_remuxAudio\",\n    value: function _remuxAudio() {\n      var track = this.audioTrack;\n      var mdata = new Uint8Array(track.samples.reduce(function(t, c) {\n        return t + c.size;\n      }, 0));\n      track.samples.reduce(function(offset, s) {\n        mdata.set(s.data, offset);\n        return offset + s.size;\n      }, 0);\n      var mdat = MP4.mdat(mdata);\n      var moof = MP4.moof([track]);\n      return concatUint8Array(moof, mdat);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.videoTrack.reset();\n      this.audioTrack.reset();\n    }\n  }]);\n  return FMP4Remuxer2;\n}();\nexport { FMP4Remuxer };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nvar Event = _objectSpread2(_objectSpread2({}, EVENT), {}, {\n  STREAM_PARSED: \"core.streamparsed\",\n  NO_AUDIO_TRACK: \"core.noaudiotrack\",\n  SUBTITLE_SEGMENTS: \"core.subtitlesegments\",\n  SUBTITLE_PLAYLIST: \"core.subtitleplaylist\",\n  SEI_PAYLOAD_TIME: \"core.seipayloadtime\",\n  APPEND_COST: \"core.appendcost\"\n});\nexport { Event };\n","import { createClass as _createClass, objectSpread2 as _objectSpread2, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { WarningType, FMP4Demuxer, TsDemuxer, FMP4Remuxer } from \"xgplayer-transmuxer\";\nimport { Logger, concatUint8Array, StreamingError, ERR } from \"xgplayer-streaming-shared\";\nimport { Event } from \"../../constants.js\";\nvar logger = new Logger(\"Transmuxer\");\nvar Transmuxer = /* @__PURE__ */ function() {\n  function Transmuxer2(hls, isMP4, needRemux) {\n    _classCallCheck(this, Transmuxer2);\n    _defineProperty(this, \"_initSegmentId\", \"\");\n    this.hls = hls;\n    this._demuxer = isMP4 ? new FMP4Demuxer() : new TsDemuxer();\n    this._isMP4 = isMP4;\n    if (needRemux)\n      this._remuxer = new FMP4Remuxer(this._demuxer.videoTrack, this._demuxer.audioTrack);\n  }\n  _createClass(Transmuxer2, [{\n    key: \"transmux\",\n    value: function transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, needInit) {\n      var demuxer = this._demuxer;\n      try {\n        if (this._isMP4) {\n          demuxer.demux(videoChunk, audioChunk);\n        } else {\n          demuxer.demuxAndFix(concatUint8Array(videoChunk, audioChunk), discontinuity, contiguous, startTime);\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.DEMUX, ERR.SUB_TYPES.HLS, error);\n      }\n      var videoTrack = demuxer.videoTrack, audioTrack = demuxer.audioTrack, metadataTrack = demuxer.metadataTrack;\n      var newId = \"\".concat(videoTrack.codec, \"/\").concat(videoTrack.width, \"/\").concat(videoTrack.height, \"/\").concat(audioTrack.codec, \"/\").concat(audioTrack.config);\n      if (newId !== this._initSegmentId) {\n        this._initSegmentId = newId;\n        needInit = true;\n      }\n      this._fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity || needInit);\n      this.hls.emit(Event.DEMUXED_TRACK, {\n        videoTrack,\n        audioTrack\n      });\n      if (this._remuxer) {\n        try {\n          var _this$_remuxer$remux = this._remuxer.remux(needInit), videoInitSegment = _this$_remuxer$remux.videoInitSegment, videoSegment = _this$_remuxer$remux.videoSegment, audioInitSegment = _this$_remuxer$remux.audioInitSegment, audioSegment = _this$_remuxer$remux.audioSegment;\n          var v = concatUint8Array(videoInitSegment, videoSegment);\n          var a = concatUint8Array(audioInitSegment, audioSegment);\n          return [v ? {\n            codec: videoTrack.codec,\n            data: v\n          } : void 0, a ? {\n            codec: audioTrack.codec,\n            data: a\n          } : void 0];\n        } catch (error) {\n          throw new StreamingError(ERR.REMUX, ERR.SUB_TYPES.FMP4, error);\n        }\n      } else {\n        return [videoTrack, audioTrack];\n      }\n    }\n  }, {\n    key: \"_fireEvents\",\n    value: function _fireEvents(videoTrack, audioTrack, metadataTrack, discontinuity) {\n      var _this = this;\n      logger.debug(videoTrack.samples, audioTrack.samples);\n      if (discontinuity) {\n        if (videoTrack.exist()) {\n          this.hls.emit(Event.METADATA_PARSED, {\n            type: \"video\",\n            track: videoTrack,\n            meta: {\n              codec: videoTrack.codec,\n              timescale: videoTrack.timescale,\n              width: videoTrack.width,\n              height: videoTrack.height,\n              sarRatio: videoTrack.sarRatio,\n              baseDts: videoTrack.baseDts\n            }\n          });\n        }\n        if (audioTrack.exist()) {\n          this.hls.emit(Event.METADATA_PARSED, {\n            type: \"audio\",\n            track: audioTrack,\n            meta: {\n              codec: audioTrack.codec,\n              channelCount: audioTrack.channelCount,\n              sampleRate: audioTrack.sampleRate,\n              timescale: audioTrack.timescale,\n              baseDts: audioTrack.baseDts\n            }\n          });\n        }\n        logger.debug(\"discontinuity\", videoTrack, audioTrack);\n      }\n      videoTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AV_SHIFT:\n            type = Event.LARGE_AV_FIRST_FRAME_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP:\n            type = Event.LARGE_VIDEO_DTS_GAP_DETECT;\n            break;\n          case WarningType.LARGE_VIDEO_GAP_BETWEEN_CHUNK:\n            type = Event.MAX_DTS_DELTA_WITH_NEXT_SEGMENT_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"video exception\", warn);\n      });\n      audioTrack.warnings.forEach(function(warn) {\n        var type;\n        switch (warn.type) {\n          case WarningType.LARGE_AUDIO_GAP:\n            type = Event.LARGE_AUDIO_DTS_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_FILLED:\n            type = Event.AUDIO_GAP_DETECT;\n            break;\n          case WarningType.AUDIO_DROPPED:\n            type = Event.AUDIO_OVERLAP_DETECT;\n            break;\n        }\n        if (type)\n          _this.hls.emit(Event.STREAM_EXCEPTION, _objectSpread2(_objectSpread2({}, warn), {}, {\n            type\n          }));\n        logger.warn(\"audio exception\", warn);\n      });\n      videoTrack.samples.forEach(function(sample) {\n        if (sample.keyframe) {\n          _this.hls.emit(Event.KEYFRAME, {\n            pts: sample.pts\n          });\n        }\n      });\n      metadataTrack.seiSamples.forEach(function(sei) {\n        _this.hls.emit(Event.SEI, _objectSpread2(_objectSpread2({}, sei), {}, {\n          originPts: sei.originPts / 90,\n          sei: {\n            code: sei.data.type,\n            content: sei.data.payload,\n            dts: sei.pts\n          }\n        }));\n      });\n    }\n  }]);\n  return Transmuxer2;\n}();\nexport { Transmuxer };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { TsDemuxer, MP4Parser } from \"xgplayer-transmuxer\";\nimport { Logger, StreamingError, ERR, MSE, EVENT, Buffer } from \"xgplayer-streaming-shared\";\nimport { Decryptor } from \"./decrypt/index.js\";\nimport { Transmuxer } from \"./transmuxer/index.js\";\nimport { Event } from \"../constants.js\";\nvar logger = new Logger(\"BufferService\");\nvar BufferService = /* @__PURE__ */ function() {\n  function BufferService2(hls) {\n    _classCallCheck(this, BufferService2);\n    _defineProperty(this, \"_decryptor\", new Decryptor());\n    _defineProperty(this, \"_transmuxer\", null);\n    _defineProperty(this, \"_mse\", null);\n    _defineProperty(this, \"_softVideo\", null);\n    _defineProperty(this, \"_sourceCreated\", false);\n    _defineProperty(this, \"_needInitSegment\", true);\n    _defineProperty(this, \"_directAppend\", false);\n    this.hls = hls;\n    if (hls.config.softDecode) {\n      this._softVideo = hls.media;\n    } else {\n      this._mse = new MSE();\n      if (hls.config.url) {\n        this._mse.bindMedia(hls.media);\n      }\n    }\n    if (hls.config.decryptor) {\n      this._decryptor.externalDecryptor = hls.config.decryptor;\n    }\n  }\n  _createClass(BufferService2, [{\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_transmuxer, _this$_transmuxer$_de, _this$_transmuxer$_de2;\n      return (_this$_transmuxer = this._transmuxer) === null || _this$_transmuxer === void 0 ? void 0 : (_this$_transmuxer$_de = _this$_transmuxer._demuxer) === null || _this$_transmuxer$_de === void 0 ? void 0 : (_this$_transmuxer$_de2 = _this$_transmuxer$_de._fixer) === null || _this$_transmuxer$_de2 === void 0 ? void 0 : _this$_transmuxer$_de2._baseDts;\n    }\n  }, {\n    key: \"nbSb\",\n    get: function get() {\n      var _this$_mse;\n      if (!((_this$_mse = this._mse) !== null && _this$_mse !== void 0 && _this$_mse._sourceBuffer))\n        return 0;\n      return Object.keys(this._mse._sourceBuffer).length;\n    }\n  }, {\n    key: \"msIsOpend\",\n    get: function get() {\n      var _this$_mse2;\n      return (_this$_mse2 = this._mse) === null || _this$_mse2 === void 0 ? void 0 : _this$_mse2.isOpened;\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function() {\n      var _updateDuration = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(duration) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                logger.debug(\"update duration\", duration);\n                if (!this._mse) {\n                  _context.next = 9;\n                  break;\n                }\n                if (this._mse.isOpened) {\n                  _context.next = 5;\n                  break;\n                }\n                _context.next = 5;\n                return this._mse.open();\n              case 5:\n                _context.next = 7;\n                return this._mse.updateDuration(duration);\n              case 7:\n                _context.next = 10;\n                break;\n              case 9:\n                if (this._softVideo) {\n                  this._softVideo.duration = duration;\n                }\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function updateDuration(_x) {\n        return _updateDuration.apply(this, arguments);\n      }\n      return updateDuration;\n    }()\n  }, {\n    key: \"createSource\",\n    value: function createSource(videoChunk, audioChunk, videoCodec, audioCodec) {\n      if (this._sourceCreated)\n        return;\n      var chunk = videoChunk || audioChunk;\n      if (!chunk)\n        return;\n      if (TsDemuxer.probe(chunk)) {\n        if (!this._transmuxer)\n          this._transmuxer = new Transmuxer(this.hls, false, !this._softVideo);\n      } else if (MP4Parser.probe(chunk)) {\n        if (this._softVideo) {\n          if (!this._transmuxer)\n            this._transmuxer = new Transmuxer(this.hls, true);\n        } else {\n          this._directAppend = true;\n          var mix = false;\n          if (videoChunk && !videoCodec) {\n            MP4Parser.findBox(videoChunk, [\"moov\", \"trak\"]).forEach(function(t) {\n              var box = MP4Parser.findBox(t.data, [\"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"])[0];\n              if (box) {\n                var e = MP4Parser.stsd(box).entries[0];\n                if (e) {\n                  if (e.hvcC) {\n                    videoCodec = e.hvcC.codec || \"hev1.1.6.L93.B0\";\n                  } else if (e.avcC) {\n                    videoCodec = e.avcC.codec;\n                  } else if (e.sampleRate || e.esds) {\n                    var _e$esds;\n                    audioCodec = ((_e$esds = e.esds) === null || _e$esds === void 0 ? void 0 : _e$esds.codec) || \"mp4a.40.2\";\n                    mix = true;\n                  }\n                }\n              }\n            });\n          }\n          if (audioChunk && !audioCodec) {\n            MP4Parser.findBox(audioChunk, [\"moov\", \"trak\", \"mdia\", \"minf\", \"stbl\", \"stsd\"]).forEach(function(stsd) {\n              var e = MP4Parser.stsd(stsd).entries[0];\n              if (e && e.esds)\n                audioCodec = e.esds.codec;\n            });\n          }\n          if (videoChunk && !videoCodec)\n            videoCodec = \"avc1.42e01e\";\n          if (audioChunk && !audioCodec)\n            audioCodec = \"mp4a.40.2\";\n          if (mix) {\n            videoCodec += \", \".concat(audioCodec);\n            audioCodec = \"\";\n          }\n          this._createMseSource(videoCodec, audioCodec);\n        }\n      } else {\n        throw new StreamingError(ERR.OTHER, null, null, null, \"unsupported stream\");\n      }\n      if (this._softVideo)\n        this._sourceCreated = true;\n    }\n  }, {\n    key: \"appendBuffer\",\n    value: function() {\n      var _appendBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2(segment, audioSegment, videoChunk, audioChunk, discontinuity, contiguous, startTime) {\n        var p, needInit, _this$_transmuxer$tra, _this$_transmuxer$tra2, video, audio, isFirstAppend, mse, _p;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!(videoChunk !== null && videoChunk !== void 0 && videoChunk.length) && !(audioChunk !== null && audioChunk !== void 0 && audioChunk.length))) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                if (!this._directAppend) {\n                  _context2.next = 7;\n                  break;\n                }\n                p = [];\n                if (videoChunk)\n                  p.push(this._mse.append(MSE.VIDEO, videoChunk));\n                if (audioChunk)\n                  p.push(this._mse.append(MSE.AUDIO, audioChunk));\n                return _context2.abrupt(\"return\", Promise.all(p));\n              case 7:\n                needInit = this._needInitSegment || discontinuity;\n                _this$_transmuxer$tra = this._transmuxer.transmux(videoChunk, audioChunk, discontinuity, contiguous, startTime, this._needInitSegment || discontinuity), _this$_transmuxer$tra2 = _slicedToArray(_this$_transmuxer$tra, 2), video = _this$_transmuxer$tra2[0], audio = _this$_transmuxer$tra2[1];\n                if (audioChunk && audioSegment) {\n                  audioSegment === null || audioSegment === void 0 ? void 0 : audioSegment.setTrackExist(false, true);\n                }\n                if (audioChunk && segment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(true, false);\n                }\n                if (!audioSegment) {\n                  segment === null || segment === void 0 ? void 0 : segment.setTrackExist(!!video, !!audio);\n                }\n                if (video && !audio) {\n                  this.hls.emit(Event.NO_AUDIO_TRACK);\n                }\n                if (!this._softVideo) {\n                  _context2.next = 18;\n                  break;\n                }\n                this._softVideo.appendBuffer(video, audio);\n                this._needInitSegment = false;\n                _context2.next = 28;\n                break;\n              case 18:\n                if (!this._mse) {\n                  _context2.next = 28;\n                  break;\n                }\n                isFirstAppend = !this._sourceCreated;\n                if (isFirstAppend) {\n                  this._createMseSource(video === null || video === void 0 ? void 0 : video.codec, audio === null || audio === void 0 ? void 0 : audio.codec);\n                }\n                this._needInitSegment = false;\n                mse = this._mse;\n                _p = [];\n                if (needInit && !isFirstAppend) {\n                  this._handleCodecChange(video, audio);\n                }\n                if (video)\n                  _p.push(mse.append(MSE.VIDEO, video.data));\n                if (audio)\n                  _p.push(mse.append(MSE.AUDIO, audio.data));\n                return _context2.abrupt(\"return\", Promise.all(_p));\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function appendBuffer(_x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n        return _appendBuffer.apply(this, arguments);\n      }\n      return appendBuffer;\n    }()\n  }, {\n    key: \"removeBuffer\",\n    value: function() {\n      var _removeBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n        var _this = this;\n        var start, end, media, _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1)\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                start = _args3.length > 0 && _args3[0] !== void 0 ? _args3[0] : 0;\n                end = _args3.length > 1 && _args3[1] !== void 0 ? _args3[1] : Infinity;\n                media = this.hls.media;\n                if (!(!this._mse || !media || start < 0 || end < start || start >= this._mse.duration)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 5:\n                return _context3.abrupt(\"return\", this._mse.clearBuffer(start, end).then(function() {\n                  return _this.hls.emit(EVENT.REMOVE_BUFFER, {\n                    start,\n                    end,\n                    removeEnd: end\n                  });\n                }));\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n        }, _callee3, this);\n      }));\n      function removeBuffer() {\n        return _removeBuffer.apply(this, arguments);\n      }\n      return removeBuffer;\n    }()\n  }, {\n    key: \"evictBuffer\",\n    value: function() {\n      var _evictBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(bufferBehind) {\n        var media, currentTime, removeEnd, start;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                media = this.hls.media;\n                if (!(!this._mse || !media || !bufferBehind || bufferBehind < 0)) {\n                  _context4.next = 3;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 3:\n                currentTime = media.currentTime;\n                removeEnd = currentTime - bufferBehind;\n                if (!(removeEnd <= 0)) {\n                  _context4.next = 7;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 7:\n                start = Buffer.start(Buffer.get(media));\n                if (!(start + 1 >= removeEnd)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\");\n              case 10:\n                return _context4.abrupt(\"return\", this.removeBuffer(0, removeEnd));\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function evictBuffer(_x9) {\n        return _evictBuffer.apply(this, arguments);\n      }\n      return evictBuffer;\n    }()\n  }, {\n    key: \"clearAllBuffer\",\n    value: function() {\n      var _clearAllBuffer = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5() {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this._mse) {\n                  _context5.next = 2;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this._mse.clearAllBuffer());\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function clearAllBuffer() {\n        return _clearAllBuffer.apply(this, arguments);\n      }\n      return clearAllBuffer;\n    }()\n  }, {\n    key: \"decryptBuffer\",\n    value: function decryptBuffer(video, audio) {\n      return this._decryptor.decrypt(video, audio);\n    }\n  }, {\n    key: \"reset\",\n    value: function() {\n      var _reset = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6() {\n        var reuseMse, _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                reuseMse = _args6.length > 0 && _args6[0] !== void 0 ? _args6[0] : false;\n                if (!(this._mse && !reuseMse)) {\n                  _context6.next = 8;\n                  break;\n                }\n                this._transmuxer = null;\n                this._sourceCreated = false;\n                _context6.next = 6;\n                return this._mse.unbindMedia();\n              case 6:\n                _context6.next = 8;\n                return this._mse.bindMedia(this.hls.media);\n              case 8:\n                this._needInitSegment = true;\n                this._directAppend = false;\n              case 10:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function reset() {\n        return _reset.apply(this, arguments);\n      }\n      return reset;\n    }()\n  }, {\n    key: \"endOfStream\",\n    value: function() {\n      var _endOfStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this._mse) {\n                  _context7.next = 5;\n                  break;\n                }\n                if (!this._sourceCreated) {\n                  _context7.next = 5;\n                  break;\n                }\n                _context7.next = 4;\n                return this._mse.endOfStream();\n              case 4:\n                this.hls.emit(EVENT.BUFFEREOS);\n              case 5:\n                if (this._softVideo) {\n                  this._softVideo.endOfStream();\n                }\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this);\n      }));\n      function endOfStream() {\n        return _endOfStream.apply(this, arguments);\n      }\n      return endOfStream;\n    }()\n  }, {\n    key: \"setLiveSeekableRange\",\n    value: function() {\n      var _setLiveSeekableRange = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(start, end) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (this._mse)\n                  this._mse.setLiveSeekableRange(start, end);\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this);\n      }));\n      function setLiveSeekableRange(_x10, _x11) {\n        return _setLiveSeekableRange.apply(this, arguments);\n      }\n      return setLiveSeekableRange;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9() {\n        var _this$_decryptor;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                (_this$_decryptor = this._decryptor) === null || _this$_decryptor === void 0 ? void 0 : _this$_decryptor.destroy();\n                if (!this._mse) {\n                  _context9.next = 4;\n                  break;\n                }\n                _context9.next = 4;\n                return this._mse.unbindMedia();\n              case 4:\n                this._decryptor = null;\n                this._mse = null;\n                this._softVideo = null;\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_createMseSource\",\n    value: function _createMseSource(videoCodec, audioCodec) {\n      logger.debug(\"create mse source, videoCodec=\".concat(videoCodec, \", audioCodec=\").concat(audioCodec));\n      var mse = this._mse;\n      if (!mse)\n        return;\n      if (videoCodec) {\n        mse.createSource(MSE.VIDEO, \"video/mp4;codecs=\".concat(videoCodec));\n        this._sourceCreated = true;\n      }\n      if (audioCodec) {\n        mse.createSource(MSE.AUDIO, \"audio/mp4;codecs=\".concat(audioCodec));\n        this._sourceCreated = true;\n      }\n      this.hls.emit(EVENT.SOURCEBUFFER_CREATED);\n    }\n  }, {\n    key: \"_handleCodecChange\",\n    value: function _handleCodecChange(video, audio) {\n      var mse = this._mse;\n      var codecList = [{\n        type: MSE.VIDEO,\n        codecs: video === null || video === void 0 ? void 0 : video.codec\n      }, {\n        type: MSE.AUDIO,\n        codecs: audio === null || audio === void 0 ? void 0 : audio.codec\n      }];\n      codecList.filter(function(item) {\n        return !!item.codecs;\n      }).forEach(function(_ref) {\n        var type = _ref.type, codecs = _ref.codecs;\n        var sourceBuffer = mse.getSourceBuffer(type);\n        if (sourceBuffer) {\n          var codec = codecs.split(\",\")[0];\n          if (!new RegExp(codec, \"ig\").test(sourceBuffer.mimeType)) {\n            mse.changeType(type, \"\".concat(type, \"/mp4;codecs=\").concat(codecs));\n          }\n        }\n      });\n    }\n  }, {\n    key: \"seamlessSwitch\",\n    value: function seamlessSwitch() {\n      this._needInitSegment = true;\n    }\n  }, {\n    key: \"isFull\",\n    value: function isFull() {\n      var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : MSE.VIDEO;\n      return this._mse.isFull(mediaType);\n    }\n  }]);\n  return BufferService2;\n}();\nexport { BufferService };\n","var LoaderType = {\n  FETCH: \"fetch\",\n  XHR: \"xhr\"\n};\nvar ResponseType = {\n  ARRAY_BUFFER: \"arraybuffer\",\n  TEXT: \"text\",\n  JSON: \"json\"\n};\nexport { LoaderType, ResponseType };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, wrapNativeSuper as _wrapNativeSuper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType } from \"./types.js\";\nvar NetError = /* @__PURE__ */ function(_Error) {\n  _inherits(NetError2, _Error);\n  var _super = _createSuper(NetError2);\n  function NetError2(url, request, response, msg) {\n    var _this;\n    _classCallCheck(this, NetError2);\n    _this = _super.call(this, msg);\n    _defineProperty(_assertThisInitialized(_this), \"retryCount\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"isTimeout\", false);\n    _defineProperty(_assertThisInitialized(_this), \"loaderType\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"startTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"endTime\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"options\", {});\n    _this.url = url;\n    _this.request = request;\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(NetError2);\n}(/* @__PURE__ */ _wrapNativeSuper(Error));\nexport { NetError };\n","import { typeof as _typeof } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nvar toString = Object.prototype.toString;\nfunction isObject(a) {\n  return a !== null && _typeof(a) === \"object\";\n}\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \"[object Object]\") {\n    return false;\n  }\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\nfunction isDate(a) {\n  return toString.call(a) === \"[object Date]\";\n}\nexport { isDate, isObject, isPlainObject };\n","import { isDate, isObject } from \"../is.js\";\nfunction getRangeValue(value) {\n  if (!value || value[0] === null || value[0] === void 0 || value[0] === 0 && (value[1] === null || value[1] === void 0)) {\n    return;\n  }\n  var ret = \"bytes=\" + value[0] + \"-\";\n  if (value[1])\n    ret += value[1];\n  return ret;\n}\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction setUrlParams(url, params) {\n  if (!url)\n    return;\n  if (!params)\n    return url;\n  var v;\n  var str = Object.keys(params).map(function(k) {\n    v = params[k];\n    if (v === null || v === void 0)\n      return;\n    if (Array.isArray(v)) {\n      k = k + \"[]\";\n    } else {\n      v = [v];\n    }\n    return v.map(function(x) {\n      if (isDate(x)) {\n        x = x.toISOString();\n      } else if (isObject(x)) {\n        x = JSON.stringify(x);\n      }\n      return \"\".concat(encode(k), \"=\").concat(encode(x));\n    }).join(\"&\");\n  }).filter(Boolean).join(\"&\");\n  if (str) {\n    var hashIndex = url.indexOf(\"#\");\n    if (hashIndex !== -1) {\n      url = url.slice(0, hashIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + str;\n  }\n  return url;\n}\nfunction createResponse(data, done, response, contentLength, age, startTime, firstByteTime, index, range, vid, priOptions) {\n  age = age !== null && age !== void 0 ? parseFloat(age) : null;\n  contentLength = parseInt(contentLength || \"0\", 10);\n  if (Number.isNaN(contentLength))\n    contentLength = 0;\n  var options = {\n    range,\n    vid,\n    index,\n    contentLength,\n    age,\n    startTime,\n    firstByteTime,\n    endTime: Date.now(),\n    priOptions\n  };\n  return {\n    data,\n    done,\n    options,\n    response\n  };\n}\nfunction calculateSpeed(byteLen, millisec) {\n  return Math.round(byteLen * 8 * 1e3 / millisec / 1024);\n}\nexport { calculateSpeed, createResponse, getRangeValue, setUrlParams };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, createResponse, calculateSpeed } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar CACHESIZE = 2 * 1024 * 1024;\nvar FetchLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(FetchLoader2, _EventEmitter);\n  var _super = _createSuper(FetchLoader2);\n  function FetchLoader2() {\n    var _this;\n    _classCallCheck(this, FetchLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_abortController\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_reader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_response\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_running\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_onProcessMinLen\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(FetchLoader2, [{\n    key: \"load\",\n    value: function load(_ref) {\n      var _this$_abortControlle, _this2 = this;\n      var url = _ref.url, vid = _ref.vid, timeout = _ref.timeout, responseType = _ref.responseType, onProgress = _ref.onProgress, index = _ref.index, onTimeout = _ref.onTimeout, onCancel = _ref.onCancel, range = _ref.range, transformResponse = _ref.transformResponse, request = _ref.request, params = _ref.params, logger = _ref.logger, method = _ref.method, headers = _ref.headers, body = _ref.body, mode = _ref.mode, credentials = _ref.credentials, cache = _ref.cache, redirect = _ref.redirect, referrer = _ref.referrer, referrerPolicy = _ref.referrerPolicy, onProcessMinLen = _ref.onProcessMinLen, priOptions = _ref.priOptions;\n      this._logger = logger;\n      this._aborted = false;\n      this._onProcessMinLen = onProcessMinLen;\n      this._onCancel = onCancel;\n      this._abortController = typeof AbortController !== \"undefined\" && new AbortController();\n      this._running = true;\n      this._index = index;\n      this._range = range || [0, 0];\n      this._vid = vid || url;\n      this._priOptions = priOptions || {};\n      var init = {\n        method,\n        headers,\n        body,\n        mode,\n        credentials,\n        cache,\n        redirect,\n        referrer,\n        referrerPolicy,\n        signal: (_this$_abortControlle = this._abortController) === null || _this$_abortControlle === void 0 ? void 0 : _this$_abortControlle.signal\n      };\n      var isTimeout = false;\n      clearTimeout(this._timeoutTimer);\n      url = setUrlParams(url, params);\n      var rangeValue = getRangeValue(range);\n      if (rangeValue) {\n        if (request) {\n          headers = request.headers;\n        } else {\n          headers = init.headers = init.headers || (Headers ? new Headers() : {});\n        }\n        if (Headers && headers instanceof Headers) {\n          headers.append(\"Range\", rangeValue);\n        } else {\n          headers.Range = rangeValue;\n        }\n      }\n      if (timeout) {\n        this._timeoutTimer = setTimeout(function() {\n          isTimeout = true;\n          _this2.cancel();\n          if (onTimeout) {\n            var error = new NetError(url, init, null, \"timeout\");\n            error.isTimeout = true;\n            onTimeout(error, {\n              index: _this2._index,\n              range: _this2._range,\n              vid: _this2._vid,\n              priOptions: _this2._priOptions\n            });\n          }\n        }, timeout);\n      }\n      var startTime = Date.now();\n      this._logger.debug(\"[fetch load start], index,\", index, \",range,\", range);\n      return new Promise(function(resolve, reject) {\n        fetch(request || url, request ? void 0 : init).then(/* @__PURE__ */ function() {\n          var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(response) {\n            var firstByteTime, data, costTime, speed;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1)\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    clearTimeout(_this2._timeoutTimer);\n                    _this2._response = response;\n                    if (!(_this2._aborted || !_this2._running)) {\n                      _context.next = 4;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 4:\n                    if (transformResponse) {\n                      response = transformResponse(response, url) || response;\n                    }\n                    if (response.ok) {\n                      _context.next = 7;\n                      break;\n                    }\n                    throw new NetError(url, init, response, \"bad network response\");\n                  case 7:\n                    firstByteTime = Date.now();\n                    if (!(responseType === ResponseType.TEXT)) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 11;\n                    return response.text();\n                  case 11:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 15:\n                    if (!(responseType === ResponseType.JSON)) {\n                      _context.next = 22;\n                      break;\n                    }\n                    _context.next = 18;\n                    return response.json();\n                  case 18:\n                    data = _context.sent;\n                    _this2._running = false;\n                    _context.next = 37;\n                    break;\n                  case 22:\n                    if (!onProgress) {\n                      _context.next = 29;\n                      break;\n                    }\n                    _this2.resolve = resolve;\n                    _this2.reject = reject;\n                    _this2._loadChunk(response, onProgress, startTime, firstByteTime);\n                    return _context.abrupt(\"return\");\n                  case 29:\n                    _context.next = 31;\n                    return response.arrayBuffer();\n                  case 31:\n                    data = _context.sent;\n                    data = new Uint8Array(data);\n                    _this2._running = false;\n                    costTime = Date.now() - startTime;\n                    speed = calculateSpeed(data.byteLength, costTime);\n                    _this2.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: data.byteLength,\n                      time: costTime,\n                      vid: _this2._vid,\n                      index: _this2._index,\n                      range: _this2._range,\n                      priOptions: _this2._priOptions\n                    });\n                  case 37:\n                    _this2._logger.debug(\"[fetch load end], index,\", index, \",range,\", range);\n                    resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), startTime, firstByteTime, index, range, _this2._vid, _this2._priOptions));\n                  case 39:\n                  case \"end\":\n                    return _context.stop();\n                }\n            }, _callee);\n          }));\n          return function(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }()).catch(function(error) {\n          var _error;\n          clearTimeout(_this2._timeoutTimer);\n          _this2._running = false;\n          if (_this2._aborted && !isTimeout)\n            return;\n          error = error instanceof NetError ? error : new NetError(url, init, null, (_error = error) === null || _error === void 0 ? void 0 : _error.message);\n          error.startTime = startTime;\n          error.endTime = Date.now();\n          error.isTimeout = isTimeout;\n          error.options = {\n            index: _this2._index,\n            range: _this2._range,\n            vid: _this2._vid,\n            priOptions: _this2._priOptions\n          };\n          reject(error);\n        });\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this._aborted) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                this._aborted = true;\n                this._running = false;\n                if (!this._response) {\n                  _context2.next = 14;\n                  break;\n                }\n                _context2.prev = 5;\n                if (!this._reader) {\n                  _context2.next = 9;\n                  break;\n                }\n                _context2.next = 9;\n                return this._reader.cancel();\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](5);\n              case 13:\n                this._response = this._reader = null;\n              case 14:\n                if (this._abortController) {\n                  try {\n                    this._abortController.abort();\n                  } catch (error) {\n                  }\n                  this._abortController = null;\n                }\n                if (this._onCancel) {\n                  this._onCancel({\n                    index: this._index,\n                    range: this._range,\n                    vid: this._vid,\n                    priOptions: this._priOptions\n                  });\n                }\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this, [[5, 11]]);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_loadChunk\",\n    value: function _loadChunk(response, onProgress, st, firstByteTime) {\n      var _this3 = this;\n      if (!response.body || !response.body.getReader) {\n        this._running = false;\n        var err = new NetError(response.url, \"\", response, \"onProgress of bad response.body.getReader\");\n        err.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this.reject(err);\n        return;\n      }\n      if (this._onProcessMinLen > 0) {\n        this._cache = new Uint8Array(CACHESIZE);\n        this._writeIdx = 0;\n      }\n      var reader = this._reader = response.body.getReader();\n      var data;\n      var startTime;\n      var endTime;\n      var pump = /* @__PURE__ */ function() {\n        var _ref3 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n          var _this3$_range;\n          var startRange, startByte, curLen, retData, temp, costTime, speed;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1)\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  startTime = Date.now();\n                  _context3.prev = 1;\n                  _context3.next = 4;\n                  return reader.read();\n                case 4:\n                  data = _context3.sent;\n                  endTime = Date.now();\n                  _context3.next = 13;\n                  break;\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  endTime = Date.now();\n                  if (!_this3._aborted) {\n                    _this3._running = false;\n                    _context3.t0.options = {\n                      index: _this3._index,\n                      range: _this3._range,\n                      vid: _this3._vid,\n                      priOptions: _this3._priOptions\n                    };\n                    _this3.reject(_context3.t0);\n                  }\n                  return _context3.abrupt(\"return\");\n                case 13:\n                  startRange = ((_this3$_range = _this3._range) === null || _this3$_range === void 0 ? void 0 : _this3$_range.length) > 0 ? _this3._range[0] : 0;\n                  startByte = startRange + _this3._receivedLength;\n                  if (!_this3._aborted) {\n                    _context3.next = 19;\n                    break;\n                  }\n                  _this3._running = false;\n                  onProgress(void 0, false, {\n                    range: [startByte, startByte],\n                    vid: _this3._vid,\n                    index: _this3._index,\n                    startTime,\n                    endTime,\n                    st,\n                    firstByteTime,\n                    priOptions: _this3._priOptions\n                  }, response);\n                  return _context3.abrupt(\"return\");\n                case 19:\n                  curLen = data.value ? data.value.byteLength : 0;\n                  _this3._receivedLength += curLen;\n                  _this3._logger.debug(\"\\u3010fetchLoader,onProgress call\\u3011,task,\", _this3._range, \", start,\", startByte, \", end,\", startRange + _this3._receivedLength, \", done,\", data.done);\n                  if (_this3._onProcessMinLen > 0) {\n                    if (_this3._writeIdx + curLen >= _this3._onProcessMinLen || data.done) {\n                      retData = new Uint8Array(_this3._writeIdx + curLen);\n                      retData.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                      curLen > 0 && retData.set(data.value, _this3._writeIdx);\n                      _this3._writeIdx = 0;\n                      _this3._logger.debug(\"\\u3010fetchLoader,onProgress enough\\u3011,done,\", data.done, \",len,\", retData.byteLength, \", writeIdx,\", _this3._writeIdx);\n                    } else {\n                      if (curLen > 0 && _this3._writeIdx + curLen < CACHESIZE) {\n                        _this3._cache.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress cache\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      } else if (curLen > 0) {\n                        temp = new Uint8Array(_this3._writeIdx + curLen + 2048);\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra start\\u3011,size,\", _this3._writeIdx + curLen + 2048, \", datalen,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                        temp.set(_this3._cache.slice(0, _this3._writeIdx), 0);\n                        curLen > 0 && temp.set(data.value, _this3._writeIdx);\n                        _this3._writeIdx += curLen;\n                        delete _this3._cache;\n                        _this3._cache = temp;\n                        _this3._logger.debug(\"\\u3010fetchLoader,onProgress extra end\\u3011,len,\", curLen, \", writeIdx,\", _this3._writeIdx);\n                      }\n                    }\n                  } else {\n                    retData = data.value;\n                  }\n                  if (retData && retData.byteLength > 0 || data.done) {\n                    onProgress(retData, data.done, {\n                      range: [_this3._range[0] + _this3._receivedLength - (retData ? retData.byteLength : 0), _this3._range[0] + _this3._receivedLength],\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      startTime,\n                      endTime,\n                      st,\n                      firstByteTime,\n                      priOptions: _this3._priOptions\n                    }, response);\n                  }\n                  if (!data.done) {\n                    pump();\n                  } else {\n                    costTime = Date.now() - st;\n                    speed = calculateSpeed(_this3._receivedLength, costTime);\n                    _this3.emit(EVENT.REAL_TIME_SPEED, {\n                      speed,\n                      len: _this3._receivedLength,\n                      time: costTime,\n                      vid: _this3._vid,\n                      index: _this3._index,\n                      range: _this3._range,\n                      priOptions: _this3._priOptions\n                    });\n                    _this3._running = false;\n                    _this3._logger.debug(\"[fetchLoader onProgress end],task,\", _this3._range, \",done,\", data.done);\n                    _this3.resolve(createResponse(data, true, response, response.headers.get(\"Content-Length\"), response.headers.get(\"age\"), st, firstByteTime, _this3._index, _this3._range, _this3._vid, _this3._priOptions));\n                  }\n                case 25:\n                case \"end\":\n                  return _context3.stop();\n              }\n          }, _callee3, null, [[1, 8]]);\n        }));\n        return function pump2() {\n          return _ref3.apply(this, arguments);\n        };\n      }();\n      pump();\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return !!(typeof fetch !== \"undefined\");\n    }\n  }]);\n  return FetchLoader2;\n}(EventEmitter);\nexport { FetchLoader };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf, createForOfIteratorHelper as _createForOfIteratorHelper } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { NetError } from \"./error.js\";\nimport { setUrlParams, getRangeValue, calculateSpeed, createResponse } from \"./helper.js\";\nimport { ResponseType } from \"./types.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar XhrLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(XhrLoader2, _EventEmitter);\n  var _super = _createSuper(XhrLoader2);\n  function XhrLoader2() {\n    var _this;\n    _classCallCheck(this, XhrLoader2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_aborted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_timeoutTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_range\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_receivedLength\", 0);\n    _defineProperty(_assertThisInitialized(_this), \"_url\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_onProgress\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_index\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_headers\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_currentChunkSizeKB\", 384);\n    _defineProperty(_assertThisInitialized(_this), \"_timeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_xhr\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_withCredentials\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_startTime\", -1);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteResolve\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_loadCompleteReject\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_runing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_logger\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_vid\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_responseType\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_credentials\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_method\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_transformResponse\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_firstRtt\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_onCancel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_priOptions\", null);\n    return _this;\n  }\n  _createClass(XhrLoader2, [{\n    key: \"load\",\n    value: function load(req) {\n      var _this2 = this;\n      clearTimeout(this._timeoutTimer);\n      this._logger = req.logger;\n      this._range = req.range;\n      this._onProgress = req.onProgress;\n      this._index = req.index;\n      this._headers = req.headers;\n      this._withCredentials = req.credentials === \"include\" || req.credentials === \"same-origin\";\n      this._body = req.body || null;\n      req.method && (this._method = req.method);\n      this._timeout = req.timeout || null;\n      this._runing = true;\n      this._vid = req.vid || req.url;\n      this._responseType = req.responseType;\n      this._firstRtt = -1;\n      this._onTimeout = req.onTimeout;\n      this._onCancel = req.onCancel;\n      this._request = req.request;\n      this._priOptions = req.priOptions || {};\n      this._logger.debug(\"\\u3010xhrLoader task\\u3011, range\", this._range);\n      this._url = setUrlParams(req.url, req.params);\n      var startTime = Date.now();\n      return new Promise(function(resolve, reject) {\n        _this2._loadCompleteResolve = resolve;\n        _this2._loadCompleteReject = reject;\n        _this2._startLoad();\n      }).catch(function(error) {\n        clearTimeout(_this2._timeoutTimer);\n        _this2._runing = false;\n        if (_this2._aborted)\n          return;\n        error = error instanceof NetError ? error : new NetError(_this2._url, _this2._request);\n        error.startTime = startTime;\n        error.endTime = Date.now();\n        error.options = {\n          index: _this2._index,\n          vid: _this2._vid,\n          priOptions: _this2._priOptions\n        };\n        throw error;\n      });\n    }\n  }, {\n    key: \"_startLoad\",\n    value: function _startLoad() {\n      var range = null;\n      if (this._responseType === ResponseType.ARRAY_BUFFER && this._range && this._range.length > 1) {\n        if (this._onProgress) {\n          this._firstRtt = -1;\n          var chunkSize = this._currentChunkSizeKB * 1024;\n          var from = this._range[0] + this._receivedLength;\n          var to = this._range[1];\n          if (chunkSize < this._range[1] - from) {\n            to = from + chunkSize;\n          }\n          range = [from, to];\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", SubRange, \", range);\n        } else {\n          range = this._range;\n          this._logger.debug(\"[xhr_loader->],tast :\", this._range, \", allRange, \", range);\n        }\n      }\n      this._internalOpen(range);\n    }\n  }, {\n    key: \"_internalOpen\",\n    value: function _internalOpen(range) {\n      var _this3 = this;\n      try {\n        this._startTime = Date.now();\n        var xhr = this._xhr = new XMLHttpRequest();\n        xhr.open(this._method || \"GET\", this._url, true);\n        xhr.responseType = this._responseType;\n        this._timeout && (xhr.timeout = this._timeout);\n        xhr.withCredentials = this._withCredentials;\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onreadystatechange = this._onReadyStatechange.bind(this);\n        xhr.onerror = function(errorEvent) {\n          var _errorEvent$currentTa, _errorEvent$currentTa2, _errorEvent$currentTa3;\n          _this3._running = false;\n          var error = new NetError(_this3._url, _this3._request, errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa = errorEvent.currentTarget) === null || _errorEvent$currentTa === void 0 ? void 0 : _errorEvent$currentTa.response, \"xhr.onerror.status:\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa2 = errorEvent.currentTarget) === null || _errorEvent$currentTa2 === void 0 ? void 0 : _errorEvent$currentTa2.status) + \",statusText,\" + (errorEvent === null || errorEvent === void 0 ? void 0 : (_errorEvent$currentTa3 = errorEvent.currentTarget) === null || _errorEvent$currentTa3 === void 0 ? void 0 : _errorEvent$currentTa3.statusText));\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        xhr.ontimeout = function(event) {\n          _this3.cancel();\n          var error = new NetError(_this3._url, _this3._request, {\n            status: 408\n          }, \"timeout\");\n          if (_this3._onTimeout) {\n            error.isTimeout = true;\n            _this3._onTimeout(error, {\n              index: _this3._index,\n              range: _this3._range,\n              vid: _this3._vid,\n              priOptions: _this3._priOptions\n            });\n          }\n          error.options = {\n            index: _this3._index,\n            range: _this3._range,\n            vid: _this3._vid,\n            priOptions: _this3._priOptions\n          };\n          _this3._loadCompleteReject(error);\n        };\n        var headers = this._headers || {};\n        var rangeValue = getRangeValue(range);\n        if (rangeValue) {\n          headers.Range = rangeValue;\n        }\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        this._logger.debug(\"[xhr.send->] tast,\", this._range, \",load sub range, \", range);\n        xhr.send(this._body);\n      } catch (e) {\n        e.options = {\n          index: this._index,\n          range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        this._loadCompleteReject(e);\n      }\n    }\n  }, {\n    key: \"_onReadyStatechange\",\n    value: function _onReadyStatechange(e) {\n      var xhr = e.target;\n      if (xhr.readyState === 2) {\n        this._firstRtt < 0 && (this._firstRtt = Date.now());\n      }\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(e) {\n      var _this$_range;\n      var status = e.target.status;\n      if (status < 200 || status > 299) {\n        var error = new NetError(this._url, null, _objectSpread2(_objectSpread2({}, e.target.response), {}, {\n          status\n        }), \"bad response,status:\" + status);\n        error.options = {\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        };\n        return this._loadCompleteReject(error);\n      }\n      var data = null;\n      var done = false;\n      var byteStart;\n      var startRange = ((_this$_range = this._range) === null || _this$_range === void 0 ? void 0 : _this$_range.length) > 0 ? this._range[0] : 0;\n      if (this._responseType === ResponseType.ARRAY_BUFFER) {\n        var _this$_range2;\n        var chunk = new Uint8Array(e.target.response);\n        byteStart = startRange + this._receivedLength;\n        if (chunk && chunk.byteLength > 0) {\n          this._receivedLength += chunk.byteLength;\n          var costTime = Date.now() - this._startTime;\n          var speed = calculateSpeed(this._receivedLength, costTime);\n          this.emit(EVENT.REAL_TIME_SPEED, {\n            speed,\n            len: this._receivedLength,\n            time: costTime,\n            vid: this._vid,\n            index: this._index,\n            range: [byteStart, startRange + this._receivedLength],\n            priOptions: this._priOptions\n          });\n        }\n        data = chunk;\n        if (((_this$_range2 = this._range) === null || _this$_range2 === void 0 ? void 0 : _this$_range2.length) > 1 && this._range[1] && this._receivedLength < this._range[1] - this._range[0]) {\n          done = false;\n        } else {\n          done = true;\n        }\n        this._logger.debug(\"[xhr load done->], tast :\", this._range, \", start\", byteStart, \"end \", startRange + this._receivedLength, \",dataLen,\", chunk ? chunk.byteLength : 0, \",receivedLength\", this._receivedLength, \",index,\", this._index, \", done,\", done);\n      } else {\n        done = true;\n        data = e.target.response;\n      }\n      var response = {\n        ok: status >= 200 && status < 300,\n        status,\n        statusText: this._xhr.statusText,\n        url: this._xhr.responseURL,\n        headers: this._getHeaders(this._xhr),\n        body: this._xhr.response\n      };\n      if (this._transformResponse) {\n        response = this._transformResponse(response, this._url) || response;\n      }\n      if (this._onProgress) {\n        this._onProgress(data, done, {\n          index: this._index,\n          vid: this._vid,\n          range: [byteStart, startRange + this._receivedLength],\n          startTime: this._startTime,\n          endTime: Date.now(),\n          priOptions: this._priOptions\n        }, response);\n      }\n      if (!done) {\n        this._startLoad();\n      } else {\n        this._runing = false;\n        this._loadCompleteResolve && this._loadCompleteResolve(createResponse(this._onProgress ? null : data, done, response, response.headers[\"content-length\"], response.headers.age, this._startTime, this._firstRtt, this._index, this._range, this._vid, this._priOptions));\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._aborted)\n        return;\n      this._aborted = true;\n      this._runing = false;\n      _get(_getPrototypeOf(XhrLoader2.prototype), \"removeAllListeners\", this).call(this);\n      if (this._onCancel) {\n        this._onCancel({\n          index: this._index,\n          range: this._range,\n          vid: this._vid,\n          priOptions: this._priOptions\n        });\n      }\n      if (this._xhr) {\n        return this._xhr.abort();\n      }\n    }\n  }, {\n    key: \"receiveLen\",\n    get: function get() {\n      return this._receivedLength;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    },\n    set: function set(status) {\n      this._running = status;\n    }\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(xhr) {\n      var headerLines = xhr.getAllResponseHeaders().trim().split(\"\\r\\n\");\n      var headers = {};\n      var _iterator = _createForOfIteratorHelper(headerLines), _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done; ) {\n          var header = _step.value;\n          var parts = header.split(\": \");\n          headers[parts[0].toLowerCase()] = parts.slice(1).join(\": \");\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return headers;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof XMLHttpRequest !== \"undefined\";\n    }\n  }]);\n  return XhrLoader2;\n}(EventEmitter);\nexport { XhrLoader };\n","import { createClass as _createClass, objectWithoutProperties as _objectWithoutProperties, classCallCheck as _classCallCheck, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { XhrLoader } from \"./xhr.js\";\nimport { LoaderType } from \"./types.js\";\nimport { createPublicPromise } from \"../utils.js\";\nimport { Logger } from \"../logger.js\";\nvar _excluded = [\"retry\", \"retryDelay\", \"onRetryError\", \"transformError\"];\nvar Task = /* @__PURE__ */ function() {\n  function Task2(type, config) {\n    _classCallCheck(this, Task2);\n    this.promise = createPublicPromise();\n    this.alive = !!config.onProgress;\n    !config.logger && (config.logger = new Logger(\"Loader\"));\n    this._loaderType = type;\n    this._loader = type === LoaderType.FETCH && !!window.fetch ? new FetchLoader() : new XhrLoader();\n    this._config = config;\n    this._retryCount = 0;\n    this._retryTimer = null;\n    this._canceled = false;\n    this._retryCheckFunc = config.retryCheckFunc;\n    this._logger = config.logger;\n  }\n  _createClass(Task2, [{\n    key: \"exec\",\n    value: function exec() {\n      var _this = this;\n      var _this$_config = this._config, retry = _this$_config.retry, retryDelay = _this$_config.retryDelay, onRetryError = _this$_config.onRetryError, transformError = _this$_config.transformError, rest = _objectWithoutProperties(_this$_config, _excluded);\n      var request = /* @__PURE__ */ function() {\n        var _ref = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n          var response, error, isRetry;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1)\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return _this._loader.load(rest);\n                case 3:\n                  response = _context.sent;\n                  _this.promise.resolve(response);\n                  _context.next = 27;\n                  break;\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context[\"catch\"](0);\n                  _this._loader.running = false;\n                  _this._logger.debug(\"[task request catch err]\", _context.t0);\n                  if (!_this._canceled) {\n                    _context.next = 13;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 13:\n                  _context.t0.loaderType = _this._loaderType;\n                  _context.t0.retryCount = _this._retryCount;\n                  error = _context.t0;\n                  if (transformError) {\n                    error = transformError(error) || error;\n                  }\n                  if (onRetryError && _this._retryCount > 0)\n                    onRetryError(error, _this._retryCount, {\n                      index: rest.index,\n                      vid: rest.vid,\n                      range: rest.range,\n                      priOptions: rest.priOptions\n                    });\n                  _this._retryCount++;\n                  isRetry = true;\n                  if (_this._retryCheckFunc) {\n                    isRetry = _this._retryCheckFunc(_context.t0);\n                  }\n                  if (!(isRetry && _this._retryCount <= retry)) {\n                    _context.next = 26;\n                    break;\n                  }\n                  clearTimeout(_this._retryTimer);\n                  _this._logger.debug(\"[task request setTimeout],retry\", _this._retryCount, \",retry range,\", rest.range);\n                  _this._retryTimer = setTimeout(request, retryDelay);\n                  return _context.abrupt(\"return\");\n                case 26:\n                  _this.promise.reject(error);\n                case 27:\n                case \"end\":\n                  return _context.stop();\n              }\n          }, _callee, null, [[0, 7]]);\n        }));\n        return function request2() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      request();\n      return this.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                clearTimeout(this._retryTimer);\n                this._canceled = true;\n                this._loader.running = false;\n                return _context2.abrupt(\"return\", this._loader.cancel());\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._loader && this._loader.running;\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return this._loader;\n    }\n  }]);\n  return Task2;\n}();\nexport { Task };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { FetchLoader } from \"./fetch.js\";\nimport { LoaderType } from \"./types.js\";\nexport { LoaderType, ResponseType } from \"./types.js\";\nimport { getConfig } from \"./config.js\";\nimport { Task } from \"./task.js\";\nimport { isPlainObject } from \"../is.js\";\nimport { sleep } from \"../streaming-helper.js\";\nimport { EVENT } from \"../event.js\";\nimport EventEmitter from \"eventemitter3\";\nvar NetLoader = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(NetLoader2, _EventEmitter);\n  var _super = _createSuper(NetLoader2);\n  function NetLoader2(cfg) {\n    var _this;\n    _classCallCheck(this, NetLoader2);\n    _this = _super.call(this, cfg);\n    _defineProperty(_assertThisInitialized(_this), \"type\", LoaderType.FETCH);\n    _defineProperty(_assertThisInitialized(_this), \"_queue\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_alive\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_currentTask\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_finnalUrl\", \"\");\n    _defineProperty(_assertThisInitialized(_this), \"_config\", void 0);\n    _this._config = getConfig(cfg);\n    if (_this._config.loaderType === LoaderType.XHR || !FetchLoader.isSupported()) {\n      _this.type = LoaderType.XHR;\n    }\n    _this.log = cfg.logger;\n    return _this;\n  }\n  _createClass(NetLoader2, [{\n    key: \"isFetch\",\n    value: function isFetch() {\n      return this.type === LoaderType.FETCH;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (typeof url === \"string\" || !url) {\n        config.url = url || config.url || this._config.url;\n      } else {\n        config = url;\n      }\n      config = Object.assign({}, this._config, config);\n      if (config.params)\n        config.params = Object.assign({}, config.params);\n      if (config.headers && isPlainObject(config.headers))\n        config.headers = Object.assign({}, config.headers);\n      if (config.body && isPlainObject(config.body))\n        config.body = Object.assign({}, config.body);\n      if (config.transformRequest) {\n        config = config.transformRequest(config) || config;\n      }\n      config.logger = this.log;\n      var task = new Task(this.type, config);\n      task.loader.on(EVENT.REAL_TIME_SPEED, function(data) {\n        _this2.emit(EVENT.REAL_TIME_SPEED, data);\n      });\n      this._queue.push(task);\n      if (this._queue.length === 1 && (!this._currentTask || !this._currentTask.running)) {\n        this._processTask();\n      }\n      return task.promise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n        var cancels;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                cancels = this._queue.map(function(t) {\n                  return t.cancel();\n                }).concat(this._alive.map(function(t) {\n                  return t.cancel();\n                }));\n                if (this._currentTask) {\n                  cancels.push(this._currentTask.cancel());\n                }\n                this._queue = [];\n                this._alive = [];\n                _context.next = 6;\n                return Promise.all(cancels);\n              case 6:\n                _context.next = 8;\n                return sleep();\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }, {\n    key: \"_processTask\",\n    value: function _processTask() {\n      var _this3 = this;\n      this._currentTask = this._queue.shift();\n      if (!this._currentTask)\n        return;\n      if (this._currentTask.alive) {\n        this._alive.push(this._currentTask);\n      }\n      var req = this._currentTask.exec().catch(function(e) {\n      });\n      if (!(req && typeof req.finally === \"function\"))\n        return;\n      req.finally(function() {\n        var _this3$_currentTask, _this3$_alive;\n        if ((_this3$_currentTask = _this3._currentTask) !== null && _this3$_currentTask !== void 0 && _this3$_currentTask.alive && ((_this3$_alive = _this3._alive) === null || _this3$_alive === void 0 ? void 0 : _this3$_alive.length) > 0) {\n          _this3._alive = _this3._alive.filter(function(task) {\n            return task && task !== _this3._currentTask;\n          });\n        }\n        _this3._processTask();\n      });\n    }\n  }], [{\n    key: \"isFetchSupport\",\n    value: function isFetchSupport() {\n      return FetchLoader.isSupported();\n    }\n  }]);\n  return NetLoader2;\n}(EventEmitter);\nexport { NetLoader };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { LoaderType, ResponseType } from \"./types.js\";\nfunction getConfig(cfg) {\n  return _objectSpread2({\n    loaderType: LoaderType.FETCH,\n    retry: 0,\n    retryDelay: 0,\n    timeout: 0,\n    request: null,\n    onTimeout: void 0,\n    onProgress: void 0,\n    onRetryError: void 0,\n    transformRequest: void 0,\n    transformResponse: void 0,\n    transformError: void 0,\n    responseType: ResponseType.TEXT,\n    range: void 0,\n    url: \"\",\n    params: void 0,\n    method: \"GET\",\n    headers: {},\n    body: void 0,\n    mode: void 0,\n    credentials: void 0,\n    cache: void 0,\n    redirect: void 0,\n    referrer: void 0,\n    referrerPolicy: void 0,\n    integrity: void 0,\n    onProcessMinLen: 0\n  }, cfg);\n}\nexport { getConfig };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, assertThisInitialized as _assertThisInitialized } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nvar MasterPlaylist = /* @__PURE__ */ _createClass(function MasterPlaylist2() {\n  _classCallCheck(this, MasterPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"streams\", []);\n  _defineProperty(this, \"isMaster\", true);\n});\nvar MediaType = {\n  Audio: \"AUDIO\",\n  Video: \"VIDEO\",\n  SubTitle: \"SUBTITLE\",\n  ClosedCaptions: \"CLOSED-CAPTIONS\"\n};\nvar MediaStream = /* @__PURE__ */ _createClass(function MediaStream2() {\n  _classCallCheck(this, MediaStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"default\", false);\n  _defineProperty(this, \"autoSelect\", false);\n  _defineProperty(this, \"forced\", false);\n  _defineProperty(this, \"group\", \"\");\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"lang\", \"\");\n  _defineProperty(this, \"segments\", []);\n  _defineProperty(this, \"endSN\", 0);\n});\nvar AudioStream = /* @__PURE__ */ function(_MediaStream) {\n  _inherits(AudioStream2, _MediaStream);\n  var _super = _createSuper(AudioStream2);\n  function AudioStream2() {\n    var _this;\n    _classCallCheck(this, AudioStream2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"mediaType\", MediaType.Audio);\n    _defineProperty(_assertThisInitialized(_this), \"channels\", 0);\n    return _this;\n  }\n  return _createClass(AudioStream2);\n}(MediaStream);\nvar SubTitleStream = /* @__PURE__ */ function(_MediaStream3) {\n  _inherits(SubTitleStream2, _MediaStream3);\n  var _super3 = _createSuper(SubTitleStream2);\n  function SubTitleStream2() {\n    var _this3;\n    _classCallCheck(this, SubTitleStream2);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this3 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this3), \"mediaType\", MediaType.SubTitle);\n    return _this3;\n  }\n  return _createClass(SubTitleStream2);\n}(MediaStream);\nvar MasterStream = /* @__PURE__ */ _createClass(function MasterStream2() {\n  _classCallCheck(this, MasterStream2);\n  _defineProperty(this, \"id\", 0);\n  _defineProperty(this, \"bitrate\", 0);\n  _defineProperty(this, \"width\", 0);\n  _defineProperty(this, \"height\", 0);\n  _defineProperty(this, \"name\", \"\");\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"audioCodec\", \"\");\n  _defineProperty(this, \"videoCodec\", \"\");\n  _defineProperty(this, \"textCodec\", \"\");\n  _defineProperty(this, \"audioGroup\", \"\");\n  _defineProperty(this, \"audioStreams\", []);\n  _defineProperty(this, \"subtitleStreams\", []);\n  _defineProperty(this, \"closedCaptionsStream\", []);\n});\nvar MediaPlaylist = /* @__PURE__ */ _createClass(function MediaPlaylist2() {\n  _classCallCheck(this, MediaPlaylist2);\n  _defineProperty(this, \"version\", 0);\n  _defineProperty(this, \"url\", \"\");\n  _defineProperty(this, \"type\", \"\");\n  _defineProperty(this, \"startCC\", 0);\n  _defineProperty(this, \"endCC\", 0);\n  _defineProperty(this, \"startSN\", 0);\n  _defineProperty(this, \"endSN\", 0);\n  _defineProperty(this, \"totalDuration\", 0);\n  _defineProperty(this, \"targetDuration\", 0);\n  _defineProperty(this, \"partTargetDuration\", 0);\n  _defineProperty(this, \"canSkipUntil\", 0);\n  _defineProperty(this, \"canSkipDateRanges\", false);\n  _defineProperty(this, \"skippedSegments\", 0);\n  _defineProperty(this, \"canBlockReload\", false);\n  _defineProperty(this, \"partHoldBack\", 0);\n  _defineProperty(this, \"live\", true);\n  _defineProperty(this, \"lowLatency\", false);\n  _defineProperty(this, \"endPartIndex\", 0);\n  _defineProperty(this, \"segments\", []);\n});\nvar MediaSegment = /* @__PURE__ */ function() {\n  function MediaSegment2() {\n    _classCallCheck(this, MediaSegment2);\n    _defineProperty(this, \"sn\", 0);\n    _defineProperty(this, \"cc\", 0);\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"title\", \"\");\n    _defineProperty(this, \"start\", 0);\n    _defineProperty(this, \"duration\", 0);\n    _defineProperty(this, \"dataTime\", \"\");\n    _defineProperty(this, \"key\", null);\n    _defineProperty(this, \"byteRange\", null);\n    _defineProperty(this, \"isInitSegment\", false);\n    _defineProperty(this, \"initSegment\", null);\n    _defineProperty(this, \"isLast\", false);\n    _defineProperty(this, \"hasAudio\", false);\n    _defineProperty(this, \"hasVideo\", false);\n    _defineProperty(this, \"independent\", false);\n    _defineProperty(this, \"partIndex\", 0);\n  }\n  _createClass(MediaSegment2, [{\n    key: \"end\",\n    get: function get() {\n      return this.start + this.duration;\n    }\n  }, {\n    key: \"setTrackExist\",\n    value: function setTrackExist(v, a) {\n      this.hasVideo = v;\n      this.hasAudio = a;\n    }\n  }, {\n    key: \"setByteRange\",\n    value: function setByteRange(data, prevSegment) {\n      this.byteRange = [0];\n      var bytes = data.split(\"@\");\n      if (bytes.length === 1 && prevSegment && prevSegment.byteRange) {\n        this.byteRange[0] = prevSegment.byteRange[1] || 0;\n        if (this.byteRange[0])\n          this.byteRange[0] += 1;\n      } else {\n        this.byteRange[0] = parseInt(bytes[1]);\n      }\n      this.byteRange[1] = this.byteRange[0] + parseInt(bytes[0]) - 1;\n    }\n  }]);\n  return MediaSegment2;\n}();\nvar MediaSegmentKey = /* @__PURE__ */ function() {\n  function MediaSegmentKey2(segKey) {\n    _classCallCheck(this, MediaSegmentKey2);\n    _defineProperty(this, \"method\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"iv\", null);\n    _defineProperty(this, \"keyFormat\", \"\");\n    _defineProperty(this, \"keyFormatVersions\", \"\");\n    if (segKey instanceof MediaSegmentKey2) {\n      this.method = segKey.method;\n      this.url = segKey.url;\n      this.keyFormat = segKey.keyFormat;\n      this.keyFormatVersions = segKey.keyFormatVersions;\n      if (segKey.iv)\n        this.iv = new Uint8Array(segKey.iv);\n    }\n  }\n  _createClass(MediaSegmentKey2, [{\n    key: \"clone\",\n    value: function clone(sn) {\n      var key = new MediaSegmentKey2(this);\n      if (sn !== null && sn !== void 0)\n        key.setIVFromSN(sn);\n      return key;\n    }\n  }, {\n    key: \"setIVFromSN\",\n    value: function setIVFromSN(sn) {\n      if (!this.iv && this.method === \"AES-128\" && typeof sn === \"number\" && this.url) {\n        this.iv = new Uint8Array(16);\n        for (var i = 12; i < 16; i++) {\n          this.iv[i] = sn >> 8 * (15 - i) & 255;\n        }\n      }\n    }\n  }]);\n  return MediaSegmentKey2;\n}();\nexport { AudioStream, MasterPlaylist, MasterStream, MediaPlaylist, MediaSegment, MediaSegmentKey, MediaStream, SubTitleStream };\n","var REGEXP_TAG = /^#(EXT[^:]*)(?::(.*))?$/;\nvar REGEXP_ATTR = /([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;\nvar REGEXP_ABSOLUTE_URL = /^(?:[a-zA-Z0-9+\\-.]+:)?\\/\\//;\nvar REGEXP_URL_PAIR = /^((?:[a-zA-Z0-9+\\-.]+:)?\\/\\/[^/?#]*)?([^?#]*\\/)?/;\nfunction getLines(text) {\n  return text.split(/[\\r\\n]/).map(function(x) {\n    return x.trim();\n  }).filter(Boolean);\n}\nfunction parseTag(text) {\n  var ret = text.match(REGEXP_TAG);\n  if (!ret || !ret[1])\n    return;\n  return [ret[1].replace(\"EXT-X-\", \"\"), ret[2]];\n}\nfunction parseAttr(text) {\n  var ret = {};\n  var match = REGEXP_ATTR.exec(text);\n  while (match) {\n    ret[match[1]] = match[2] || match[3];\n    match = REGEXP_ATTR.exec(text);\n  }\n  return ret;\n}\nfunction getAbsoluteUrl(url, parentUrl) {\n  if (!parentUrl || !url || REGEXP_ABSOLUTE_URL.test(url))\n    return url;\n  var pairs = REGEXP_URL_PAIR.exec(parentUrl);\n  if (!pairs)\n    return url;\n  if (url[0] === \"/\")\n    return pairs[1] + url;\n  return pairs[1] + pairs[2] + url;\n}\nvar CODECS_REGEXP = {\n  audio: [/^mp4a/, /^vorbis$/, /^opus$/, /^flac$/, /^[ae]c-3$/],\n  video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/],\n  text: [/^vtt$/, /^wvtt/, /^stpp/]\n};\nfunction getCodecs(type, codecs) {\n  var re = CODECS_REGEXP[type];\n  if (!re || !codecs || !codecs.length)\n    return;\n  for (var i = 0; i < re.length; i++) {\n    for (var j = 0; j < codecs.length; j++) {\n      if (re[i].test(codecs[j]))\n        return codecs[j];\n    }\n  }\n}\nexport { getAbsoluteUrl, getCodecs, getLines, parseAttr, parseTag };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MasterPlaylist, MediaStream, SubTitleStream, AudioStream, MasterStream } from \"./model.js\";\nimport { parseTag, parseAttr, getAbsoluteUrl, getCodecs } from \"./utils.js\";\nfunction parseMasterPlaylist(lines, parentUrl) {\n  var master = new MasterPlaylist();\n  var index = 0;\n  var line;\n  var audioStreams = [];\n  var subtitleStreams = [];\n  while (line = lines[index++]) {\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    if (name === \"VERSION\") {\n      master.version = parseInt(data);\n    } else if (name === \"MEDIA\" && data) {\n      var attr = parseAttr(data);\n      var stream = void 0;\n      switch (attr.TYPE) {\n        case \"AUDIO\":\n          stream = new AudioStream();\n          break;\n        case \"SUBTITLES\":\n          stream = new SubTitleStream();\n          break;\n        default:\n          stream = new MediaStream();\n      }\n      stream.url = getAbsoluteUrl(attr.URI, parentUrl);\n      stream.default = attr.DEFAULT === \"YES\";\n      stream.autoSelect = attr.AUTOSELECT === \"YES\";\n      stream.group = attr[\"GROUP-ID\"];\n      stream.name = attr.NAME;\n      stream.lang = attr.LANGUAGE;\n      if (attr.CHANNELS) {\n        stream.channels = Number(attr.CHANNELS.split(\"/\")[0]);\n        if (Number.isNaN(stream.channels))\n          stream.channels = 0;\n      }\n      if (attr.TYPE === \"AUDIO\" && attr.URI) {\n        audioStreams.push(stream);\n      }\n      if (attr.TYPE === \"SUBTITLES\") {\n        subtitleStreams.push(stream);\n      }\n    } else if (name === \"STREAM-INF\" && data) {\n      var _stream = new MasterStream();\n      var _attr = parseAttr(data);\n      _stream.bitrate = parseInt(_attr[\"AVERAGE-BANDWIDTH\"] || _attr.BANDWIDTH);\n      _stream.name = _attr.NAME;\n      _stream.url = getAbsoluteUrl(lines[index++], parentUrl);\n      if (_attr.RESOLUTION) {\n        var _attr$RESOLUTION$spli = _attr.RESOLUTION.split(\"x\"), _attr$RESOLUTION$spli2 = _slicedToArray(_attr$RESOLUTION$spli, 2), w = _attr$RESOLUTION$spli2[0], h = _attr$RESOLUTION$spli2[1];\n        _stream.width = parseInt(w);\n        _stream.height = parseInt(h);\n      }\n      if (_attr.CODECS) {\n        var codecs = _attr.CODECS.split(/[ ,]+/).filter(Boolean);\n        _stream.videoCodec = getCodecs(\"video\", codecs);\n        _stream.audioCodec = getCodecs(\"audio\", codecs);\n        _stream.textCodec = getCodecs(\"text\", codecs);\n      }\n      _stream.audioGroup = _attr.AUDIO;\n      _stream.subtitleGroup = _attr.SUBTITLES;\n      master.streams.push(_stream);\n    }\n  }\n  master.streams.forEach(function(s, i) {\n    s.id = i;\n  });\n  if (audioStreams.length) {\n    audioStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.audioGroup) {\n        stream2.audioStreams = audioStreams.filter(function(x) {\n          return x.group === stream2.audioGroup;\n        });\n      }\n    });\n  }\n  if (subtitleStreams.length) {\n    subtitleStreams.forEach(function(s, i) {\n      s.id = i;\n    });\n    master.streams.forEach(function(stream2) {\n      if (stream2.subtitleGroup) {\n        stream2.subtitleStreams = subtitleStreams.filter(function(x) {\n          return x.group === stream2.subtitleGroup;\n        });\n      }\n    });\n  }\n  return master;\n}\nexport { parseMasterPlaylist };\n","import { slicedToArray as _slicedToArray } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { MediaPlaylist, MediaSegment, MediaSegmentKey } from \"./model.js\";\nimport { getAbsoluteUrl, parseTag, parseAttr } from \"./utils.js\";\nfunction parseMediaPlaylist(lines, parentUrl, useLowLatency) {\n  var media = new MediaPlaylist();\n  media.url = parentUrl;\n  var curSegment = new MediaSegment();\n  var curInitSegment = null;\n  var curKey = null;\n  var totalDuration = 0;\n  var curSN = 0;\n  var curCC = 0;\n  var index = 0;\n  var line;\n  var endOfList = false;\n  var partSegmentIndex = 0;\n  while (line = lines[index++]) {\n    if (endOfList) {\n      break;\n    }\n    if (line[0] !== \"#\") {\n      if (media.lowLatency) {\n        curSN++;\n        continue;\n      }\n      curSegment.sn = curSN;\n      curSegment.cc = curCC;\n      curSegment.url = getAbsoluteUrl(line, parentUrl);\n      if (curKey)\n        curSegment.key = curKey.clone(curSN);\n      if (curInitSegment)\n        curSegment.initSegment = curInitSegment;\n      media.segments.push(curSegment);\n      curSegment = new MediaSegment();\n      curSN++;\n      continue;\n    }\n    var tag = parseTag(line);\n    if (!tag)\n      continue;\n    var _tag = _slicedToArray(tag, 2), name = _tag[0], data = _tag[1];\n    switch (name) {\n      case \"VERSION\":\n        media.version = parseInt(data);\n        break;\n      case \"PLAYLIST-TYPE\":\n        media.type = data === null || data === void 0 ? void 0 : data.toUpperCase();\n        break;\n      case \"TARGETDURATION\":\n        media.targetDuration = parseFloat(data);\n        break;\n      case \"PART-INF\":\n        {\n          if (useLowLatency) {\n            media.lowLatency = true;\n          }\n          var attr = parseAttr(data);\n          if (attr[\"PART-TARGET\"]) {\n            media.partTargetDuration = parseFloat(attr[\"PART-TARGET\"]);\n          }\n        }\n        break;\n      case \"SERVER-CONTROL\":\n        {\n          var _attr = parseAttr(data);\n          media.canBlockReload = _attr[\"CAN-BLOCK-RELOAD\"] === \"YES\";\n          media.partHoldBack = parseFloat(_attr[\"PART-HOLD-BACK\"] || 0);\n          media.canSkipUntil = parseFloat(_attr[\"CAN-SKIP-UNTIL\"] || 0);\n          media.canSkipDateRanges = _attr[\"CAN-SKIP-DATERANGES\"] === \"YES\";\n        }\n        break;\n      case \"ENDLIST\":\n        {\n          var _lastSegment = media.segments[media.segments.length - 1];\n          if (_lastSegment) {\n            _lastSegment.isLast = true;\n          }\n          media.live = false;\n          endOfList = true;\n        }\n        break;\n      case \"MEDIA-SEQUENCE\":\n        curSN = media.startSN = parseInt(data);\n        break;\n      case \"DISCONTINUITY-SEQUENCE\":\n        curCC = media.startCC = parseInt(data);\n        break;\n      case \"DISCONTINUITY\":\n        curCC++;\n        break;\n      case \"BYTERANGE\":\n        curSegment.setByteRange(data, media.segments[media.segments.length - 1]);\n        break;\n      case \"PART\":\n        {\n          if (!media.lowLatency)\n            break;\n          var _attr2 = parseAttr(data);\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          curSegment.independent = _attr2[\"INDEPENDENT\"] === \"YES\";\n          curSegment.sn = curSN;\n          curSegment.cc = curCC;\n          curSegment.partIndex = partSegmentIndex;\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(_attr2[\"DURATION\"]);\n          totalDuration += curSegment.duration;\n          curSegment.url = getAbsoluteUrl(_attr2[\"URI\"], parentUrl);\n          if (curKey)\n            curSegment.key = curKey.clone(curSN);\n          if (curInitSegment)\n            curSegment.initSegment = curInitSegment;\n          media.segments.push(curSegment);\n          curSegment = new MediaSegment();\n          partSegmentIndex++;\n        }\n        break;\n      case \"PRELOAD-HINT\":\n        break;\n      case \"PROGRAM-DATE-TIME\":\n        curSegment.dataTime = data;\n        break;\n      case \"EXTINF\":\n        {\n          if (media.lowLatency) {\n            partSegmentIndex = 0;\n            break;\n          }\n          var _data$split = data.split(\",\"), _data$split2 = _slicedToArray(_data$split, 2), duration = _data$split2[0], title = _data$split2[1];\n          curSegment.start = totalDuration;\n          curSegment.duration = parseFloat(duration);\n          totalDuration += curSegment.duration;\n          curSegment.title = title;\n        }\n        break;\n      case \"KEY\":\n        {\n          var _attr3 = parseAttr(data);\n          if (_attr3.METHOD === \"NONE\") {\n            curKey = null;\n            break;\n          }\n          if (_attr3.METHOD !== \"AES-128\")\n            throw new Error(\"encrypt \".concat(_attr3.METHOD, \"/\").concat(_attr3.KEYFORMAT, \" is not supported\"));\n          curKey = new MediaSegmentKey();\n          curKey.method = _attr3.METHOD;\n          curKey.url = /^blob:/.test(_attr3.URI) ? _attr3.URI : getAbsoluteUrl(_attr3.URI, parentUrl);\n          curKey.keyFormat = _attr3.KEYFORMAT || \"identity\";\n          curKey.keyFormatVersions = _attr3.KEYFORMATVERSIONS;\n          if (_attr3.IV) {\n            var str = _attr3.IV.slice(2);\n            str = (str.length & 1 ? \"0\" : \"\") + str;\n            curKey.iv = new Uint8Array(str.length / 2);\n            for (var i = 0, l = str.length / 2; i < l; i++) {\n              curKey.iv[i] = parseInt(str.slice(i * 2, i * 2 + 2), 16);\n            }\n          }\n        }\n        break;\n      case \"MAP\":\n        {\n          var _attr4 = parseAttr(data);\n          curSegment.url = getAbsoluteUrl(_attr4.URI, parentUrl);\n          if (_attr4.BYTERANGE)\n            curSegment.setByteRange(_attr4.BYTERANGE);\n          curSegment.isInitSegment = true;\n          curSegment.sn = 0;\n          if (curKey) {\n            curSegment.key = curKey.clone(0);\n          }\n          curInitSegment = curSegment;\n          curSegment = new MediaSegment();\n        }\n        break;\n    }\n  }\n  media.segments = media.segments.filter(function(x) {\n    return x.duration !== 0;\n  });\n  var lastSegment = media.segments[media.segments.length - 1];\n  if (lastSegment) {\n    media.endSN = lastSegment.sn;\n    media.endPartIndex = lastSegment.partIndex;\n  }\n  media.totalDuration = totalDuration;\n  media.endCC = curCC;\n  return media;\n}\nexport { parseMediaPlaylist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { parseMasterPlaylist } from \"./master.js\";\nimport { parseMediaPlaylist } from \"./media.js\";\nimport { getLines } from \"./utils.js\";\nvar M3U8Parser = /* @__PURE__ */ function() {\n  function M3U8Parser2() {\n    _classCallCheck(this, M3U8Parser2);\n  }\n  _createClass(M3U8Parser2, null, [{\n    key: \"parse\",\n    value: function parse() {\n      var text = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n      var parentUrl = arguments.length > 1 ? arguments[1] : void 0;\n      var useLowLatency = arguments.length > 2 ? arguments[2] : void 0;\n      if (!text.includes(\"#EXTM3U\"))\n        throw new Error(\"Invalid m3u8 file\");\n      var lines = getLines(text);\n      if (M3U8Parser2.isMediaPlaylist(text)) {\n        return parseMediaPlaylist(lines, parentUrl, useLowLatency);\n      }\n      return parseMasterPlaylist(lines, parentUrl);\n    }\n  }, {\n    key: \"isMediaPlaylist\",\n    value: function isMediaPlaylist(text) {\n      return text.includes(\"#EXTINF:\") || text.includes(\"#EXT-X-TARGETDURATION:\");\n    }\n  }]);\n  return M3U8Parser2;\n}();\nexport { M3U8Parser };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { StreamingError, ERR, EVENT, NetLoader } from \"xgplayer-streaming-shared\";\nimport { M3U8Parser } from \"./parser/index.js\";\nimport { Event } from \"../constants.js\";\nvar ManifestLoader = /* @__PURE__ */ function() {\n  function ManifestLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, ManifestLoader2);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(Event.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._timer = null;\n    this._useLowLatency = hls.config.useLowLatency;\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, manifestLoadTimeout = _this$hls$config.manifestLoadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._loader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._subtitleLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"text\",\n      retry: retryCount,\n      retryDelay,\n      timeout: manifestLoadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(ManifestLoader2, [{\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(url, audioUrl, subtitleUrl) {\n        var toLoad, videoText, audioText, subtitleText, videoResUrl, audioResUrl, subtitleResUrl, _yield$Promise$all, _yield$Promise$all2, video, audio, subtitle, _audio$response, _subtitle$response, _audio$response2, onPreM3U8Parse, playlist, audioPlaylist, subtitlePlaylist, _playlist;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [this._loader.load(url)];\n                if (audioUrl) {\n                  toLoad.push(this._audioLoader.load(audioUrl));\n                }\n                if (subtitleUrl) {\n                  toLoad.push(this._subtitleLoader.load(subtitleUrl));\n                }\n                _context.prev = 3;\n                _context.next = 6;\n                return Promise.all(toLoad);\n              case 6:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n                video = _yield$Promise$all2[0];\n                audio = _yield$Promise$all2[1];\n                subtitle = _yield$Promise$all2[2];\n                if (video) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\", []);\n              case 13:\n                this._emitOnLoaded(video, url);\n                videoText = video.data;\n                videoResUrl = video.response.url || url;\n                if (audioUrl) {\n                  audioText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleText = subtitle === null || subtitle === void 0 ? void 0 : subtitle.data;\n                  audioResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response = audio.response) === null || _audio$response === void 0 ? void 0 : _audio$response.url) || audioUrl;\n                  subtitleResUrl = (subtitle === null || subtitle === void 0 ? void 0 : (_subtitle$response = subtitle.response) === null || _subtitle$response === void 0 ? void 0 : _subtitle$response.url) || subtitleUrl;\n                  audioText && this._emitOnLoaded(audio, audioUrl);\n                  subtitleText && this._emitOnLoaded(subtitle, subtitleUrl);\n                } else {\n                  subtitleText = audio === null || audio === void 0 ? void 0 : audio.data;\n                  subtitleResUrl = (audio === null || audio === void 0 ? void 0 : (_audio$response2 = audio.response) === null || _audio$response2 === void 0 ? void 0 : _audio$response2.url) || subtitleUrl;\n                  subtitleText && this._emitOnLoaded(audio, subtitleUrl);\n                }\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](3);\n                throw StreamingError.network(_context.t0);\n              case 22:\n                onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n                _context.prev = 23;\n                if (onPreM3U8Parse) {\n                  videoText = onPreM3U8Parse(videoText) || videoText;\n                  if (audioText)\n                    audioText = onPreM3U8Parse(audioText, true) || audioText;\n                  if (subtitleText)\n                    subtitleText = onPreM3U8Parse(subtitleText, true) || subtitleText;\n                }\n                playlist = M3U8Parser.parse(videoText, videoResUrl, this._useLowLatency);\n                if (!(((_playlist = playlist) === null || _playlist === void 0 ? void 0 : _playlist.live) === false && playlist.segments && !playlist.segments.length)) {\n                  _context.next = 28;\n                  break;\n                }\n                throw new Error(\"empty segments list\");\n              case 28:\n                if (audioText) {\n                  audioPlaylist = M3U8Parser.parse(audioText, audioResUrl, this._useLowLatency);\n                }\n                if (subtitleText) {\n                  subtitlePlaylist = M3U8Parser.parse(subtitleText, subtitleResUrl, this._useLowLatency);\n                }\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t1 = _context[\"catch\"](23);\n                throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, _context.t1);\n              case 35:\n                if (playlist) {\n                  if (playlist.isMaster) {\n                    this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n                      playlist\n                    });\n                  } else {\n                    this.hls.emit(Event.HLS_LEVEL_LOADED, {\n                      playlist\n                    });\n                  }\n                }\n                return _context.abrupt(\"return\", [playlist, audioPlaylist, subtitlePlaylist]);\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this, [[3, 19], [23, 32]]);\n      }));\n      function load(_x, _x2, _x3) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"parseText\",\n    value: function parseText(videoText, url) {\n      var onPreM3U8Parse = this.hls.config.onPreM3U8Parse;\n      var playlist;\n      try {\n        var _playlist2;\n        if (onPreM3U8Parse) {\n          videoText = onPreM3U8Parse(videoText) || videoText;\n        }\n        playlist = M3U8Parser.parse(videoText, url, this._useLowLatency);\n        if (((_playlist2 = playlist) === null || _playlist2 === void 0 ? void 0 : _playlist2.live) === false && playlist.segments && !playlist.segments.length) {\n          throw new Error(\"empty segments list\");\n        }\n      } catch (error) {\n        throw new StreamingError(ERR.MANIFEST, ERR.SUB_TYPES.HLS, error);\n      }\n      if (playlist) {\n        if (playlist.isMaster) {\n          this.hls.emit(Event.HLS_MANIFEST_LOADED, {\n            playlist\n          });\n        } else {\n          this.hls.emit(Event.HLS_LEVEL_LOADED, {\n            playlist\n          });\n        }\n      }\n      return [playlist];\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(url, audioUrl, subtitleUrl, cb, errorCb, time) {\n      var _this2 = this;\n      clearTimeout(this._timer);\n      time = time || 3e3;\n      var retryCount = this.hls.config.pollRetryCount;\n      var fn = /* @__PURE__ */ function() {\n        var _ref2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n          var res;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1)\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  clearTimeout(_this2._timer);\n                  _context2.prev = 1;\n                  _context2.next = 4;\n                  return _this2.load(url, audioUrl, subtitleUrl);\n                case 4:\n                  res = _context2.sent;\n                  if (res[0]) {\n                    _context2.next = 7;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 7:\n                  retryCount = _this2.hls.config.pollRetryCount;\n                  cb(res[0], res[1], res[2]);\n                  _context2.next = 15;\n                  break;\n                case 11:\n                  _context2.prev = 11;\n                  _context2.t0 = _context2[\"catch\"](1);\n                  retryCount--;\n                  if (retryCount <= 0) {\n                    errorCb(_context2.t0);\n                  }\n                case 15:\n                  _this2._timer = setTimeout(fn, time);\n                case 16:\n                case \"end\":\n                  return _context2.stop();\n              }\n          }, _callee2, null, [[1, 11]]);\n        }));\n        return function fn2() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n      this._timer = setTimeout(fn, time);\n    }\n  }, {\n    key: \"stopPoll\",\n    value: function stopPoll() {\n      clearTimeout(this._timer);\n      return this.cancel();\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      return Promise.all([this._loader.cancel(), this._audioLoader.cancel()]);\n    }\n  }]);\n  return ManifestLoader2;\n}();\nexport { ManifestLoader };\n","function clamp(num, min, max) {\n  if (min > max) {\n    max = min;\n  }\n  return Math.min(Math.max(num, min), max);\n}\nexport { clamp };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { Logger } from \"xgplayer-streaming-shared\";\nvar logger = new Logger(\"playlist\");\nvar Stream = /* @__PURE__ */ function() {\n  function Stream2(playlist, audioPlaylist, subtitlePlaylist) {\n    _classCallCheck(this, Stream2);\n    _defineProperty(this, \"live\", void 0);\n    _defineProperty(this, \"id\", 0);\n    _defineProperty(this, \"bitrate\", 0);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"name\", \"\");\n    _defineProperty(this, \"url\", \"\");\n    _defineProperty(this, \"audioCodec\", \"\");\n    _defineProperty(this, \"videoCodec\", \"\");\n    _defineProperty(this, \"textCodec\", \"\");\n    _defineProperty(this, \"startCC\", 0);\n    _defineProperty(this, \"endCC\", 0);\n    _defineProperty(this, \"startSN\", 0);\n    _defineProperty(this, \"endSN\", -1);\n    _defineProperty(this, \"totalDuration\", 0);\n    _defineProperty(this, \"targetDuration\", 0);\n    _defineProperty(this, \"partTargetDuration\", 0);\n    _defineProperty(this, \"canSkipUntil\", 0);\n    _defineProperty(this, \"canSkipDateRanges\", false);\n    _defineProperty(this, \"skippedSegments\", 0);\n    _defineProperty(this, \"canBlockReload\", false);\n    _defineProperty(this, \"partHoldBack\", 0);\n    _defineProperty(this, \"lowLatency\", false);\n    _defineProperty(this, \"endPartIndex\", 0);\n    _defineProperty(this, \"snDiff\", null);\n    _defineProperty(this, \"segments\", []);\n    _defineProperty(this, \"audioStreams\", []);\n    _defineProperty(this, \"subtitleStreams\", []);\n    _defineProperty(this, \"closedCaptions\", []);\n    _defineProperty(this, \"currentAudioStream\", null);\n    _defineProperty(this, \"currentSubtitleStream\", null);\n    this.update(this._setLLPlaybackPoint(playlist), audioPlaylist, subtitlePlaylist);\n  }\n  _createClass(Stream2, [{\n    key: \"lastSegment\",\n    get: function get() {\n      if (this.segments.length) {\n        return this.segments[this.segments.length - 1];\n      }\n      return null;\n    }\n  }, {\n    key: \"segmentDuration\",\n    get: function get() {\n      var _this$segments$;\n      return this.targetDuration || ((_this$segments$ = this.segments[0]) === null || _this$segments$ === void 0 ? void 0 : _this$segments$.duration) || 0;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      return this.endTime;\n    }\n  }, {\n    key: \"endTime\",\n    get: function get() {\n      var _this$lastSegment;\n      return ((_this$lastSegment = this.lastSegment) === null || _this$lastSegment === void 0 ? void 0 : _this$lastSegment.end) || 0;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentSubtitle;\n      return ((_this$currentSubtitle = this.currentSubtitleStream) === null || _this$currentSubtitle === void 0 ? void 0 : _this$currentSubtitle.endSN) || 0;\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment(startTime, pointer) {\n      if (this.currentAudioStream) {\n        this._clearSegments(startTime, pointer);\n      }\n      return this._clearSegments(startTime, pointer);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      if (!seg || !this.currentAudioStream)\n        return;\n      var sn = seg.sn - this.snDiff;\n      return this.currentAudioStream.segments.find(function(x) {\n        return x.sn === sn;\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(playlist, audioPlaylist) {\n      this.url = playlist.url;\n      if (Array.isArray(playlist.segments)) {\n        if (this.live === null || this.live === void 0)\n          this.live = playlist.live;\n        this._updateSegments(playlist, this);\n        this.startCC = playlist.startCC;\n        this.endCC = playlist.endCC;\n        this.startSN = playlist.startSN;\n        this.endSN = playlist.endSN || -1;\n        this.totalDuration = playlist.totalDuration;\n        this.targetDuration = playlist.targetDuration;\n        this.live = playlist.live;\n        this.lowLatency = playlist.lowLatency;\n        this.canBlockReload = playlist.canBlockReload;\n        this.canSkipDateRanges = playlist.canSkipDateRanges;\n        this.canSkipUntil = playlist.canSkipUntil;\n        this.partHoldBack = playlist.partHoldBack;\n        this.partTargetDuration = playlist.partTargetDuration;\n        this.skippedSegments = playlist.skippedSegments;\n        this.endPartIndex = playlist.endPartIndex;\n        if (audioPlaylist && this.currentAudioStream && Array.isArray(audioPlaylist.segments)) {\n          this._updateSegments(audioPlaylist, this.currentAudioStream);\n          if ((this.snDiff === null || this.snDiff === void 0) && playlist.segments.length && audioPlaylist.segments.length) {\n            this.snDiff = playlist.segments[0].sn - audioPlaylist.segments[0].sn;\n          }\n        }\n      } else {\n        this.id = playlist.id;\n        this.bitrate = playlist.bitrate;\n        this.width = playlist.width;\n        this.height = playlist.height;\n        this.name = playlist.name;\n        this.audioCodec = playlist.audioCodec;\n        this.videoCodec = playlist.videoCodec;\n        this.textCodec = playlist.textCodec;\n        this.audioStreams = playlist.audioStreams;\n        this.subtitleStreams = playlist.subtitleStreams;\n        if (!this.currentAudioStream && this.audioStreams.length) {\n          this.currentAudioStream = this.audioStreams.find(function(x) {\n            return x.default;\n          }) || this.audioStreams[0];\n        }\n        if (!this.currentSubtitleStream && this.subtitleStreams.length) {\n          this.currentSubtitleStream = this.subtitleStreams.find(function(x) {\n            return x.default;\n          }) || this.subtitleStreams[0];\n        }\n      }\n    }\n  }, {\n    key: \"updateSubtitle\",\n    value: function updateSubtitle(subtitlePlaylist) {\n      var _this = this;\n      if (!(subtitlePlaylist && this.currentSubtitleStream && Array.isArray(subtitlePlaylist.segments)))\n        return;\n      var newSegs = this._updateSegments(subtitlePlaylist, this.currentSubtitleStream);\n      var segs = this.currentSubtitleStream.segments;\n      if (segs.length > 100) {\n        this.currentSubtitleStream.segments = segs.slice(100);\n      }\n      if (!newSegs)\n        return;\n      return newSegs.map(function(x) {\n        return {\n          sn: x.sn,\n          url: x.url,\n          duration: x.duration,\n          start: x.start,\n          end: x.end,\n          lang: _this.currentSubtitleStream.lang\n        };\n      });\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var toSwitch = this.subtitleStreams.find(function(x) {\n        return x.lang === lang;\n      });\n      var origin = this.currentSubtitleStream;\n      if (toSwitch) {\n        this.currentSubtitleStream = toSwitch;\n        origin.segments = [];\n      }\n    }\n  }, {\n    key: \"_setLLPlaybackPoint\",\n    value: function _setLLPlaybackPoint(playlist) {\n      if (!playlist.lowLatency || !playlist.segments.length)\n        return playlist;\n      var maxStartPoint = playlist.totalDuration - playlist.partHoldBack;\n      var segs = playlist.segments;\n      var index = 0;\n      for (var i = 0, l = segs.length; i < l; i++) {\n        if (segs[i].start <= maxStartPoint && segs[i].independent) {\n          index = i;\n        }\n      }\n      var usefulSegs = segs.slice(index);\n      var endTime = 0;\n      usefulSegs.forEach(function(s) {\n        s.start = endTime;\n        endTime = s.end;\n      });\n      playlist.segments = usefulSegs;\n      playlist.totalDuration = endTime;\n      playlist.startSN = usefulSegs[0].sn;\n      playlist.startCC = usefulSegs[0].cc;\n      logger.log(\"set ll-hls playback point: SN=\".concat(playlist.startSN, \" partIndex=\").concat(usefulSegs[0].partIndex, \", duration=\").concat(endTime));\n      return playlist;\n    }\n  }, {\n    key: \"_clearSegments\",\n    value: function _clearSegments(startTime, pointer) {\n      var sliceStart = 0;\n      var segments = this.segments;\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].end >= startTime) {\n          sliceStart = i;\n          break;\n        }\n      }\n      if (sliceStart > pointer) {\n        sliceStart = pointer;\n      }\n      if (sliceStart) {\n        this.segments = this.segments.slice(sliceStart);\n        if (this.currentAudioStream) {\n          this.currentAudioStream.segments = this.currentAudioStream.segments.slice(sliceStart);\n        }\n      }\n      return pointer - sliceStart;\n    }\n  }, {\n    key: \"_updateSegments\",\n    value: function _updateSegments(playlist, segObj) {\n      var segments = segObj.segments;\n      if (this.live) {\n        var lowLatency = playlist.lowLatency;\n        var endSeg = segments[segments.length - 1];\n        var endSN = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.sn) || -1;\n        var endPartIndex = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.partIndex) || 0;\n        var hasNew = endSN < playlist.endSN && playlist.segments.length;\n        if (lowLatency) {\n          hasNew = hasNew || endPartIndex < playlist.endPartIndex;\n        }\n        if (hasNew) {\n          logger.log(\"update segments: endSN:\".concat(endSN, \", partIndex:\").concat(endPartIndex, \" --> endSN:\").concat(playlist.endSN, \", partIndex:\").concat(playlist.endPartIndex));\n          var index = playlist.segments.findIndex(function(x) {\n            return x.sn === endSN && x.partIndex === endPartIndex;\n          });\n          var toAppend = index < 0 ? playlist.segments : playlist.segments.slice(index + 1);\n          if (segments.length && toAppend.length) {\n            var endTime = endSeg.end;\n            var endTimeBeforeAppend = endTime;\n            toAppend.forEach(function(seg) {\n              seg.start = endTime;\n              endTime = seg.end;\n            });\n            logger.log(\"liveEdge: \".concat(endTimeBeforeAppend, \" -> \").concat(endTime));\n            var lastCC = (endSeg === null || endSeg === void 0 ? void 0 : endSeg.cc) || -1;\n            if (lastCC > toAppend[0].cc) {\n              toAppend.forEach(function(seg) {\n                return seg.cc += lastCC;\n              });\n            }\n          }\n          segObj.endSN = playlist.endSN;\n          segObj.segments = segments.concat(toAppend);\n          return toAppend;\n        }\n      } else {\n        segObj.segments = playlist.segments;\n      }\n    }\n  }]);\n  return Stream2;\n}();\nexport { Stream };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { clamp } from \"../utils.js\";\nimport { Stream } from \"./stream.js\";\nimport { Event } from \"../constants.js\";\nvar Playlist = /* @__PURE__ */ function() {\n  function Playlist2(hls) {\n    _classCallCheck(this, Playlist2);\n    _defineProperty(this, \"streams\", []);\n    _defineProperty(this, \"currentStream\", null);\n    _defineProperty(this, \"dvrWindow\", 0);\n    _defineProperty(this, \"_segmentPointer\", -1);\n    this.hls = hls;\n  }\n  _createClass(Playlist2, [{\n    key: \"lowLatency\",\n    get: function get() {\n      var _this$currentStream;\n      return (_this$currentStream = this.currentStream) === null || _this$currentStream === void 0 ? void 0 : _this$currentStream.lowLatency;\n    }\n  }, {\n    key: \"lastSegment\",\n    get: function get() {\n      var _this$currentStream2;\n      return (_this$currentStream2 = this.currentStream) === null || _this$currentStream2 === void 0 ? void 0 : _this$currentStream2.lastSegment;\n    }\n  }, {\n    key: \"currentSegment\",\n    get: function get() {\n      var _this$currentSegments;\n      return (_this$currentSegments = this.currentSegments) === null || _this$currentSegments === void 0 ? void 0 : _this$currentSegments[this._segmentPointer];\n    }\n  }, {\n    key: \"nextSegment\",\n    get: function get() {\n      var _this$currentSegments2;\n      return (_this$currentSegments2 = this.currentSegments) === null || _this$currentSegments2 === void 0 ? void 0 : _this$currentSegments2[this._segmentPointer + 1];\n    }\n  }, {\n    key: \"currentSegments\",\n    get: function get() {\n      var _this$currentStream3;\n      return (_this$currentStream3 = this.currentStream) === null || _this$currentStream3 === void 0 ? void 0 : _this$currentStream3.segments;\n    }\n  }, {\n    key: \"currentSubtitleEndSn\",\n    get: function get() {\n      var _this$currentStream4;\n      return (_this$currentStream4 = this.currentStream) === null || _this$currentStream4 === void 0 ? void 0 : _this$currentStream4.currentSubtitleEndSn;\n    }\n  }, {\n    key: \"liveEdge\",\n    get: function get() {\n      var _this$currentStream5;\n      return (_this$currentStream5 = this.currentStream) === null || _this$currentStream5 === void 0 ? void 0 : _this$currentStream5.liveEdge;\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      var _this$currentStream6;\n      return ((_this$currentStream6 = this.currentStream) === null || _this$currentStream6 === void 0 ? void 0 : _this$currentStream6.totalDuration) || 0;\n    }\n  }, {\n    key: \"seekRange\",\n    get: function get() {\n      var segments = this.currentSegments;\n      if (!segments || !segments.length)\n        return;\n      return [segments[0].start, segments[segments.length - 1].end];\n    }\n  }, {\n    key: \"nbSegments\",\n    get: function get() {\n      var _this$currentSegments3;\n      return ((_this$currentSegments3 = this.currentSegments) === null || _this$currentSegments3 === void 0 ? void 0 : _this$currentSegments3.length) || 0;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      var _this$currentSegments4;\n      return !((_this$currentSegments4 = this.currentSegments) !== null && _this$currentSegments4 !== void 0 && _this$currentSegments4.length);\n    }\n  }, {\n    key: \"isLive\",\n    get: function get() {\n      var _this$currentStream7;\n      return (_this$currentStream7 = this.currentStream) === null || _this$currentStream7 === void 0 ? void 0 : _this$currentStream7.live;\n    }\n  }, {\n    key: \"hadSegmentLoaded\",\n    get: function get() {\n      return this._segmentPointer !== -1;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      var _this$currentStream8;\n      return !!((_this$currentStream8 = this.currentStream) !== null && _this$currentStream8 !== void 0 && _this$currentStream8.currentSubtitleStream);\n    }\n  }, {\n    key: \"getAudioSegment\",\n    value: function getAudioSegment(seg) {\n      var _this$currentStream9;\n      return (_this$currentStream9 = this.currentStream) === null || _this$currentStream9 === void 0 ? void 0 : _this$currentStream9.getAudioSegment(seg);\n    }\n  }, {\n    key: \"moveSegmentPointer\",\n    value: function moveSegmentPointer(pos) {\n      var _this$currentSegments5;\n      if (pos === null || pos === void 0)\n        pos = this._segmentPointer + 1;\n      this._segmentPointer = clamp(pos, -1, (_this$currentSegments5 = this.currentSegments) === null || _this$currentSegments5 === void 0 ? void 0 : _this$currentSegments5.length);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.streams = [];\n      this.currentStream = null;\n      this.dvrWindow = 0;\n      this._segmentPointer = -1;\n    }\n  }, {\n    key: \"getSegmentByIndex\",\n    value: function getSegmentByIndex(index) {\n      var _this$currentSegments6;\n      return (_this$currentSegments6 = this.currentSegments) === null || _this$currentSegments6 === void 0 ? void 0 : _this$currentSegments6[index];\n    }\n  }, {\n    key: \"setNextSegmentByIndex\",\n    value: function setNextSegmentByIndex() {\n      var index = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      this._segmentPointer = index - 1;\n    }\n  }, {\n    key: \"findSegmentIndexByTime\",\n    value: function findSegmentIndexByTime(time) {\n      var segments = this.currentSegments;\n      if (segments) {\n        for (var i = 0, l = segments.length, seg; i < l; i++) {\n          seg = segments[i];\n          if (time >= seg.start && time < seg.end) {\n            return i;\n          }\n        }\n        var lastSegment = segments[segments.length - 1];\n        if (Math.abs(time - (lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.end)) < 0.2)\n          return segments.length - 1;\n      }\n    }\n  }, {\n    key: \"upsertPlaylist\",\n    value: function upsertPlaylist(playlist, audioPlaylist, subtitlePlaylist) {\n      var _this = this;\n      if (!playlist)\n        return;\n      if (playlist.isMaster) {\n        this.streams.length = playlist.streams.length;\n        playlist.streams.filter(function(x) {\n          return x.url;\n        }).forEach(function(stream2, i) {\n          if (_this.streams[i]) {\n            _this.streams[i].update(stream2);\n          } else {\n            _this.streams[i] = new Stream(stream2);\n          }\n        });\n        this.currentStream = this.streams[0];\n      } else if (Array.isArray(playlist.segments)) {\n        var stream = this.currentStream;\n        if (stream) {\n          stream.update(playlist, audioPlaylist, subtitlePlaylist);\n          var newSubtitleSegs = stream.updateSubtitle(subtitlePlaylist);\n          if (newSubtitleSegs) {\n            this.hls.emit(Event.SUBTITLE_SEGMENTS, {\n              list: newSubtitleSegs\n            });\n          }\n        } else {\n          this.reset();\n          this.currentStream = this.streams[0] = new Stream(playlist, audioPlaylist, subtitlePlaylist);\n        }\n      }\n      var currentStream = this.currentStream;\n      if (currentStream) {\n        if (this.hls.isLive && !this.dvrWindow) {\n          this.dvrWindow = this.currentSegments.reduce(function(a, c) {\n            a += c.duration;\n            return a;\n          }, 0);\n        }\n      }\n    }\n  }, {\n    key: \"switchSubtitle\",\n    value: function switchSubtitle(lang) {\n      var _this$currentStream10;\n      (_this$currentStream10 = this.currentStream) === null || _this$currentStream10 === void 0 ? void 0 : _this$currentStream10.switchSubtitle(lang);\n    }\n  }, {\n    key: \"clearOldSegment\",\n    value: function clearOldSegment() {\n      var maxPlaylistSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n      var stream = this.currentStream;\n      if (!this.dvrWindow || !stream)\n        return;\n      var startTime = stream.endTime - this.dvrWindow;\n      if (startTime <= 0)\n        return;\n      var segments = stream.segments;\n      if (segments.length <= maxPlaylistSize)\n        return;\n      this._segmentPointer = stream.clearOldSegment(startTime, this._segmentPointer);\n    }\n  }, {\n    key: \"checkSegmentTrackChange\",\n    value: function checkSegmentTrackChange(cTime, nbSb) {\n      var index = this.findSegmentIndexByTime(cTime);\n      var seg = this.getSegmentByIndex(index);\n      if (!seg)\n        return;\n      if (!seg.hasAudio && !seg.hasVideo)\n        return;\n      if (nbSb !== 2 && seg.hasAudio && seg.hasVideo)\n        return seg;\n      if (seg.end - cTime > 0.3)\n        return;\n      var next = this.getSegmentByIndex(index + 1);\n      if (!next)\n        return;\n      if (!next.hasAudio && !next.hasVideo)\n        return;\n      if (next.hasAudio !== seg.hasAudio || next.hasVideo !== seg.hasVideo)\n        return next;\n    }\n  }]);\n  return Playlist2;\n}();\nexport { Playlist };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar BandwidthService = /* @__PURE__ */ function() {\n  function BandwidthService2() {\n    _classCallCheck(this, BandwidthService2);\n    _defineProperty(this, \"_chunkSpeeds\", []);\n    _defineProperty(this, \"_speeds\", []);\n  }\n  _createClass(BandwidthService2, [{\n    key: \"addRecord\",\n    value: function addRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._speeds.push(8e3 * totalByte / ms);\n      this._speeds = this._speeds.slice(-3);\n    }\n  }, {\n    key: \"addChunkRecord\",\n    value: function addChunkRecord(totalByte, ms) {\n      if (!totalByte || !ms)\n        return;\n      this._chunkSpeeds.push(8e3 * totalByte / ms);\n      this._chunkSpeeds = this._chunkSpeeds.slice(-100);\n    }\n  }, {\n    key: \"getAvgSpeed\",\n    value: function getAvgSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds.reduce(function(a, c) {\n          return a += c;\n        }) / this._speeds.length;\n      }\n      return this._chunkSpeeds.reduce(function(a, c) {\n        return a += c;\n      }) / this._chunkSpeeds.length;\n    }\n  }, {\n    key: \"getLatestSpeed\",\n    value: function getLatestSpeed() {\n      if (!this._chunkSpeeds.length && !this._speeds.length)\n        return 0;\n      if (this._speeds.length) {\n        return this._speeds[this._speeds.length - 1];\n      }\n      return this._chunkSpeeds[this._chunkSpeeds.length - 1];\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._chunkSpeeds = [];\n      this._speeds = [];\n    }\n  }]);\n  return BandwidthService2;\n}();\nexport { BandwidthService };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, asyncToGenerator as _asyncToGenerator, regeneratorRuntime as _regeneratorRuntime, slicedToArray as _slicedToArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { EVENT, StreamingError, BandwidthService, NetLoader } from \"xgplayer-streaming-shared\";\nvar SegmentLoader = /* @__PURE__ */ function() {\n  function SegmentLoader2(hls) {\n    var _this = this;\n    _classCallCheck(this, SegmentLoader2);\n    _defineProperty(this, \"error\", null);\n    _defineProperty(this, \"_emitOnLoaded\", function(res, url) {\n      var data = res.data, response = res.response, options = res.options;\n      var _ref = options || {}, firstByteTime = _ref.firstByteTime, startTime = _ref.startTime, endTime = _ref.endTime, contentLength = _ref.contentLength;\n      var time = endTime - startTime;\n      _this._bandwidthService.addRecord(contentLength || data.byteLength, time);\n      _this.hls.emit(EVENT.SPEED, {\n        time,\n        byteLength: contentLength,\n        url\n      });\n      _this.hls.emit(EVENT.LOAD_COMPLETE, {\n        url,\n        elapsed: time || 0\n      });\n      _this.hls.emit(EVENT.TTFB, {\n        url,\n        responseUrl: response.url,\n        elapsed: firstByteTime - startTime\n      });\n      _this.hls.emit(EVENT.LOAD_RESPONSE_HEADERS, {\n        headers: response.headers,\n        url\n      });\n    });\n    _defineProperty(this, \"_onLoaderRetry\", function(error, retryTime) {\n      _this.hls.emit(EVENT.LOAD_RETRY, {\n        error: StreamingError.network(error),\n        retryTime\n      });\n    });\n    this.hls = hls;\n    this._bandwidthService = new BandwidthService();\n    this._mapCache = {};\n    this._keyCache = {};\n    var _this$hls$config = this.hls.config, retryCount = _this$hls$config.retryCount, retryDelay = _this$hls$config.retryDelay, loadTimeout = _this$hls$config.loadTimeout, fetchOptions = _this$hls$config.fetchOptions;\n    this._segmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._audioSegmentLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n    this._keyLoader = new NetLoader(_objectSpread2(_objectSpread2({}, fetchOptions), {}, {\n      responseType: \"arraybuffer\",\n      retry: retryCount,\n      retryDelay,\n      timeout: loadTimeout,\n      onRetryError: this._onLoaderRetry\n    }));\n  }\n  _createClass(SegmentLoader2, [{\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return {\n        speed: this._bandwidthService.getLatestSpeed(),\n        avgSpeed: this._bandwidthService.getAvgSpeed()\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(seg, audioSeg, loadInit) {\n      var loadAudioInit = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : loadInit;\n      var toLoad = [];\n      if (seg)\n        toLoad[0] = this.loadVideoSegment(seg, loadInit);\n      if (audioSeg)\n        toLoad[1] = this.loadAudioSegment(audioSeg, loadAudioInit);\n      return Promise.all(toLoad);\n    }\n  }, {\n    key: \"loadVideoSegment\",\n    value: function loadVideoSegment(seg, loadInit) {\n      return this._loadSegment(this._segmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"loadAudioSegment\",\n    value: function loadAudioSegment(seg, loadInit) {\n      return this._loadSegment(this._audioSegmentLoader, seg, loadInit);\n    }\n  }, {\n    key: \"_loadSegment\",\n    value: function() {\n      var _loadSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee(segLoader, seg, loadInit) {\n        var _this2 = this, _seg$key;\n        var map, key, keyIv, mapKey, mapKeyIv, toLoad, _seg$initSegment$key, mapUrl, _keyUrl, keyUrl, _yield$Promise$all, _yield$Promise$all2, s, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1)\n            switch (_context.prev = _context.next) {\n              case 0:\n                toLoad = [];\n                this.hls.emit(EVENT.LOAD_START, {\n                  url: seg.url\n                });\n                toLoad[0] = segLoader.load(seg.url);\n                if (loadInit && seg.initSegment) {\n                  mapUrl = seg.initSegment.url;\n                  map = this._mapCache[mapUrl];\n                  if (!map) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: mapUrl\n                    });\n                    toLoad[1] = segLoader.load(mapUrl).then(function(r) {\n                      if (r) {\n                        var l = Object.keys(_this2._mapCache);\n                        if (l > 30)\n                          _this2._mapCache = {};\n                        map = _this2._mapCache[mapUrl] = r.data;\n                        _this2._emitOnLoaded(r, mapUrl);\n                      }\n                    });\n                  }\n                  _keyUrl = (_seg$initSegment$key = seg.initSegment.key) === null || _seg$initSegment$key === void 0 ? void 0 : _seg$initSegment$key.url;\n                  if (_keyUrl) {\n                    mapKeyIv = seg.initSegment.key.iv;\n                    mapKey = this._keyCache[_keyUrl];\n                    if (!mapKey) {\n                      this.hls.emit(EVENT.LOAD_START, {\n                        url: _keyUrl\n                      });\n                      toLoad[2] = this._keyLoader.load(_keyUrl).then(function(r) {\n                        if (r) {\n                          mapKey = _this2._keyCache[_keyUrl] = r.data;\n                          _this2._emitOnLoaded(r, _keyUrl);\n                        }\n                      });\n                    }\n                  }\n                }\n                keyUrl = (_seg$key = seg.key) === null || _seg$key === void 0 ? void 0 : _seg$key.url;\n                if (keyUrl) {\n                  keyIv = seg.key.iv;\n                  key = this._keyCache[keyUrl];\n                  if (!key) {\n                    this.hls.emit(EVENT.LOAD_START, {\n                      url: keyUrl\n                    });\n                    toLoad[3] = this._keyLoader.load(keyUrl).then(function(r) {\n                      if (r) {\n                        key = _this2._keyCache[keyUrl] = r.data;\n                        _this2._emitOnLoaded(r, keyUrl);\n                      }\n                    });\n                  }\n                }\n                _context.next = 8;\n                return Promise.all(toLoad);\n              case 8:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 1);\n                s = _yield$Promise$all2[0];\n                if (s) {\n                  _context.next = 13;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 13:\n                data = s.data;\n                this._emitOnLoaded(s, seg.url);\n                return _context.abrupt(\"return\", {\n                  data,\n                  map,\n                  key,\n                  mapKey,\n                  keyIv,\n                  mapKeyIv\n                });\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n        }, _callee, this);\n      }));\n      function _loadSegment(_x, _x2, _x3) {\n        return _loadSegment2.apply(this, arguments);\n      }\n      return _loadSegment;\n    }()\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.error = null;\n      this._mapCache = {};\n      this._keyCache = {};\n      this._bandwidthService.reset();\n    }\n  }, {\n    key: \"cancel\",\n    value: function() {\n      var _cancel = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1)\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([this._keyLoader.cancel(), this._segmentLoader.cancel(), this._audioSegmentLoader.cancel()]);\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n        }, _callee2, this);\n      }));\n      function cancel() {\n        return _cancel.apply(this, arguments);\n      }\n      return cancel;\n    }()\n  }]);\n  return SegmentLoader2;\n}();\nexport { SegmentLoader };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, asyncToGenerator as _asyncToGenerator, slicedToArray as _slicedToArray, regeneratorRuntime as _regeneratorRuntime, typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport { Logger, Buffer, StreamingError, isMediaPlaying, SeiService, GapService, MediaStatsService, MSE, getVideoPlaybackQuality, ERR } from \"xgplayer-streaming-shared\";\nimport { Logger as Logger$1 } from \"xgplayer-transmuxer\";\nimport { BufferService } from \"./buffer-service/index.js\";\nimport { getConfig } from \"./config.js\";\nimport { Event } from \"./constants.js\";\nimport { ManifestLoader } from \"./manifest-loader/index.js\";\nimport { Playlist } from \"./playlist/index.js\";\nimport { SegmentLoader } from \"./segment-loader/index.js\";\nimport { clamp } from \"./utils.js\";\nvar logger = new Logger(\"hls\");\nvar Hls = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Hls2, _EventEmitter);\n  var _super = _createSuper(Hls2);\n  function Hls2(_cfg) {\n    var _this;\n    _classCallCheck(this, Hls2);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"version\", Hls2.version);\n    _defineProperty(_assertThisInitialized(_this), \"media\", null);\n    _defineProperty(_assertThisInitialized(_this), \"config\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_manifestLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentLoader\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_playlist\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_bufferService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_gapService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_seiService\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_stats\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegSn\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_prevSegCc\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickTimer\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_tickInterval\", 500);\n    _defineProperty(_assertThisInitialized(_this), \"_segmentProcessing\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_reloadOnPlay\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_switchUrlOpts\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isProcessQuotaExceeded\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_loadSegment\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee() {\n      var nextSeg, bInfo, bufferThroughout;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1)\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this._segmentProcessing || !_this.media)) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 2:\n              nextSeg = _this._playlist.nextSegment;\n              if (nextSeg) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 5:\n              if (_this.isLive) {\n                _context.next = 13;\n                break;\n              }\n              bInfo = _this.bufferInfo();\n              if (_this.media.paused && !_this.media.currentTime) {\n                bInfo = _this.bufferInfo(bInfo.nextStart || 0.5);\n              }\n              bufferThroughout = Math.abs(bInfo.end - _this.media.duration) < 0.1;\n              if (!(bInfo.remaining >= _this.config.preloadTime || bufferThroughout)) {\n                _context.next = 12;\n                break;\n              }\n              if (bufferThroughout && _this._bufferService.msIsOpend) {\n                _this._bufferService.endOfStream();\n              }\n              return _context.abrupt(\"return\");\n            case 12:\n              if (!_this._urlSwitching && _this._prevSegSn !== nextSeg.sn - 1 && bInfo.end && Math.abs(nextSeg.start - bInfo.end) > 1) {\n                _this._playlist.setNextSegmentByIndex(_this._playlist.findSegmentIndexByTime(bInfo.end + 0.1));\n              }\n            case 13:\n              return _context.abrupt(\"return\", _this._loadSegmentDirect());\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n      }, _callee);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1)\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this.media.seeking && _this.media.currentTime === 0)) {\n                _context2.next = 3;\n                break;\n              }\n              logger.debug(\"replay currentTime 0, return\");\n              return _context2.abrupt(\"return\");\n            case 3:\n              clearTimeout(_this._disconnectTimer);\n              if (!_this._reloadOnPlay) {\n                _context2.next = 9;\n                break;\n              }\n              _this._reloadOnPlay = false;\n              _this.replay(true);\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.next = 11;\n              return _this._loadSegment();\n            case 11:\n              _this._startTick();\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n      }, _callee2);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onPause\", function() {\n      if (_this.isLive) {\n        if (!_this._reloadOnPlay) {\n          var disconnectTime = _this.config.disconnectTime;\n          if (disconnectTime === null || disconnectTime === void 0)\n            disconnectTime = _this._playlist.dvrWindow;\n          if (!Number.isFinite(disconnectTime))\n            return;\n          clearTimeout(_this._disconnectTimer);\n          _this._disconnectTimer = setTimeout(function() {\n            _this._reloadOnPlay = true;\n            _this._clear();\n          }, disconnectTime || 0);\n        }\n      } else {\n        _this._stopTick();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", /* @__PURE__ */ _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee3() {\n      var seekTime, seekRange, newSeekTime, curSeg, info, segIndex, seg;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1)\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.media) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              _this._onCheckQuotaExceeded();\n              seekTime = _this.media.currentTime;\n              seekRange = _this._playlist.seekRange;\n              if (!seekRange) {\n                _context3.next = 10;\n                break;\n              }\n              newSeekTime = clamp(seekTime, seekRange[0], _this.isLive ? seekRange[1] : _this.media.duration);\n              if (!(newSeekTime >= 0 && Math.abs(seekTime - newSeekTime) >= 0.1)) {\n                _context3.next = 10;\n                break;\n              }\n              _this.media.currentTime = newSeekTime;\n              return _context3.abrupt(\"return\");\n            case 10:\n              curSeg = _this._playlist.currentSegment;\n              info = Buffer.info(Buffer.get(_this.media), seekTime, 0.1);\n              if (!curSeg) {\n                _context3.next = 15;\n                break;\n              }\n              if (!(info.end && Math.abs(info.end - curSeg.end) < 0.2)) {\n                _context3.next = 15;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 15:\n              segIndex = _this._playlist.findSegmentIndexByTime(seekTime);\n              seg = _this._playlist.getSegmentByIndex(segIndex);\n              if (!(segIndex === null || segIndex === void 0 || !seg || _this._segmentProcessing && seg === _this._playlist.nextSegment)) {\n                _context3.next = 19;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 19:\n              logger.debug(\"seek to\", seekTime, seg);\n              _this._playlist.setNextSegmentByIndex(segIndex);\n              _this._stopTick();\n              _context3.next = 24;\n              return _this._segmentLoader.cancel();\n            case 24:\n              _this._segmentProcessing = false;\n              if (!(!info.end || _this.isLive)) {\n                _context3.next = 28;\n                break;\n              }\n              _context3.next = 28;\n              return _this._loadSegmentDirect(true);\n            case 28:\n              _this._startTick();\n            case 29:\n            case \"end\":\n              return _context3.stop();\n          }\n      }, _callee3);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      if (!_this.media)\n        return;\n      var cfg = _this.config;\n      if (cfg.isLive && cfg.maxLatency && cfg.targetLatency && _this.media) {\n        var liveEdge = _this._playlist.liveEdge;\n        if (!liveEdge)\n          return;\n        var latency = liveEdge - _this.media.currentTime;\n        if (latency >= cfg.maxLatency) {\n          logger.debug(\"latency jump, currentTime:\".concat(_this.media.currentTime, \", liveEdge:\").concat(liveEdge, \",  latency=\").concat(latency));\n          _this.media.currentTime = liveEdge - cfg.targetLatency;\n        }\n      }\n      if (cfg.seiInTime) {\n        var _this$_seiService;\n        (_this$_seiService = _this._seiService) === null || _this$_seiService === void 0 ? void 0 : _this$_seiService.throw(_this.media.currentTime);\n      }\n      if (_this.config.allowedStreamTrackChange && !_this.config.softDecode) {\n        _this._checkStreamTrackChange(_this.media.currentTime);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_tick\", function() {\n      if (!_this.media)\n        return;\n      _this._startTick();\n      var media = _this.media;\n      var buffered = Buffer.get(media);\n      var segLoaderError = _this._segmentLoader.error;\n      _this._onCheckQuotaExceeded();\n      if (_this._isProcessQuotaExceeded) {\n        if (!_this._bufferService.isFull()) {\n          _this._isProcessQuotaExceeded = false;\n          _this._segmentProcessing = false;\n        }\n      }\n      if (segLoaderError) {\n        var bufferMaxHoleTolerance = 0.5;\n        if (!media.readyState || _this.bufferInfo(bufferMaxHoleTolerance).remaining < 1) {\n          segLoaderError.fatal = true;\n          _this._emitError(StreamingError.network(segLoaderError));\n        }\n        return;\n      }\n      if (Buffer.end(buffered) < 0.1 || !media.readyState)\n        return;\n      if (isMediaPlaying(media)) {\n        _this._loadSegment();\n        if (_this._gapService) {\n          _this._gapService.do(media, _this.config.maxJumpDistance, _this.isLive);\n        }\n      } else {\n        if (media.readyState < 2 && _this._gapService) {\n          _this._gapService.do(media, _this.config.maxJumpDistance, !media.currentTime ? true : _this.isLive);\n        }\n      }\n    });\n    _this.config = _cfg = getConfig(_cfg);\n    _this.media = _this.config.media;\n    _this._manifestLoader = new ManifestLoader(_assertThisInitialized(_this));\n    _this._segmentLoader = new SegmentLoader(_assertThisInitialized(_this));\n    _this._playlist = new Playlist(_assertThisInitialized(_this));\n    _this._bufferService = new BufferService(_assertThisInitialized(_this));\n    if (_cfg.seiInTime) {\n      _this._seiService = new SeiService(_assertThisInitialized(_this));\n    }\n    if (!_cfg.softDecode)\n      _this._gapService = new GapService();\n    _this._stats = new MediaStatsService(_assertThisInitialized(_this), 9e4);\n    _this.media.addEventListener(\"play\", _this._onPlay);\n    _this.media.addEventListener(\"pause\", _this._onPause);\n    _this.media.addEventListener(\"seeking\", _this._onSeeking);\n    _this.media.addEventListener(\"timeupdate\", _this._onTimeupdate);\n    return _this;\n  }\n  _createClass(Hls2, [{\n    key: \"isLive\",\n    get: function get() {\n      return this._playlist.isLive;\n    }\n  }, {\n    key: \"streams\",\n    get: function get() {\n      return this._playlist.streams;\n    }\n  }, {\n    key: \"currentStream\",\n    get: function get() {\n      return this._playlist.currentStream;\n    }\n  }, {\n    key: \"hasSubtitle\",\n    get: function get() {\n      return this._playlist.hasSubtitle;\n    }\n  }, {\n    key: \"baseDts\",\n    get: function get() {\n      var _this$_bufferService;\n      return (_this$_bufferService = this._bufferService) === null || _this$_bufferService === void 0 ? void 0 : _this$_bufferService.baseDts;\n    }\n  }, {\n    key: \"speedInfo\",\n    value: function speedInfo() {\n      return this._segmentLoader.speedInfo();\n    }\n  }, {\n    key: \"bufferInfo\",\n    value: function bufferInfo() {\n      var _this$media;\n      var maxHole = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0.1;\n      return Buffer.info(Buffer.get(this.media), (_this$media = this.media) === null || _this$media === void 0 ? void 0 : _this$media.currentTime, maxHole);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      return this._stats.getStats();\n    }\n  }, {\n    key: \"playbackQuality\",\n    value: function playbackQuality() {\n      return getVideoPlaybackQuality(this.media);\n    }\n  }, {\n    key: \"load\",\n    value: function() {\n      var _load = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee4(url) {\n        var reuseMse, _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1)\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                reuseMse = _args4.length > 1 && _args4[1] !== void 0 ? _args4[1] : false;\n                if (url)\n                  this.config.url = url;\n                url = this.config.url;\n                _context4.next = 5;\n                return this._reset(reuseMse);\n              case 5:\n                _context4.next = 7;\n                return this._loadData(url);\n              case 7:\n                this._startTick();\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n        }, _callee4, this);\n      }));\n      function load(_x) {\n        return _load.apply(this, arguments);\n      }\n      return load;\n    }()\n  }, {\n    key: \"_loadData\",\n    value: function() {\n      var _loadData2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee5(url) {\n        var manifest, currentStream, _this$_switchUrlOpts, _this$_switchUrlOpts2, switchTimePoint, segIdx, nextSeg, bufferClearStartPoint, startTime, _this$_switchUrlOpts3;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1)\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                try {\n                  if (url)\n                    url = url.trim();\n                } catch (e) {\n                }\n                if (url) {\n                  _context5.next = 3;\n                  break;\n                }\n                throw this._emitError(new StreamingError(ERR.OTHER, ERR.SUB_TYPES.OPTION, null, null, \"m3u8 url is missing\"));\n              case 3:\n                _context5.next = 5;\n                return this._loadM3U8(url);\n              case 5:\n                manifest = _context5.sent;\n                currentStream = this._playlist.currentStream;\n                if (!this._urlSwitching) {\n                  _context5.next = 17;\n                  break;\n                }\n                if (currentStream.bitrate === 0 && (_this$_switchUrlOpts = this._switchUrlOpts) !== null && _this$_switchUrlOpts !== void 0 && _this$_switchUrlOpts.bitrate) {\n                  currentStream.bitrate = (_this$_switchUrlOpts2 = this._switchUrlOpts) === null || _this$_switchUrlOpts2 === void 0 ? void 0 : _this$_switchUrlOpts2.bitrate;\n                }\n                switchTimePoint = this._getSeamlessSwitchPoint();\n                this.config.startTime = switchTimePoint;\n                segIdx = this._playlist.findSegmentIndexByTime(switchTimePoint);\n                nextSeg = this._playlist.getSegmentByIndex(segIdx + 1);\n                if (!nextSeg) {\n                  _context5.next = 17;\n                  break;\n                }\n                bufferClearStartPoint = nextSeg.start;\n                _context5.next = 17;\n                return this._bufferService.removeBuffer(bufferClearStartPoint);\n              case 17:\n                if (manifest) {\n                  _context5.next = 19;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 19:\n                if (!this.isLive) {\n                  _context5.next = 30;\n                  break;\n                }\n                this._bufferService.setLiveSeekableRange(0, 4294967295);\n                logger.log(\"totalDuration first time got:\", this._playlist.totalDuration);\n                logger.log(\"nb segments got:\", this._playlist.nbSegments);\n                if (this.config.targetLatency < this._playlist.totalDuration) {\n                  this.config.targetLatency = this._playlist.totalDuration;\n                  this.config.maxLatency = 1.5 * this.config.targetLatency;\n                }\n                if (!manifest.isMaster)\n                  this._pollM3U8(url);\n                if (!(this._playlist.nbSegments < this.config.minSegmentsStartPlay)) {\n                  _context5.next = 27;\n                  break;\n                }\n                return _context5.abrupt(\"return\");\n              case 27:\n                _context5.next = 29;\n                return this._loadSegment();\n              case 29:\n                return _context5.abrupt(\"return\");\n              case 30:\n                _context5.next = 32;\n                return this._bufferService.updateDuration(currentStream.totalDuration);\n              case 32:\n                startTime = this.config.startTime;\n                if (startTime) {\n                  if (!((_this$_switchUrlOpts3 = this._switchUrlOpts) !== null && _this$_switchUrlOpts3 !== void 0 && _this$_switchUrlOpts3.seamless)) {\n                    this.media.currentTime = startTime;\n                  }\n                  this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(startTime) || 0);\n                }\n                _context5.next = 36;\n                return this._loadSegment();\n              case 36:\n              case \"end\":\n                return _context5.stop();\n            }\n        }, _callee5, this);\n      }));\n      function _loadData(_x2) {\n        return _loadData2.apply(this, arguments);\n      }\n      return _loadData;\n    }()\n  }, {\n    key: \"replay\",\n    value: function() {\n      var _replay = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee6(isPlayEmit) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1)\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.config.startTime = 0;\n                _context6.next = 3;\n                return this.load();\n              case 3:\n                this._reloadOnPlay = false;\n                return _context6.abrupt(\"return\", this.media.play(!isPlayEmit));\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n        }, _callee6, this);\n      }));\n      function replay(_x3) {\n        return _replay.apply(this, arguments);\n      }\n      return replay;\n    }()\n  }, {\n    key: \"switchURL\",\n    value: function() {\n      var _switchURL = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee7(url) {\n        var options, defaultOpts, key, _options, seamless, startTime, appended, _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1)\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                options = _args7.length > 1 && _args7[1] !== void 0 ? _args7[1] : {};\n                defaultOpts = {\n                  seamless: false,\n                  startTime: 0,\n                  bitrate: 0\n                };\n                _context7.t0 = _typeof(options);\n                _context7.next = _context7.t0 === \"number\" ? 5 : _context7.t0 === \"boolean\" ? 7 : _context7.t0 === \"object\" ? 9 : 11;\n                break;\n              case 5:\n                options = {\n                  startTime: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 7:\n                options = {\n                  seamless: options\n                };\n                return _context7.abrupt(\"break\", 12);\n              case 9:\n                for (key in options) {\n                  if (options[key] === void 0 || options[key] === null) {\n                    delete options[key];\n                  }\n                }\n                return _context7.abrupt(\"break\", 12);\n              case 11:\n                throw \"unsupported switchURL args: \".concat(options);\n              case 12:\n                options = Object.assign({}, defaultOpts, options);\n                _options = options, seamless = _options.seamless, startTime = _options.startTime;\n                this.config.url = url;\n                this.config.startTime = startTime;\n                this._switchUrlOpts = options;\n                if (seamless) {\n                  _context7.next = 38;\n                  break;\n                }\n                _context7.prev = 18;\n                if (!this.config.softDecode) {\n                  _context7.next = 23;\n                  break;\n                }\n                _context7.t1 = this.load(url);\n                _context7.next = 26;\n                break;\n              case 23:\n                _context7.next = 25;\n                return this.load(url);\n              case 25:\n                _context7.t1 = _context7.sent;\n              case 26:\n                appended = _context7.t1;\n                _context7.next = 33;\n                break;\n              case 29:\n                _context7.prev = 29;\n                _context7.t2 = _context7[\"catch\"](18);\n                this.emit(Event.SWITCH_URL_FAILED, _context7.t2);\n                throw _context7.t2;\n              case 33:\n                this._reloadOnPlay = false;\n                if (appended) {\n                  this.emit(Event.SWITCH_URL_SUCCESS, {\n                    url\n                  });\n                }\n                return _context7.abrupt(\"return\", this.media.play(true));\n              case 38:\n                this._urlSwitching = true;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._playlist.reset();\n                this._bufferService.seamlessSwitch();\n                _context7.next = 45;\n                return this._clear();\n              case 45:\n                _context7.next = 47;\n                return this._loadData(url);\n              case 47:\n                this._startTick();\n              case 48:\n                this._switchUrlOpts = null;\n              case 49:\n              case \"end\":\n                return _context7.stop();\n            }\n        }, _callee7, this, [[18, 29]]);\n      }));\n      function switchURL(_x4) {\n        return _switchURL.apply(this, arguments);\n      }\n      return switchURL;\n    }()\n  }, {\n    key: \"switchStream\",\n    value: function() {\n      var _switchStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee8(id) {\n        var force, curStream, streams, toSwitch, curId, _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1)\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                force = _args8.length > 1 && _args8[1] !== void 0 ? _args8[1] : true;\n                curStream = this.currentStream;\n                streams = this.streams;\n                if (!(!curStream || curStream.id === id || !streams || streams.length < 2)) {\n                  _context8.next = 5;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 5:\n                toSwitch = streams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context8.next = 8;\n                  break;\n                }\n                return _context8.abrupt(\"return\");\n              case 8:\n                _context8.prev = 8;\n                _context8.next = 11;\n                return this._clear();\n              case 11:\n                if (!force) {\n                  _context8.next = 14;\n                  break;\n                }\n                _context8.next = 14;\n                return this._bufferService.clearAllBuffer();\n              case 14:\n                _context8.next = 19;\n                break;\n              case 16:\n                _context8.prev = 16;\n                _context8.t0 = _context8[\"catch\"](8);\n                throw this._emitError(StreamingError.create(_context8.t0));\n              case 19:\n                if (curStream.currentAudioStream && toSwitch.audioStreams.length > 2) {\n                  curId = curStream.currentAudioStream.id;\n                  toSwitch.currentAudioStream = toSwitch.audioStreams.find(function(x) {\n                    return x.id === curId;\n                  }) || toSwitch.currentAudioStream;\n                }\n                this._playlist.currentStream = toSwitch;\n                _context8.prev = 21;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context8.next = 25;\n                  break;\n                }\n                _context8.next = 25;\n                return this._refreshM3U8();\n              case 25:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context8.next = 29;\n                return this._loadSegmentDirect();\n              case 29:\n                _context8.next = 35;\n                break;\n              case 31:\n                _context8.prev = 31;\n                _context8.t1 = _context8[\"catch\"](21);\n                this._playlist.currentStream = curStream;\n                throw _context8.t1;\n              case 35:\n                this._startTick();\n                return _context8.abrupt(\"return\", toSwitch);\n              case 37:\n              case \"end\":\n                return _context8.stop();\n            }\n        }, _callee8, this, [[8, 16], [21, 31]]);\n      }));\n      function switchStream(_x5) {\n        return _switchStream.apply(this, arguments);\n      }\n      return switchStream;\n    }()\n  }, {\n    key: \"switchAudioStream\",\n    value: function() {\n      var _switchAudioStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee9(id) {\n        var force, curStream, audioStream, toSwitch, _args9 = arguments;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1)\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                force = _args9.length > 1 && _args9[1] !== void 0 ? _args9[1] : true;\n                curStream = this.currentStream;\n                if (curStream) {\n                  _context9.next = 4;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 4:\n                audioStream = curStream.currentAudioStream;\n                if (!(!audioStream || audioStream.id === id || curStream.audioStreams.length < 2)) {\n                  _context9.next = 7;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 7:\n                toSwitch = curStream.audioStreams.find(function(x) {\n                  return x.id === id;\n                });\n                if (toSwitch) {\n                  _context9.next = 10;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 10:\n                _context9.prev = 10;\n                _context9.next = 13;\n                return this._clear();\n              case 13:\n                if (!force) {\n                  _context9.next = 16;\n                  break;\n                }\n                _context9.next = 16;\n                return this._bufferService.clearAllBuffer();\n              case 16:\n                _context9.next = 21;\n                break;\n              case 18:\n                _context9.prev = 18;\n                _context9.t0 = _context9[\"catch\"](10);\n                throw this._emitError(StreamingError.create(_context9.t0));\n              case 21:\n                curStream.currentAudioStream = toSwitch;\n                _context9.prev = 22;\n                if (!(this.isLive || !toSwitch.segments.length)) {\n                  _context9.next = 26;\n                  break;\n                }\n                _context9.next = 26;\n                return this._refreshM3U8();\n              case 26:\n                this._playlist.setNextSegmentByIndex(this._playlist.findSegmentIndexByTime(this.media.currentTime) || 0);\n                this._prevSegCc = null;\n                _context9.next = 30;\n                return this._loadSegmentDirect();\n              case 30:\n                _context9.next = 36;\n                break;\n              case 32:\n                _context9.prev = 32;\n                _context9.t1 = _context9[\"catch\"](22);\n                curStream.currentAudioStream = audioStream;\n                throw _context9.t1;\n              case 36:\n                this._startTick();\n                return _context9.abrupt(\"return\", toSwitch);\n              case 38:\n              case \"end\":\n                return _context9.stop();\n            }\n        }, _callee9, this, [[10, 18], [22, 32]]);\n      }));\n      function switchAudioStream(_x6) {\n        return _switchAudioStream.apply(this, arguments);\n      }\n      return switchAudioStream;\n    }()\n  }, {\n    key: \"switchSubtitleStream\",\n    value: function() {\n      var _switchSubtitleStream = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee10(lang) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1)\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this._playlist.switchSubtitle(lang);\n                _context10.next = 3;\n                return this._manifestLoader.stopPoll();\n              case 3:\n                _context10.next = 5;\n                return this._refreshM3U8();\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n        }, _callee10, this);\n      }));\n      function switchSubtitleStream(_x7) {\n        return _switchSubtitleStream.apply(this, arguments);\n      }\n      return switchSubtitleStream;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function() {\n      var _destroy = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee11() {\n        var _this$_seiService2;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1)\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (this.media) {\n                  _context11.next = 2;\n                  break;\n                }\n                return _context11.abrupt(\"return\");\n              case 2:\n                this.removeAllListeners();\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService2 = this._seiService) === null || _this$_seiService2 === void 0 ? void 0 : _this$_seiService2.reset();\n                this.media.removeEventListener(\"play\", this._onPlay);\n                this.media.removeEventListener(\"pause\", this._onPause);\n                this.media.removeEventListener(\"seeking\", this._onSeeking);\n                this.media.removeEventListener(\"timeupdate\", this._onTimeupdate);\n                _context11.next = 12;\n                return Promise.all([this._clear(), this._bufferService.destroy()]);\n              case 12:\n                this.media = null;\n              case 13:\n              case \"end\":\n                return _context11.stop();\n            }\n        }, _callee11, this);\n      }));\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n      return destroy;\n    }()\n  }, {\n    key: \"_loadM3U8\",\n    value: function() {\n      var _loadM3U = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee12(url) {\n        var playlist, _this$config$manifest, _this$config$manifest2, manifest, _ref4, _ref5, _this$_playlist$curre;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1)\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.prev = 0;\n                manifest = (_this$config$manifest = this.config.manifestList) === null || _this$config$manifest === void 0 ? void 0 : (_this$config$manifest2 = _this$config$manifest.filter(function(x) {\n                  return x.url === url;\n                })[0]) === null || _this$config$manifest2 === void 0 ? void 0 : _this$config$manifest2.manifest;\n                if (!manifest) {\n                  _context12.next = 6;\n                  break;\n                }\n                _context12.t0 = this._manifestLoader.parseText(manifest, url);\n                _context12.next = 9;\n                break;\n              case 6:\n                _context12.next = 8;\n                return this._manifestLoader.load(url);\n              case 8:\n                _context12.t0 = _context12.sent;\n              case 9:\n                _ref4 = _context12.t0;\n                _ref5 = _slicedToArray(_ref4, 1);\n                playlist = _ref5[0];\n                _context12.next = 17;\n                break;\n              case 14:\n                _context12.prev = 14;\n                _context12.t1 = _context12[\"catch\"](0);\n                throw this._emitError(StreamingError.create(_context12.t1));\n              case 17:\n                if (playlist) {\n                  _context12.next = 19;\n                  break;\n                }\n                return _context12.abrupt(\"return\");\n              case 19:\n                this._playlist.upsertPlaylist(playlist);\n                if (!playlist.isMaster) {\n                  _context12.next = 24;\n                  break;\n                }\n                if ((_this$_playlist$curre = this._playlist.currentStream.subtitleStreams) !== null && _this$_playlist$curre !== void 0 && _this$_playlist$curre.length) {\n                  this.emit(Event.SUBTITLE_PLAYLIST, {\n                    list: this._playlist.currentStream.subtitleStreams\n                  });\n                }\n                _context12.next = 24;\n                return this._refreshM3U8();\n              case 24:\n                this.emit(Event.STREAM_PARSED);\n                return _context12.abrupt(\"return\", playlist);\n              case 26:\n              case \"end\":\n                return _context12.stop();\n            }\n        }, _callee12, this, [[0, 14]]);\n      }));\n      function _loadM3U8(_x8) {\n        return _loadM3U.apply(this, arguments);\n      }\n      return _loadM3U8;\n    }()\n  }, {\n    key: \"_refreshM3U8\",\n    value: function _refreshM3U8() {\n      var _stream$currentAudioS, _stream$currentSubtit, _this2 = this;\n      var stream = this._playlist.currentStream;\n      if (!stream || !stream.url)\n        throw this._emitError(StreamingError.create(null, null, new Error(\"m3u8 url is not defined\")));\n      var url = stream.url;\n      var audioUrl = (_stream$currentAudioS = stream.currentAudioStream) === null || _stream$currentAudioS === void 0 ? void 0 : _stream$currentAudioS.url;\n      var subtitleUrl = (_stream$currentSubtit = stream.currentSubtitleStream) === null || _stream$currentSubtit === void 0 ? void 0 : _stream$currentSubtit.url;\n      return this._manifestLoader.load(url, audioUrl, subtitleUrl).then(function(_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3), mediaPlaylist = _ref7[0], audioPlaylist = _ref7[1], subtitlePlaylist = _ref7[2];\n        if (!mediaPlaylist)\n          return;\n        _this2._playlist.upsertPlaylist(mediaPlaylist, audioPlaylist, subtitlePlaylist);\n        if (!_this2.isLive)\n          return;\n        _this2._pollM3U8(url, audioUrl, subtitleUrl);\n      }).catch(function(err) {\n        throw _this2._emitError(StreamingError.create(err));\n      });\n    }\n  }, {\n    key: \"_pollM3U8\",\n    value: function _pollM3U8(url, audioUrl, subtitleUrl) {\n      var _this3 = this;\n      var isEmpty = this._playlist.isEmpty;\n      var pollInterval;\n      if (this._playlist.lowLatency) {\n        pollInterval = (this._playlist.currentStream.partTargetDuration * 2 || 0) * 1e3;\n      } else {\n        var _this$_playlist$lastS;\n        pollInterval = (((_this$_playlist$lastS = this._playlist.lastSegment) === null || _this$_playlist$lastS === void 0 ? void 0 : _this$_playlist$lastS.duration) || 0) * 1e3;\n      }\n      this._manifestLoader.poll(\n        url,\n        audioUrl,\n        subtitleUrl,\n        function(p1, p2, p3) {\n          _this3._playlist.upsertPlaylist(p1, p2, p3);\n          _this3._playlist.clearOldSegment();\n          var switchToNoEmpty = p1 && isEmpty && !_this3._playlist.isEmpty;\n          if (switchToNoEmpty || !_this3._playlist.hadSegmentLoaded && _this3._playlist.nbSegments >= _this3.config.minSegmentsStartPlay) {\n            _this3._loadSegment();\n          }\n          if (isEmpty)\n            isEmpty = _this3._playlist.isEmpty;\n        },\n        function(err) {\n          _this3._emitError(StreamingError.create(err));\n        },\n        pollInterval\n      );\n    }\n  }, {\n    key: \"_loadSegmentDirect\",\n    value: function() {\n      var _loadSegmentDirect2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee13(loadOnce) {\n        var seg, appended, cachedError;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1)\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                seg = this._playlist.nextSegment;\n                if (seg) {\n                  _context13.next = 3;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 3:\n                appended = false;\n                cachedError = null;\n                _context13.prev = 5;\n                this._segmentProcessing = true;\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                _context13.next = 10;\n                return this._reqAndBufferSegment(seg, this._playlist.getAudioSegment(seg));\n              case 10:\n                appended = _context13.sent;\n                _context13.next = 16;\n                break;\n              case 13:\n                _context13.prev = 13;\n                _context13.t0 = _context13[\"catch\"](5);\n                cachedError = _context13.t0;\n              case 16:\n                _context13.prev = 16;\n                this._segmentProcessing = false;\n                return _context13.finish(16);\n              case 19:\n                if (!cachedError) {\n                  _context13.next = 26;\n                  break;\n                }\n                if (!this._bufferService.isFull()) {\n                  _context13.next = 25;\n                  break;\n                }\n                logger.log(\"load segment, sn:\".concat(seg.sn, \", partIndex:\").concat(seg.partIndex));\n                this._segmentProcessing = true;\n                this._isProcessQuotaExceeded = true;\n                return _context13.abrupt(\"return\", false);\n              case 25:\n                return _context13.abrupt(\"return\", this._emitError(StreamingError.create(cachedError)));\n              case 26:\n                if (appended) {\n                  if (this._urlSwitching) {\n                    this._urlSwitching = false;\n                    this.emit(Event.SWITCH_URL_SUCCESS, {\n                      url: this.config.url\n                    });\n                  }\n                  this._playlist.moveSegmentPointer();\n                  if (seg.isLast) {\n                    this._end();\n                  } else if (!loadOnce) {\n                    this._loadSegment();\n                  }\n                }\n                return _context13.abrupt(\"return\", appended);\n              case 28:\n              case \"end\":\n                return _context13.stop();\n            }\n        }, _callee13, this, [[5, 13, 16, 19]]);\n      }));\n      function _loadSegmentDirect(_x9) {\n        return _loadSegmentDirect2.apply(this, arguments);\n      }\n      return _loadSegmentDirect;\n    }()\n  }, {\n    key: \"_reqAndBufferSegment\",\n    value: function() {\n      var _reqAndBufferSegment2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee14(seg, audioSeg) {\n        var _this$_bufferService2;\n        var cc, discontinuity, responses, data, sn, start, stream, before;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1)\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                cc = seg ? seg.cc : audioSeg.cc;\n                discontinuity = this._prevSegCc !== cc;\n                responses = [];\n                _context14.prev = 3;\n                _context14.next = 6;\n                return this._segmentLoader.load(seg, audioSeg, discontinuity);\n              case 6:\n                responses = _context14.sent;\n                _context14.next = 14;\n                break;\n              case 9:\n                _context14.prev = 9;\n                _context14.t0 = _context14[\"catch\"](3);\n                _context14.t0.fatal = false;\n                this._segmentLoader.error = _context14.t0;\n                throw _context14.t0;\n              case 14:\n                if (responses[0]) {\n                  _context14.next = 16;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 16:\n                _context14.next = 18;\n                return (_this$_bufferService2 = this._bufferService).decryptBuffer.apply(_this$_bufferService2, _toConsumableArray(responses));\n              case 18:\n                data = _context14.sent;\n                if (data) {\n                  _context14.next = 21;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 21:\n                sn = seg ? seg.sn : audioSeg.sn;\n                start = seg ? seg.start : audioSeg.start;\n                stream = this._playlist.currentStream;\n                this._bufferService.createSource(data[0], data[1], stream === null || stream === void 0 ? void 0 : stream.videoCodec, stream === null || stream === void 0 ? void 0 : stream.audioCodec);\n                before = Date.now();\n                _context14.next = 28;\n                return this._bufferService.appendBuffer(seg, audioSeg, data[0], data[1], discontinuity, this._prevSegSn === sn - 1, start);\n              case 28:\n                this.emit(Event.APPEND_COST, {\n                  elapsed: Date.now() - before,\n                  url: seg.url\n                });\n                _context14.next = 31;\n                return this._bufferService.evictBuffer(this.config.bufferBehind);\n              case 31:\n                this._prevSegCc = cc;\n                this._prevSegSn = sn;\n                return _context14.abrupt(\"return\", true);\n              case 34:\n              case \"end\":\n                return _context14.stop();\n            }\n        }, _callee14, this, [[3, 9]]);\n      }));\n      function _reqAndBufferSegment(_x10, _x11) {\n        return _reqAndBufferSegment2.apply(this, arguments);\n      }\n      return _reqAndBufferSegment;\n    }()\n  }, {\n    key: \"_onCheckQuotaExceeded\",\n    value: function() {\n      var _onCheckQuotaExceeded2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee15() {\n        var seekTime, buffered, inBuffered, i, bufferBehind, mediaTime;\n        return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n          while (1)\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                seekTime = this.media.currentTime;\n                buffered = this.media.buffered;\n                inBuffered = false;\n                i = 0;\n              case 4:\n                if (!(i < buffered.length)) {\n                  _context15.next = 11;\n                  break;\n                }\n                if (!(buffered.start(0) >= seekTime && seekTime < buffered.end(i))) {\n                  _context15.next = 8;\n                  break;\n                }\n                inBuffered = true;\n                return _context15.abrupt(\"break\", 11);\n              case 8:\n                i++;\n                _context15.next = 4;\n                break;\n              case 11:\n                if (!this._bufferService.isFull()) {\n                  _context15.next = 17;\n                  break;\n                }\n                bufferBehind = inBuffered ? this.config.bufferBehind : 5;\n                mediaTime = this.media.currentTime;\n                if (!(mediaTime - bufferBehind > 0)) {\n                  _context15.next = 17;\n                  break;\n                }\n                _context15.next = 17;\n                return this._bufferService.removeBuffer(0, mediaTime - bufferBehind);\n              case 17:\n              case \"end\":\n                return _context15.stop();\n            }\n        }, _callee15, this);\n      }));\n      function _onCheckQuotaExceeded() {\n        return _onCheckQuotaExceeded2.apply(this, arguments);\n      }\n      return _onCheckQuotaExceeded;\n    }()\n  }, {\n    key: \"_checkStreamTrackChange\",\n    value: function _checkStreamTrackChange(time) {\n      var changedSeg = this._playlist.checkSegmentTrackChange(time, this._bufferService.nbSb);\n      if (!changedSeg)\n        return;\n      this.switchURL(this.config.url, changedSeg.start + 0.2);\n    }\n  }, {\n    key: \"_clear\",\n    value: function() {\n      var _clear2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee16() {\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1)\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                clearTimeout(this._disconnectTimer);\n                this._stopTick();\n                _context16.next = 4;\n                return Promise.all([this._segmentLoader.cancel(), this._manifestLoader.stopPoll()]);\n              case 4:\n                this._segmentProcessing = false;\n              case 5:\n              case \"end\":\n                return _context16.stop();\n            }\n        }, _callee16, this);\n      }));\n      function _clear() {\n        return _clear2.apply(this, arguments);\n      }\n      return _clear;\n    }()\n  }, {\n    key: \"_reset\",\n    value: function() {\n      var _reset2 = _asyncToGenerator(/* @__PURE__ */ _regeneratorRuntime().mark(function _callee17() {\n        var _this$_seiService3;\n        var reuseMse, _args17 = arguments;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1)\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                reuseMse = _args17.length > 0 && _args17[0] !== void 0 ? _args17[0] : false;\n                this._reloadOnPlay = false;\n                this._prevSegSn = null;\n                this._prevSegCc = null;\n                this._switchUrlOpts = null;\n                this._playlist.reset();\n                this._segmentLoader.reset();\n                (_this$_seiService3 = this._seiService) === null || _this$_seiService3 === void 0 ? void 0 : _this$_seiService3.reset();\n                this._stats.reset();\n                _context17.next = 11;\n                return this._clear();\n              case 11:\n                return _context17.abrupt(\"return\", this._bufferService.reset(reuseMse));\n              case 12:\n              case \"end\":\n                return _context17.stop();\n            }\n        }, _callee17, this);\n      }));\n      function _reset() {\n        return _reset2.apply(this, arguments);\n      }\n      return _reset;\n    }()\n  }, {\n    key: \"_end\",\n    value: function _end() {\n      this._clear();\n      this._bufferService.endOfStream();\n      if (this.media.readyState <= 2 || this.media.buffered.length > 1) {\n        this._startTick();\n      }\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      if (this._tickTimer) {\n        clearTimeout(this._tickTimer);\n      }\n      this._tickTimer = null;\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      this._stopTick();\n      this._tickTimer = setTimeout(this._tick, this._tickInterval);\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(error) {\n      var _error$originError;\n      var endOfStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      if (((_error$originError = error.originError) === null || _error$originError === void 0 ? void 0 : _error$originError.fatal) === false) {\n        logger.warn(error);\n      } else {\n        var _this$media2, _this$media3, _this$_seiService4;\n        logger.table(error);\n        logger.error(error);\n        logger.error((_this$media2 = this.media) === null || _this$media2 === void 0 ? void 0 : _this$media2.error);\n        if ((_this$media3 = this.media) !== null && _this$media3 !== void 0 && _this$media3.readyState) {\n          this.media.pause();\n        }\n        this._stopTick();\n        if (this._urlSwitching) {\n          this._urlSwitching = false;\n          this.emit(Event.SWITCH_URL_FAILED, error);\n        }\n        this.emit(Event.ERROR, error);\n        if (endOfStream)\n          this._end();\n        (_this$_seiService4 = this._seiService) === null || _this$_seiService4 === void 0 ? void 0 : _this$_seiService4.reset();\n      }\n      return error;\n    }\n  }, {\n    key: \"_getSeamlessSwitchPoint\",\n    value: function _getSeamlessSwitchPoint() {\n      var media = this.media;\n      var nextLoadPoint = media.currentTime;\n      if (!media.paused) {\n        var _this$_stats;\n        var segIdx = this._playlist.findSegmentIndexByTime(media.currentTime);\n        var curSeg = this._playlist.getSegmentByIndex(segIdx);\n        var latestKbps = (_this$_stats = this._stats) === null || _this$_stats === void 0 ? void 0 : _this$_stats.getStats().downloadSpeed;\n        if (latestKbps && curSeg) {\n          var delay = curSeg.duration * this._playlist.currentStream.bitrate / latestKbps + 1;\n          nextLoadPoint += delay;\n        } else {\n          nextLoadPoint += 5;\n        }\n      }\n      return nextLoadPoint;\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(mediaType) {\n      if (!mediaType || mediaType === \"video\" || mediaType === \"audio\") {\n        return MSE.isSupported();\n      }\n      return typeof WebAssembly !== \"undefined\";\n    }\n  }, {\n    key: \"enableLogger\",\n    value: function enableLogger() {\n      Logger.enable();\n      Logger$1.enable();\n    }\n  }, {\n    key: \"disableLogger\",\n    value: function disableLogger() {\n      Logger.disable();\n      Logger$1.disable();\n    }\n  }]);\n  return Hls2;\n}(EventEmitter);\n_defineProperty(Hls, \"version\", \"3.0.11\");\ntry {\n  if (localStorage.getItem(\"xgd\")) {\n    Hls.enableLogger();\n  } else {\n    Hls.disableLogger();\n  }\n} catch (error) {\n}\nexport { Hls };\n","import { objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction getConfig(cfg) {\n  var media = (cfg === null || cfg === void 0 ? void 0 : cfg.media) || document.createElement(\"video\");\n  return _objectSpread2(_objectSpread2({\n    maxPlaylistSize: 50,\n    retryCount: 3,\n    retryDelay: 1e3,\n    pollRetryCount: 2,\n    loadTimeout: 1e4,\n    manifestLoadTimeout: 1e4,\n    preloadTime: 30,\n    softDecode: false,\n    bufferBehind: 10,\n    maxJumpDistance: 3,\n    startTime: 0,\n    useLowLatency: true,\n    targetLatency: 10,\n    maxLatency: 20,\n    allowedStreamTrackChange: true,\n    seiInTime: false,\n    manifestList: [],\n    minSegmentsStartPlay: 3\n  }, cfg), {}, {\n    media\n  });\n}\nexport { getConfig };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { Event } from \"./hls/constants.js\";\nvar PluginExtension = /* @__PURE__ */ function() {\n  function PluginExtension2(opts, plugin) {\n    var _this = this;\n    _classCallCheck(this, PluginExtension2);\n    _defineProperty(this, \"_opts\", null);\n    _defineProperty(this, \"_plugin\", null);\n    _defineProperty(this, \"_onLowDecode\", function() {\n      var _this$_plugin, _this$_plugin$player, _this$_plugin2, _this$_plugin2$player;\n      var _this$_opts = _this._opts, media = _this$_opts.media, innerDegrade = _this$_opts.innerDegrade;\n      (_this$_plugin = _this._plugin) === null || _this$_plugin === void 0 ? void 0 : (_this$_plugin$player = _this$_plugin.player) === null || _this$_plugin$player === void 0 ? void 0 : _this$_plugin$player.emit(\"lowdecode\", media.degradeInfo);\n      (_this$_plugin2 = _this._plugin) === null || _this$_plugin2 === void 0 ? void 0 : (_this$_plugin2$player = _this$_plugin2.player) === null || _this$_plugin2$player === void 0 ? void 0 : _this$_plugin2$player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, media.degradeInfo), {}, {\n        eventName: Event.LOWDECODE\n      }));\n      if (innerDegrade === 1) {\n        _this._degrade(media.src);\n      }\n    });\n    _defineProperty(this, \"_degrade\", function(url) {\n      var player = _this._plugin.player;\n      var originVideo = player.video;\n      if (originVideo && originVideo.TAG !== \"MVideo\")\n        return;\n      var newVideo = player.video.degradeVideo;\n      player.video = newVideo;\n      originVideo.degrade(url);\n      if (url) {\n        player.config.url = url;\n      }\n      var firstChild = player.root.firstChild;\n      if (firstChild.TAG === \"MVideo\") {\n        player.root.replaceChild(newVideo, firstChild);\n      }\n      var hlsPlugin = _this._plugin.constructor.pluginName.toLowerCase();\n      player.unRegisterPlugin(hlsPlugin);\n      player.once(\"canplay\", function() {\n        player.play();\n      });\n    });\n    _defineProperty(this, \"forceDegradeToVideo\", function(url) {\n      var innerDegrade = _this._opts.innerDegrade;\n      if (innerDegrade === 1) {\n        _this._degrade(url);\n      }\n    });\n    this._opts = opts;\n    this._plugin = plugin;\n    this._init();\n  }\n  _createClass(PluginExtension2, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this$_opts2 = this._opts, media = _this$_opts2.media, preloadTime = _this$_opts2.preloadTime, innerDegrade = _this$_opts2.innerDegrade, isLive = _this$_opts2.isLive;\n      if (!media)\n        return;\n      if (!isLive && media.setPlayMode) {\n        media.setPlayMode(\"VOD\");\n        return;\n      }\n      if (innerDegrade) {\n        media.setAttribute(\"innerdegrade\", innerDegrade);\n      }\n      if (preloadTime) {\n        media.setAttribute(\"preloadtime\", preloadTime);\n      }\n      this._bindEvents();\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var media = this._opts.media;\n      media.addEventListener(\"lowdecode\", this._onLowDecode);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$_opts3, _this$_opts3$media;\n      (_this$_opts3 = this._opts) === null || _this$_opts3 === void 0 ? void 0 : (_this$_opts3$media = _this$_opts3.media) === null || _this$_opts3$media === void 0 ? void 0 : _this$_opts3$media.removeEventListener(\"lowdecode\", this._onLowDecode);\n      this._plugin = null;\n    }\n  }]);\n  return PluginExtension2;\n}();\nexport { PluginExtension as default };\n","import { defineProperty as _defineProperty, typeof as _typeof, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { BasePlugin, Events, Errors } from \"xgplayer\";\nimport { EVENT } from \"xgplayer-streaming-shared\";\nimport { Hls } from \"./hls/index.js\";\nimport { Event } from \"./hls/constants.js\";\nimport PluginExtension from \"./plugin-extension.js\";\nfunction parseSwitchUrlArgs(args, plugin) {\n  var player = plugin.player;\n  var curTime = player.currentTime;\n  var options = {\n    startTime: curTime\n  };\n  switch (_typeof(args)) {\n    case \"boolean\":\n      options.seamless = args;\n      break;\n    case \"object\":\n      Object.assign(options, args);\n      break;\n  }\n  return options;\n}\nvar HlsPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(HlsPlugin2, _BasePlugin);\n  var _super = _createSuper(HlsPlugin2);\n  function HlsPlugin2() {\n    var _this;\n    _classCallCheck(this, HlsPlugin2);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(_args));\n    _defineProperty(_assertThisInitialized(_this), \"hls\", null);\n    _defineProperty(_assertThisInitialized(_this), \"pluginExtension\", null);\n    _defineProperty(_assertThisInitialized(_this), \"getStats\", function() {\n      var _this$hls;\n      return (_this$hls = _this.hls) === null || _this$hls === void 0 ? void 0 : _this$hls.getStats();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchSubtitle\", function(_ref) {\n      var _this$hls2;\n      var lang = _ref.lang;\n      (_this$hls2 = _this.hls) === null || _this$hls2 === void 0 ? void 0 : _this$hls2.switchSubtitleStream(lang);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSwitchURL\", function(url, args) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, hls = _assertThisInitialize.hls;\n      if (hls) {\n        var _this$player$config, _this$player$config$h;\n        var options = parseSwitchUrlArgs(args, _assertThisInitialized(_this));\n        player.config.url = url;\n        hls.switchURL(url, options).catch(function(e) {\n        });\n        if (!options.seamless && (_this$player$config = _this.player.config) !== null && _this$player$config !== void 0 && (_this$player$config$h = _this$player$config.hls) !== null && _this$player$config$h !== void 0 && _this$player$config$h.keepStatusAfterSwitch) {\n          _this._keepPauseStatus();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_keepPauseStatus\", function() {\n      var paused = _this.player.paused;\n      if (!paused)\n        return;\n      _this.player.once(\"canplay\", function() {\n        _this.player.pause();\n      });\n    });\n    return _this;\n  }\n  _createClass(HlsPlugin2, [{\n    key: \"core\",\n    get: function get() {\n      return this.hls;\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      var _this$hls3;\n      return (_this$hls3 = this.hls) === null || _this$hls3 === void 0 ? void 0 : _this$hls3.version;\n    }\n  }, {\n    key: \"softDecode\",\n    get: function get() {\n      var _this$player, _this$player$config2;\n      var mediaType = (_this$player = this.player) === null || _this$player === void 0 ? void 0 : (_this$player$config2 = _this$player.config) === null || _this$player$config2 === void 0 ? void 0 : _this$player$config2.mediaType;\n      return !!mediaType && mediaType !== \"video\" && mediaType !== \"audio\";\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n      var _this2 = this;\n      var config = this.player.config;\n      if (!config.url && !config.__allowHlsEmptyUrl__) {\n        return;\n      }\n      if (this.hls)\n        this.hls.destroy();\n      this.player.switchURL = this._onSwitchURL;\n      var hlsOpts = config.hls || {};\n      hlsOpts.innerDegrade = hlsOpts.innerDegrade || config.innerDegrade;\n      if (hlsOpts.disconnectTime === null || hlsOpts.disconnectTime === void 0)\n        hlsOpts.disconnectTime = 0;\n      this.hls = new Hls(_objectSpread2({\n        softDecode: this.softDecode,\n        isLive: config.isLive,\n        media: this.player.media || this.player.video,\n        startTime: config.startTime,\n        url: config.url\n      }, hlsOpts));\n      if (!this.softDecode) {\n        BasePlugin.defineGetterOrSetter(this.player, {\n          url: {\n            get: function get() {\n              var _this2$hls, _this2$hls$media;\n              return (_this2$hls = _this2.hls) === null || _this2$hls === void 0 ? void 0 : (_this2$hls$media = _this2$hls.media) === null || _this2$hls$media === void 0 ? void 0 : _this2$hls$media.src;\n            },\n            configurable: true\n          }\n        });\n      }\n      if (this.softDecode) {\n        this.pluginExtension = new PluginExtension(_objectSpread2({\n          isLive: config.isLive,\n          media: this.player.video\n        }, hlsOpts), this);\n        this.player.forceDegradeToVideo = function() {\n          var _this2$pluginExtensio;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return (_this2$pluginExtensio = _this2.pluginExtension) === null || _this2$pluginExtensio === void 0 ? void 0 : _this2$pluginExtensio.forceDegradeToVideo.apply(_this2$pluginExtensio, args);\n        };\n      }\n      if (config.isLive) {\n        var _this$player2;\n        (_this$player2 = this.player) === null || _this$player2 === void 0 ? void 0 : _this$player2.useHooks(\"replay\", function() {\n          var _this2$hls2;\n          return (_this2$hls2 = _this2.hls) === null || _this2$hls2 === void 0 ? void 0 : _this2$hls2.replay();\n        });\n      }\n      this.on(Events.SWITCH_SUBTITLE || \"switch_subtitle\", this._onSwitchSubtitle);\n      this.on(Events.URL_CHANGE, this._onSwitchURL);\n      this.on(Events.DESTROY, this.destroy.bind(this));\n      this._transError();\n      this._transCoreEvent(EVENT.TTFB);\n      this._transCoreEvent(EVENT.LOAD_START);\n      this._transCoreEvent(EVENT.LOAD_RESPONSE_HEADERS);\n      this._transCoreEvent(EVENT.LOAD_COMPLETE);\n      this._transCoreEvent(EVENT.LOAD_RETRY);\n      this._transCoreEvent(EVENT.SOURCEBUFFER_CREATED);\n      this._transCoreEvent(EVENT.REMOVE_BUFFER);\n      this._transCoreEvent(EVENT.BUFFEREOS);\n      this._transCoreEvent(EVENT.KEYFRAME);\n      this._transCoreEvent(EVENT.METADATA_PARSED);\n      this._transCoreEvent(EVENT.DEMUXED_TRACK);\n      this._transCoreEvent(EVENT.SEI);\n      this._transCoreEvent(EVENT.SEI_IN_TIME);\n      this._transCoreEvent(EVENT.SPEED);\n      this._transCoreEvent(EVENT.HLS_MANIFEST_LOADED);\n      this._transCoreEvent(EVENT.HLS_LEVEL_LOADED);\n      this._transCoreEvent(EVENT.STREAM_EXCEPTION);\n      this._transCoreEvent(EVENT.SWITCH_URL_SUCCESS);\n      this._transCoreEvent(EVENT.SWITCH_URL_FAILED);\n      this._transCoreEvent(Event.NO_AUDIO_TRACK);\n      this._transCoreEvent(Event.STREAM_PARSED);\n      this._transCoreEvent(Event.SUBTITLE_SEGMENTS);\n      this._transCoreEvent(Event.SUBTITLE_PLAYLIST);\n      this._transCoreEvent(Event.APPEND_COST);\n      if (config.url) {\n        this.hls.load(config.url, true).catch(function(e) {\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$pluginExtension;\n      if (this.hls) {\n        this.hls.destroy();\n        this.hls = null;\n      }\n      (_this$pluginExtension = this.pluginExtension) === null || _this$pluginExtension === void 0 ? void 0 : _this$pluginExtension.destroy();\n      this.pluginExtension = null;\n    }\n  }, {\n    key: \"_transError\",\n    value: function _transError() {\n      var _this3 = this;\n      this.hls.on(Event.ERROR, function(err) {\n        if (_this3.player) {\n          _this3.player.emit(Events.ERROR, new Errors(_this3.player, err));\n        }\n      });\n    }\n  }, {\n    key: \"_transCoreEvent\",\n    value: function _transCoreEvent(eventName) {\n      var _this4 = this;\n      this.hls.on(eventName, function(e) {\n        if (_this4.player) {\n          _this4.player.emit(\"core_event\", _objectSpread2(_objectSpread2({}, e), {}, {\n            eventName\n          }));\n          if (eventName === EVENT.SEI_IN_TIME && _this4.hls.hasSubtitle) {\n            _this4._emitSeiPaylodTime(e);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_emitSeiPaylodTime\",\n    value: function _emitSeiPaylodTime(e) {\n      try {\n        var seiJson = JSON.parse(Array.from(e.data.payload).map(function(x) {\n          return String.fromCharCode(x);\n        }).join(\"\").slice(0, -1));\n        if (!seiJson[\"rtmp_dts\"])\n          return;\n        this.player.emit(\"core_event\", {\n          eventName: Event.SEI_PAYLOAD_TIME,\n          time: seiJson[\"rtmp_dts\"]\n        });\n      } catch (e2) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"hls\";\n    }\n  }, {\n    key: \"isSupported\",\n    value: function isSupported(mediaType, codec) {\n      return Hls.isSupported(mediaType, codec);\n    }\n  }]);\n  return HlsPlugin2;\n}(BasePlugin);\n_defineProperty(HlsPlugin, \"Hls\", Hls);\n_defineProperty(HlsPlugin, \"EVENT\", Event);\nexport { HlsPlugin, parseSwitchUrlArgs };\n","// This icon file is generated automatically.\nvar DownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\" } }] }, \"name\": \"down\", \"theme\": \"outlined\" };\nexport default DownOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DownOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DownOutlined = function DownOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DownOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  DownOutlined.displayName = 'DownOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(DownOutlined);","// This icon file is generated automatically.\nvar UpOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z\" } }] }, \"name\": \"up\", \"theme\": \"outlined\" };\nexport default UpOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UpOutlinedSvg from \"@ant-design/icons-svg/es/asn/UpOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar UpOutlined = function UpOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: UpOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  UpOutlined.displayName = 'UpOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(UpOutlined);","export function supportBigInt() {\n  return typeof BigInt === 'function';\n}","import { supportBigInt } from \"./supportUtil\";\nexport function isEmpty(value) {\n  return !value && value !== 0 && !Number.isNaN(value) || !String(value).trim();\n}\n\n/**\n * Format string number to readable number\n */\nexport function trimNumber(numStr) {\n  var str = numStr.trim();\n  var negative = str.startsWith('-');\n  if (negative) {\n    str = str.slice(1);\n  }\n  str = str\n  // Remove decimal 0. `1.000` => `1.`, `1.100` => `1.1`\n  .replace(/(\\.\\d*[^0])0*$/, '$1')\n  // Remove useless decimal. `1.` => `1`\n  .replace(/\\.0*$/, '')\n  // Remove integer 0. `0001` => `1`, 000.1' => `.1`\n  .replace(/^0+/, '');\n  if (str.startsWith('.')) {\n    str = \"0\".concat(str);\n  }\n  var trimStr = str || '0';\n  var splitNumber = trimStr.split('.');\n  var integerStr = splitNumber[0] || '0';\n  var decimalStr = splitNumber[1] || '0';\n  if (integerStr === '0' && decimalStr === '0') {\n    negative = false;\n  }\n  var negativeStr = negative ? '-' : '';\n  return {\n    negative: negative,\n    negativeStr: negativeStr,\n    trimStr: trimStr,\n    integerStr: integerStr,\n    decimalStr: decimalStr,\n    fullStr: \"\".concat(negativeStr).concat(trimStr)\n  };\n}\nexport function isE(number) {\n  var str = String(number);\n  return !Number.isNaN(Number(str)) && str.includes('e');\n}\n\n/**\n * [Legacy] Convert 1e-9 to 0.000000001.\n * This may lose some precision if user really want 1e-9.\n */\nexport function getNumberPrecision(number) {\n  var numStr = String(number);\n  if (isE(number)) {\n    var precision = Number(numStr.slice(numStr.indexOf('e-') + 2));\n    var decimalMatch = numStr.match(/\\.(\\d+)/);\n    if (decimalMatch !== null && decimalMatch !== void 0 && decimalMatch[1]) {\n      precision += decimalMatch[1].length;\n    }\n    return precision;\n  }\n  return numStr.includes('.') && validateNumber(numStr) ? numStr.length - numStr.indexOf('.') - 1 : 0;\n}\n\n/**\n * Convert number (includes scientific notation) to -xxx.yyy format\n */\nexport function num2str(number) {\n  var numStr = String(number);\n  if (isE(number)) {\n    if (number > Number.MAX_SAFE_INTEGER) {\n      return String(supportBigInt() ? BigInt(number).toString() : Number.MAX_SAFE_INTEGER);\n    }\n    if (number < Number.MIN_SAFE_INTEGER) {\n      return String(supportBigInt() ? BigInt(number).toString() : Number.MIN_SAFE_INTEGER);\n    }\n    numStr = number.toFixed(getNumberPrecision(numStr));\n  }\n  return trimNumber(numStr).fullStr;\n}\nexport function validateNumber(num) {\n  if (typeof num === 'number') {\n    return !Number.isNaN(num);\n  }\n\n  // Empty\n  if (!num) {\n    return false;\n  }\n  return (\n    // Normal type: 11.28\n    /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(num) ||\n    // Pre-number: 1.\n    /^\\s*-?\\d+\\.\\s*$/.test(num) ||\n    // Post-number: .1\n    /^\\s*-?\\.\\d+\\s*$/.test(num)\n  );\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isE, isEmpty, num2str, trimNumber, validateNumber } from \"./numberUtil\";\nvar BigIntDecimal = /*#__PURE__*/function () {\n  /** BigInt will convert `0009` to `9`. We need record the len of decimal */\n\n  function BigIntDecimal(value) {\n    _classCallCheck(this, BigIntDecimal);\n    _defineProperty(this, \"origin\", '');\n    _defineProperty(this, \"negative\", void 0);\n    _defineProperty(this, \"integer\", void 0);\n    _defineProperty(this, \"decimal\", void 0);\n    _defineProperty(this, \"decimalLen\", void 0);\n    _defineProperty(this, \"empty\", void 0);\n    _defineProperty(this, \"nan\", void 0);\n    if (isEmpty(value)) {\n      this.empty = true;\n      return;\n    }\n    this.origin = String(value);\n\n    // Act like Number convert\n    if (value === '-' || Number.isNaN(value)) {\n      this.nan = true;\n      return;\n    }\n    var mergedValue = value;\n\n    // We need convert back to Number since it require `toFixed` to handle this\n    if (isE(mergedValue)) {\n      mergedValue = Number(mergedValue);\n    }\n    mergedValue = typeof mergedValue === 'string' ? mergedValue : num2str(mergedValue);\n    if (validateNumber(mergedValue)) {\n      var trimRet = trimNumber(mergedValue);\n      this.negative = trimRet.negative;\n      var numbers = trimRet.trimStr.split('.');\n      this.integer = BigInt(numbers[0]);\n      var decimalStr = numbers[1] || '0';\n      this.decimal = BigInt(decimalStr);\n      this.decimalLen = decimalStr.length;\n    } else {\n      this.nan = true;\n    }\n  }\n  _createClass(BigIntDecimal, [{\n    key: \"getMark\",\n    value: function getMark() {\n      return this.negative ? '-' : '';\n    }\n  }, {\n    key: \"getIntegerStr\",\n    value: function getIntegerStr() {\n      return this.integer.toString();\n    }\n\n    /**\n     * @private get decimal string\n     */\n  }, {\n    key: \"getDecimalStr\",\n    value: function getDecimalStr() {\n      return this.decimal.toString().padStart(this.decimalLen, '0');\n    }\n\n    /**\n     * @private Align BigIntDecimal with same decimal length. e.g. 12.3 + 5 = 1230000\n     * This is used for add function only.\n     */\n  }, {\n    key: \"alignDecimal\",\n    value: function alignDecimal(decimalLength) {\n      var str = \"\".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(decimalLength, '0'));\n      return BigInt(str);\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      var clone = new BigIntDecimal(this.toString());\n      clone.negative = !clone.negative;\n      return clone;\n    }\n  }, {\n    key: \"cal\",\n    value: function cal(offset, calculator, calDecimalLen) {\n      var maxDecimalLength = Math.max(this.getDecimalStr().length, offset.getDecimalStr().length);\n      var myAlignedDecimal = this.alignDecimal(maxDecimalLength);\n      var offsetAlignedDecimal = offset.alignDecimal(maxDecimalLength);\n      var valueStr = calculator(myAlignedDecimal, offsetAlignedDecimal).toString();\n      var nextDecimalLength = calDecimalLen(maxDecimalLength);\n\n      // We need fill string length back to `maxDecimalLength` to avoid parser failed\n      var _trimNumber = trimNumber(valueStr),\n        negativeStr = _trimNumber.negativeStr,\n        trimStr = _trimNumber.trimStr;\n      var hydrateValueStr = \"\".concat(negativeStr).concat(trimStr.padStart(nextDecimalLength + 1, '0'));\n      return new BigIntDecimal(\"\".concat(hydrateValueStr.slice(0, -nextDecimalLength), \".\").concat(hydrateValueStr.slice(-nextDecimalLength)));\n    }\n  }, {\n    key: \"add\",\n    value: function add(value) {\n      if (this.isInvalidate()) {\n        return new BigIntDecimal(value);\n      }\n      var offset = new BigIntDecimal(value);\n      if (offset.isInvalidate()) {\n        return this;\n      }\n      return this.cal(offset, function (num1, num2) {\n        return num1 + num2;\n      }, function (len) {\n        return len;\n      });\n    }\n  }, {\n    key: \"multi\",\n    value: function multi(value) {\n      var target = new BigIntDecimal(value);\n      if (this.isInvalidate() || target.isInvalidate()) {\n        return new BigIntDecimal(NaN);\n      }\n      return this.cal(target, function (num1, num2) {\n        return num1 * num2;\n      }, function (len) {\n        return len * 2;\n      });\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.empty;\n    }\n  }, {\n    key: \"isNaN\",\n    value: function isNaN() {\n      return this.nan;\n    }\n  }, {\n    key: \"isInvalidate\",\n    value: function isInvalidate() {\n      return this.isEmpty() || this.isNaN();\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(target) {\n      return this.toString() === (target === null || target === void 0 ? void 0 : target.toString());\n    }\n  }, {\n    key: \"lessEquals\",\n    value: function lessEquals(target) {\n      return this.add(target.negate().toString()).toNumber() <= 0;\n    }\n  }, {\n    key: \"toNumber\",\n    value: function toNumber() {\n      if (this.isNaN()) {\n        return NaN;\n      }\n      return Number(this.toString());\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var safe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!safe) {\n        return this.origin;\n      }\n      if (this.isInvalidate()) {\n        return '';\n      }\n      return trimNumber(\"\".concat(this.getMark()).concat(this.getIntegerStr(), \".\").concat(this.getDecimalStr())).fullStr;\n    }\n  }]);\n  return BigIntDecimal;\n}();\nexport { BigIntDecimal as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { getNumberPrecision, isEmpty, num2str } from \"./numberUtil\";\n\n/**\n * We can remove this when IE not support anymore\n */\nvar NumberDecimal = /*#__PURE__*/function () {\n  function NumberDecimal(value) {\n    _classCallCheck(this, NumberDecimal);\n    _defineProperty(this, \"origin\", '');\n    _defineProperty(this, \"number\", void 0);\n    _defineProperty(this, \"empty\", void 0);\n    if (isEmpty(value)) {\n      this.empty = true;\n      return;\n    }\n    this.origin = String(value);\n    this.number = Number(value);\n  }\n  _createClass(NumberDecimal, [{\n    key: \"negate\",\n    value: function negate() {\n      return new NumberDecimal(-this.toNumber());\n    }\n  }, {\n    key: \"add\",\n    value: function add(value) {\n      if (this.isInvalidate()) {\n        return new NumberDecimal(value);\n      }\n      var target = Number(value);\n      if (Number.isNaN(target)) {\n        return this;\n      }\n      var number = this.number + target;\n\n      // [Legacy] Back to safe integer\n      if (number > Number.MAX_SAFE_INTEGER) {\n        return new NumberDecimal(Number.MAX_SAFE_INTEGER);\n      }\n      if (number < Number.MIN_SAFE_INTEGER) {\n        return new NumberDecimal(Number.MIN_SAFE_INTEGER);\n      }\n      var maxPrecision = Math.max(getNumberPrecision(this.number), getNumberPrecision(target));\n      return new NumberDecimal(number.toFixed(maxPrecision));\n    }\n  }, {\n    key: \"multi\",\n    value: function multi(value) {\n      var target = Number(value);\n      if (this.isInvalidate() || Number.isNaN(target)) {\n        return new NumberDecimal(NaN);\n      }\n      var number = this.number * target;\n\n      // [Legacy] Back to safe integer\n      if (number > Number.MAX_SAFE_INTEGER) {\n        return new NumberDecimal(Number.MAX_SAFE_INTEGER);\n      }\n      if (number < Number.MIN_SAFE_INTEGER) {\n        return new NumberDecimal(Number.MIN_SAFE_INTEGER);\n      }\n      var maxPrecision = Math.max(getNumberPrecision(this.number), getNumberPrecision(target));\n      return new NumberDecimal(number.toFixed(maxPrecision));\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.empty;\n    }\n  }, {\n    key: \"isNaN\",\n    value: function isNaN() {\n      return Number.isNaN(this.number);\n    }\n  }, {\n    key: \"isInvalidate\",\n    value: function isInvalidate() {\n      return this.isEmpty() || this.isNaN();\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(target) {\n      return this.toNumber() === (target === null || target === void 0 ? void 0 : target.toNumber());\n    }\n  }, {\n    key: \"lessEquals\",\n    value: function lessEquals(target) {\n      return this.add(target.negate().toString()).toNumber() <= 0;\n    }\n  }, {\n    key: \"toNumber\",\n    value: function toNumber() {\n      return this.number;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var safe = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!safe) {\n        return this.origin;\n      }\n      if (this.isInvalidate()) {\n        return '';\n      }\n      return num2str(this.number);\n    }\n  }]);\n  return NumberDecimal;\n}();\nexport { NumberDecimal as default };","/* eslint-disable max-classes-per-file */\n\nimport BigIntDecimal from \"./BigIntDecimal\";\nimport NumberDecimal from \"./NumberDecimal\";\nimport { trimNumber } from \"./numberUtil\";\nimport { supportBigInt } from \"./supportUtil\";\n\n// Still support origin export\nexport { NumberDecimal, BigIntDecimal };\nexport default function getMiniDecimal(value) {\n  // We use BigInt here.\n  // Will fallback to Number if not support.\n  if (supportBigInt()) {\n    return new BigIntDecimal(value);\n  }\n  return new NumberDecimal(value);\n}\n\n/**\n * Align the logic of toFixed to around like 1.5 => 2.\n * If set `cutOnly`, will just remove the over decimal part.\n */\nexport function toFixed(numStr, separatorStr, precision) {\n  var cutOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (numStr === '') {\n    return '';\n  }\n  var _trimNumber = trimNumber(numStr),\n    negativeStr = _trimNumber.negativeStr,\n    integerStr = _trimNumber.integerStr,\n    decimalStr = _trimNumber.decimalStr;\n  var precisionDecimalStr = \"\".concat(separatorStr).concat(decimalStr);\n  var numberWithoutDecimal = \"\".concat(negativeStr).concat(integerStr);\n  if (precision >= 0) {\n    // We will get last + 1 number to check if need advanced number\n    var advancedNum = Number(decimalStr[precision]);\n    if (advancedNum >= 5 && !cutOnly) {\n      var advancedDecimal = getMiniDecimal(numStr).add(\"\".concat(negativeStr, \"0.\").concat('0'.repeat(precision)).concat(10 - advancedNum));\n      return toFixed(advancedDecimal.toString(), separatorStr, precision, cutOnly);\n    }\n    if (precision === 0) {\n      return numberWithoutDecimal;\n    }\n    return \"\".concat(numberWithoutDecimal).concat(separatorStr).concat(decimalStr.padEnd(precision, '0').slice(0, precision));\n  }\n  if (precisionDecimalStr === '.0') {\n    return numberWithoutDecimal;\n  }\n  return \"\".concat(numberWithoutDecimal).concat(precisionDecimalStr);\n}","import getMiniDecimal from \"./MiniDecimal\";\nexport * from \"./MiniDecimal\";\nimport { trimNumber, getNumberPrecision, num2str, validateNumber } from \"./numberUtil\";\nexport { trimNumber, getNumberPrecision, num2str, validateNumber };\nexport default getMiniDecimal;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport isMobile from \"../isMobile\";\nimport useLayoutEffect from \"./useLayoutEffect\";\n\n/**\n * Hook to detect if the user is on a mobile device\n * Notice that this hook will only detect the device type in effect, so it will always be false in server side\n */\nvar useMobile = function useMobile() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    mobile = _useState2[0],\n    setMobile = _useState2[1];\n  useLayoutEffect(function () {\n    setMobile(isMobile());\n  }, []);\n  return mobile;\n};\nexport default useMobile;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint-disable react/no-unknown-property */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMobile from \"rc-util/es/hooks/useMobile\";\nimport raf from \"rc-util/es/raf\";\n\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nvar STEP_INTERVAL = 200;\n\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nvar STEP_DELAY = 600;\nexport default function StepHandler(_ref) {\n  var prefixCls = _ref.prefixCls,\n    upNode = _ref.upNode,\n    downNode = _ref.downNode,\n    upDisabled = _ref.upDisabled,\n    downDisabled = _ref.downDisabled,\n    onStep = _ref.onStep;\n  // ======================== Step ========================\n  var stepTimeoutRef = React.useRef();\n  var frameIds = React.useRef([]);\n  var onStepRef = React.useRef();\n  onStepRef.current = onStep;\n  var onStopStep = function onStopStep() {\n    clearTimeout(stepTimeoutRef.current);\n  };\n\n  // We will interval update step when hold mouse down\n  var onStepMouseDown = function onStepMouseDown(e, up) {\n    e.preventDefault();\n    onStopStep();\n    onStepRef.current(up);\n\n    // Loop step for interval\n    function loopStep() {\n      onStepRef.current(up);\n      stepTimeoutRef.current = setTimeout(loopStep, STEP_INTERVAL);\n    }\n\n    // First time press will wait some time to trigger loop step update\n    stepTimeoutRef.current = setTimeout(loopStep, STEP_DELAY);\n  };\n  React.useEffect(function () {\n    return function () {\n      onStopStep();\n      frameIds.current.forEach(function (id) {\n        return raf.cancel(id);\n      });\n    };\n  }, []);\n\n  // ======================= Render =======================\n  var isMobile = useMobile();\n  if (isMobile) {\n    return null;\n  }\n  var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n  var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n  var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled));\n\n  // fix: https://github.com/ant-design/ant-design/issues/43088\n  // In Safari, When we fire onmousedown and onmouseup events in quick succession, \n  // there may be a problem that the onmouseup events are executed first, \n  // resulting in a disordered program execution.\n  // So, we need to use requestAnimationFrame to ensure that the onmouseup event is executed after the onmousedown event.\n  var safeOnStopStep = function safeOnStopStep() {\n    return frameIds.current.push(raf(onStopStep));\n  };\n  var sharedHandlerProps = {\n    unselectable: 'on',\n    role: 'button',\n    onMouseUp: safeOnStopStep,\n    onMouseLeave: safeOnStopStep\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(handlerClassName, \"-wrap\")\n  }, /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, true);\n    },\n    \"aria-label\": \"Increase Value\",\n    \"aria-disabled\": upDisabled,\n    className: upClassName\n  }), upNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-up-inner\")\n  })), /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, false);\n    },\n    \"aria-label\": \"Decrease Value\",\n    \"aria-disabled\": downDisabled,\n    className: downClassName\n  }), downNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-down-inner\")\n  })));\n}","import { trimNumber, num2str } from '@rc-component/mini-decimal';\nexport function getDecupleSteps(step) {\n  var stepStr = typeof step === 'number' ? num2str(step) : trimNumber(step).fullStr;\n  var hasPoint = stepStr.includes('.');\n  if (!hasPoint) {\n    return step + '0';\n  }\n  return trimNumber(stepStr.replace(/(\\d)\\.(\\d)/g, '$1$2.')).fullStr;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"min\", \"max\", \"step\", \"defaultValue\", \"value\", \"disabled\", \"readOnly\", \"upHandler\", \"downHandler\", \"keyboard\", \"controls\", \"classNames\", \"stringMode\", \"parser\", \"formatter\", \"precision\", \"decimalSeparator\", \"onChange\", \"onInput\", \"onPressEnter\", \"onStep\"],\n  _excluded2 = [\"disabled\", \"style\", \"prefixCls\", \"value\", \"prefix\", \"suffix\", \"addonBefore\", \"addonAfter\", \"classes\", \"className\", \"classNames\"];\nimport getMiniDecimal, { getNumberPrecision, num2str, toFixed, validateNumber } from '@rc-component/mini-decimal';\nimport clsx from 'classnames';\nimport { BaseInput } from 'rc-input';\nimport { useLayoutUpdateEffect } from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport useCursor from \"./hooks/useCursor\";\nimport StepHandler from \"./StepHandler\";\nimport { getDecupleSteps } from \"./utils/numberUtil\";\nimport { triggerFocus } from \"rc-input/es/utils/commonUtils\";\nimport useFrame from \"./hooks/useFrame\";\n/**\n * We support `stringMode` which need handle correct type when user call in onChange\n * format max or min value\n * 1. if isInvalid return null\n * 2. if precision is undefined, return decimal\n * 3. format with precision\n *    I. if max > 0, round down with precision. Example: max= 3.5, precision=0  afterFormat: 3\n *    II. if max < 0, round up with precision. Example: max= -3.5, precision=0  afterFormat: -4\n *    III. if min > 0, round up with precision. Example: min= 3.5, precision=0  afterFormat: 4\n *    IV. if min < 0, round down with precision. Example: max= -3.5, precision=0  afterFormat: -3\n */\nvar getDecimalValue = function getDecimalValue(stringMode, decimalValue) {\n  if (stringMode || decimalValue.isEmpty()) {\n    return decimalValue.toString();\n  }\n  return decimalValue.toNumber();\n};\nvar getDecimalIfValidate = function getDecimalIfValidate(value) {\n  var decimal = getMiniDecimal(value);\n  return decimal.isInvalidate() ? null : decimal;\n};\nvar InternalInputNumber = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _clsx;\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-input-number' : _props$prefixCls,\n    className = props.className,\n    style = props.style,\n    min = props.min,\n    max = props.max,\n    _props$step = props.step,\n    step = _props$step === void 0 ? 1 : _props$step,\n    defaultValue = props.defaultValue,\n    value = props.value,\n    disabled = props.disabled,\n    readOnly = props.readOnly,\n    upHandler = props.upHandler,\n    downHandler = props.downHandler,\n    keyboard = props.keyboard,\n    _props$controls = props.controls,\n    controls = _props$controls === void 0 ? true : _props$controls,\n    classNames = props.classNames,\n    stringMode = props.stringMode,\n    parser = props.parser,\n    formatter = props.formatter,\n    precision = props.precision,\n    decimalSeparator = props.decimalSeparator,\n    onChange = props.onChange,\n    onInput = props.onInput,\n    onPressEnter = props.onPressEnter,\n    onStep = props.onStep,\n    inputProps = _objectWithoutProperties(props, _excluded);\n  var inputClassName = \"\".concat(prefixCls, \"-input\");\n  var inputRef = React.useRef(null);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focus = _React$useState2[0],\n    setFocus = _React$useState2[1];\n  var userTypingRef = React.useRef(false);\n  var compositionRef = React.useRef(false);\n  var shiftKeyRef = React.useRef(false);\n\n  // ============================ Value =============================\n  // Real value control\n  var _React$useState3 = React.useState(function () {\n      return getMiniDecimal(value !== null && value !== void 0 ? value : defaultValue);\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    decimalValue = _React$useState4[0],\n    setDecimalValue = _React$useState4[1];\n  function setUncontrolledDecimalValue(newDecimal) {\n    if (value === undefined) {\n      setDecimalValue(newDecimal);\n    }\n  }\n\n  // ====================== Parser & Formatter ======================\n  /**\n   * `precision` is used for formatter & onChange.\n   * It will auto generate by `value` & `step`.\n   * But it will not block user typing.\n   *\n   * Note: Auto generate `precision` is used for legacy logic.\n   * We should remove this since we already support high precision with BigInt.\n   *\n   * @param number  Provide which number should calculate precision\n   * @param userTyping  Change by user typing\n   */\n  var getPrecision = React.useCallback(function (numStr, userTyping) {\n    if (userTyping) {\n      return undefined;\n    }\n    if (precision >= 0) {\n      return precision;\n    }\n    return Math.max(getNumberPrecision(numStr), getNumberPrecision(step));\n  }, [precision, step]);\n\n  // >>> Parser\n  var mergedParser = React.useCallback(function (num) {\n    var numStr = String(num);\n    if (parser) {\n      return parser(numStr);\n    }\n    var parsedStr = numStr;\n    if (decimalSeparator) {\n      parsedStr = parsedStr.replace(decimalSeparator, '.');\n    }\n\n    // [Legacy] We still support auto convert `$ 123,456` to `123456`\n    return parsedStr.replace(/[^\\w.-]+/g, '');\n  }, [parser, decimalSeparator]);\n\n  // >>> Formatter\n  var inputValueRef = React.useRef('');\n  var mergedFormatter = React.useCallback(function (number, userTyping) {\n    if (formatter) {\n      return formatter(number, {\n        userTyping: userTyping,\n        input: String(inputValueRef.current)\n      });\n    }\n    var str = typeof number === 'number' ? num2str(number) : number;\n\n    // User typing will not auto format with precision directly\n    if (!userTyping) {\n      var mergedPrecision = getPrecision(str, userTyping);\n      if (validateNumber(str) && (decimalSeparator || mergedPrecision >= 0)) {\n        // Separator\n        var separatorStr = decimalSeparator || '.';\n        str = toFixed(str, separatorStr, mergedPrecision);\n      }\n    }\n    return str;\n  }, [formatter, getPrecision, decimalSeparator]);\n\n  // ========================== InputValue ==========================\n  /**\n   * Input text value control\n   *\n   * User can not update input content directly. It updates with follow rules by priority:\n   *  1. controlled `value` changed\n   *    * [SPECIAL] Typing like `1.` should not immediately convert to `1`\n   *  2. User typing with format (not precision)\n   *  3. Blur or Enter trigger revalidate\n   */\n  var _React$useState5 = React.useState(function () {\n      var initValue = defaultValue !== null && defaultValue !== void 0 ? defaultValue : value;\n      if (decimalValue.isInvalidate() && ['string', 'number'].includes(_typeof(initValue))) {\n        return Number.isNaN(initValue) ? '' : initValue;\n      }\n      return mergedFormatter(decimalValue.toString(), false);\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    inputValue = _React$useState6[0],\n    setInternalInputValue = _React$useState6[1];\n  inputValueRef.current = inputValue;\n\n  // Should always be string\n  function setInputValue(newValue, userTyping) {\n    setInternalInputValue(mergedFormatter(\n    // Invalidate number is sometime passed by external control, we should let it go\n    // Otherwise is controlled by internal interactive logic which check by userTyping\n    // You can ref 'show limited value when input is not focused' test for more info.\n    newValue.isInvalidate() ? newValue.toString(false) : newValue.toString(!userTyping), userTyping));\n  }\n\n  // >>> Max & Min limit\n  var maxDecimal = React.useMemo(function () {\n    return getDecimalIfValidate(max);\n  }, [max, precision]);\n  var minDecimal = React.useMemo(function () {\n    return getDecimalIfValidate(min);\n  }, [min, precision]);\n  var upDisabled = React.useMemo(function () {\n    if (!maxDecimal || !decimalValue || decimalValue.isInvalidate()) {\n      return false;\n    }\n    return maxDecimal.lessEquals(decimalValue);\n  }, [maxDecimal, decimalValue]);\n  var downDisabled = React.useMemo(function () {\n    if (!minDecimal || !decimalValue || decimalValue.isInvalidate()) {\n      return false;\n    }\n    return decimalValue.lessEquals(minDecimal);\n  }, [minDecimal, decimalValue]);\n\n  // Cursor controller\n  var _useCursor = useCursor(inputRef.current, focus),\n    _useCursor2 = _slicedToArray(_useCursor, 2),\n    recordCursor = _useCursor2[0],\n    restoreCursor = _useCursor2[1];\n\n  // ============================= Data =============================\n  /**\n   * Find target value closet within range.\n   * e.g. [11, 28]:\n   *    3  => 11\n   *    23 => 23\n   *    99 => 28\n   */\n  var getRangeValue = function getRangeValue(target) {\n    // target > max\n    if (maxDecimal && !target.lessEquals(maxDecimal)) {\n      return maxDecimal;\n    }\n\n    // target < min\n    if (minDecimal && !minDecimal.lessEquals(target)) {\n      return minDecimal;\n    }\n    return null;\n  };\n\n  /**\n   * Check value is in [min, max] range\n   */\n  var isInRange = function isInRange(target) {\n    return !getRangeValue(target);\n  };\n\n  /**\n   * Trigger `onChange` if value validated and not equals of origin.\n   * Return the value that re-align in range.\n   */\n  var triggerValueUpdate = function triggerValueUpdate(newValue, userTyping) {\n    var updateValue = newValue;\n    var isRangeValidate = isInRange(updateValue) || updateValue.isEmpty();\n\n    // Skip align value when trigger value is empty.\n    // We just trigger onChange(null)\n    // This should not block user typing\n    if (!updateValue.isEmpty() && !userTyping) {\n      // Revert value in range if needed\n      updateValue = getRangeValue(updateValue) || updateValue;\n      isRangeValidate = true;\n    }\n    if (!readOnly && !disabled && isRangeValidate) {\n      var numStr = updateValue.toString();\n      var mergedPrecision = getPrecision(numStr, userTyping);\n      if (mergedPrecision >= 0) {\n        updateValue = getMiniDecimal(toFixed(numStr, '.', mergedPrecision));\n\n        // When to fixed. The value may out of min & max range.\n        // 4 in [0, 3.8] => 3.8 => 4 (toFixed)\n        if (!isInRange(updateValue)) {\n          updateValue = getMiniDecimal(toFixed(numStr, '.', mergedPrecision, true));\n        }\n      }\n\n      // Trigger event\n      if (!updateValue.equals(decimalValue)) {\n        setUncontrolledDecimalValue(updateValue);\n        onChange === null || onChange === void 0 ? void 0 : onChange(updateValue.isEmpty() ? null : getDecimalValue(stringMode, updateValue));\n\n        // Reformat input if value is not controlled\n        if (value === undefined) {\n          setInputValue(updateValue, userTyping);\n        }\n      }\n      return updateValue;\n    }\n    return decimalValue;\n  };\n\n  // ========================== User Input ==========================\n  var onNextPromise = useFrame();\n\n  // >>> Collect input value\n  var collectInputValue = function collectInputValue(inputStr) {\n    recordCursor();\n\n    // Update inputValue in case input can not parse as number\n    // Refresh ref value immediately since it may used by formatter\n    inputValueRef.current = inputStr;\n    setInternalInputValue(inputStr);\n\n    // Parse number\n    if (!compositionRef.current) {\n      var finalValue = mergedParser(inputStr);\n      var finalDecimal = getMiniDecimal(finalValue);\n      if (!finalDecimal.isNaN()) {\n        triggerValueUpdate(finalDecimal, true);\n      }\n    }\n\n    // Trigger onInput later to let user customize value if they want to handle something after onChange\n    onInput === null || onInput === void 0 ? void 0 : onInput(inputStr);\n\n    // optimize for chinese input experience\n    // https://github.com/ant-design/ant-design/issues/8196\n    onNextPromise(function () {\n      var nextInputStr = inputStr;\n      if (!parser) {\n        nextInputStr = inputStr.replace(/。/g, '.');\n      }\n      if (nextInputStr !== inputStr) {\n        collectInputValue(nextInputStr);\n      }\n    });\n  };\n\n  // >>> Composition\n  var onCompositionStart = function onCompositionStart() {\n    compositionRef.current = true;\n  };\n  var onCompositionEnd = function onCompositionEnd() {\n    compositionRef.current = false;\n    collectInputValue(inputRef.current.value);\n  };\n\n  // >>> Input\n  var onInternalInput = function onInternalInput(e) {\n    collectInputValue(e.target.value);\n  };\n\n  // ============================= Step =============================\n  var onInternalStep = function onInternalStep(up) {\n    var _inputRef$current;\n    // Ignore step since out of range\n    if (up && upDisabled || !up && downDisabled) {\n      return;\n    }\n\n    // Clear typing status since it may be caused by up & down key.\n    // We should sync with input value.\n    userTypingRef.current = false;\n    var stepDecimal = getMiniDecimal(shiftKeyRef.current ? getDecupleSteps(step) : step);\n    if (!up) {\n      stepDecimal = stepDecimal.negate();\n    }\n    var target = (decimalValue || getMiniDecimal(0)).add(stepDecimal.toString());\n    var updatedValue = triggerValueUpdate(target, false);\n    onStep === null || onStep === void 0 ? void 0 : onStep(getDecimalValue(stringMode, updatedValue), {\n      offset: shiftKeyRef.current ? getDecupleSteps(step) : step,\n      type: up ? 'up' : 'down'\n    });\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  };\n\n  // ============================ Flush =============================\n  /**\n   * Flush current input content to trigger value change & re-formatter input if needed.\n   * This will always flush input value for update.\n   * If it's invalidate, will fallback to last validate value.\n   */\n  var flushInputValue = function flushInputValue(userTyping) {\n    var parsedValue = getMiniDecimal(mergedParser(inputValue));\n    var formatValue = parsedValue;\n    if (!parsedValue.isNaN()) {\n      // Only validate value or empty value can be re-fill to inputValue\n      // Reassign the formatValue within ranged of trigger control\n      formatValue = triggerValueUpdate(parsedValue, userTyping);\n    } else {\n      formatValue = triggerValueUpdate(decimalValue, userTyping);\n    }\n    if (value !== undefined) {\n      // Reset back with controlled value first\n      setInputValue(decimalValue, false);\n    } else if (!formatValue.isNaN()) {\n      // Reset input back since no validate value\n      setInputValue(formatValue, false);\n    }\n  };\n\n  // Solve the issue of the event triggering sequence when entering numbers in chinese input (Safari)\n  var onBeforeInput = function onBeforeInput() {\n    userTypingRef.current = true;\n  };\n  var onKeyDown = function onKeyDown(event) {\n    var key = event.key,\n      shiftKey = event.shiftKey;\n    userTypingRef.current = true;\n    shiftKeyRef.current = shiftKey;\n    if (key === 'Enter') {\n      if (!compositionRef.current) {\n        userTypingRef.current = false;\n      }\n      flushInputValue(false);\n      onPressEnter === null || onPressEnter === void 0 ? void 0 : onPressEnter(event);\n    }\n    if (keyboard === false) {\n      return;\n    }\n\n    // Do step\n    if (!compositionRef.current && ['Up', 'ArrowUp', 'Down', 'ArrowDown'].includes(key)) {\n      onInternalStep(key === 'Up' || key === 'ArrowUp');\n      event.preventDefault();\n    }\n  };\n  var onKeyUp = function onKeyUp() {\n    userTypingRef.current = false;\n    shiftKeyRef.current = false;\n  };\n\n  // >>> Focus & Blur\n  var onBlur = function onBlur() {\n    flushInputValue(false);\n    setFocus(false);\n    userTypingRef.current = false;\n  };\n\n  // ========================== Controlled ==========================\n  // Input by precision\n  useLayoutUpdateEffect(function () {\n    if (!decimalValue.isInvalidate()) {\n      setInputValue(decimalValue, false);\n    }\n  }, [precision]);\n\n  // Input by value\n  useLayoutUpdateEffect(function () {\n    var newValue = getMiniDecimal(value);\n    setDecimalValue(newValue);\n    var currentParsedValue = getMiniDecimal(mergedParser(inputValue));\n\n    // When user typing from `1.2` to `1.`, we should not convert to `1` immediately.\n    // But let it go if user set `formatter`\n    if (!newValue.equals(currentParsedValue) || !userTypingRef.current || formatter) {\n      // Update value as effect\n      setInputValue(newValue, userTypingRef.current);\n    }\n  }, [value]);\n\n  // ============================ Cursor ============================\n  useLayoutUpdateEffect(function () {\n    if (formatter) {\n      restoreCursor();\n    }\n  }, [inputValue]);\n\n  // ============================ Render ============================\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(prefixCls, classNames === null || classNames === void 0 ? void 0 : classNames.input, className, (_clsx = {}, _defineProperty(_clsx, \"\".concat(prefixCls, \"-focused\"), focus), _defineProperty(_clsx, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_clsx, \"\".concat(prefixCls, \"-readonly\"), readOnly), _defineProperty(_clsx, \"\".concat(prefixCls, \"-not-a-number\"), decimalValue.isNaN()), _defineProperty(_clsx, \"\".concat(prefixCls, \"-out-of-range\"), !decimalValue.isInvalidate() && !isInRange(decimalValue)), _clsx)),\n    style: style,\n    onFocus: function onFocus() {\n      setFocus(true);\n    },\n    onBlur: onBlur,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp,\n    onCompositionStart: onCompositionStart,\n    onCompositionEnd: onCompositionEnd,\n    onBeforeInput: onBeforeInput\n  }, controls && /*#__PURE__*/React.createElement(StepHandler, {\n    prefixCls: prefixCls,\n    upNode: upHandler,\n    downNode: downHandler,\n    upDisabled: upDisabled,\n    downDisabled: downDisabled,\n    onStep: onInternalStep\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(inputClassName, \"-wrap\")\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoComplete: \"off\",\n    role: \"spinbutton\",\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": decimalValue.isInvalidate() ? null : decimalValue.toString(),\n    step: step\n  }, inputProps, {\n    ref: composeRef(inputRef, ref),\n    className: inputClassName,\n    value: inputValue,\n    onChange: onInternalInput,\n    disabled: disabled,\n    readOnly: readOnly\n  }))));\n});\nvar InputNumber = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var disabled = props.disabled,\n    style = props.style,\n    prefixCls = props.prefixCls,\n    value = props.value,\n    prefix = props.prefix,\n    suffix = props.suffix,\n    addonBefore = props.addonBefore,\n    addonAfter = props.addonAfter,\n    classes = props.classes,\n    className = props.className,\n    classNames = props.classNames,\n    rest = _objectWithoutProperties(props, _excluded2);\n  var inputFocusRef = React.useRef(null);\n  var focus = function focus(option) {\n    if (inputFocusRef.current) {\n      triggerFocus(inputFocusRef.current, option);\n    }\n  };\n  return /*#__PURE__*/React.createElement(BaseInput, {\n    inputElement: /*#__PURE__*/React.createElement(InternalInputNumber, _extends({\n      prefixCls: prefixCls,\n      disabled: disabled,\n      classNames: classNames,\n      ref: composeRef(inputFocusRef, ref)\n    }, rest)),\n    className: className,\n    triggerFocus: focus,\n    prefixCls: prefixCls,\n    value: value,\n    disabled: disabled,\n    style: style,\n    prefix: prefix,\n    suffix: suffix,\n    addonAfter: addonAfter,\n    addonBefore: addonBefore,\n    classes: classes,\n    classNames: classNames,\n    components: {\n      affixWrapper: 'div',\n      groupWrapper: 'div',\n      wrapper: 'div',\n      groupAddon: 'div'\n    }\n  });\n});\nInputNumber.displayName = 'InputNumber';\nexport default InputNumber;","import { useRef } from 'react';\nimport warning from \"rc-util/es/warning\";\n/**\n * Keep input cursor in the correct position if possible.\n * Is this necessary since we have `formatter` which may mass the content?\n */\nexport default function useCursor(input, focused) {\n  var selectionRef = useRef(null);\n  function recordCursor() {\n    // Record position\n    try {\n      var start = input.selectionStart,\n        end = input.selectionEnd,\n        value = input.value;\n      var beforeTxt = value.substring(0, start);\n      var afterTxt = value.substring(end);\n      selectionRef.current = {\n        start: start,\n        end: end,\n        value: value,\n        beforeTxt: beforeTxt,\n        afterTxt: afterTxt\n      };\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  }\n\n  /**\n   * Restore logic:\n   *  1. back string same\n   *  2. start string same\n   */\n  function restoreCursor() {\n    if (input && selectionRef.current && focused) {\n      try {\n        var value = input.value;\n        var _selectionRef$current = selectionRef.current,\n          beforeTxt = _selectionRef$current.beforeTxt,\n          afterTxt = _selectionRef$current.afterTxt,\n          start = _selectionRef$current.start;\n        var startPos = value.length;\n        if (value.endsWith(afterTxt)) {\n          startPos = value.length - selectionRef.current.afterTxt.length;\n        } else if (value.startsWith(beforeTxt)) {\n          startPos = beforeTxt.length;\n        } else {\n          var beforeLastChar = beforeTxt[start - 1];\n          var newIndex = value.indexOf(beforeLastChar, start - 1);\n          if (newIndex !== -1) {\n            startPos = newIndex + 1;\n          }\n        }\n        input.setSelectionRange(startPos, startPos);\n      } catch (e) {\n        warning(false, \"Something warning of cursor restore. Please fire issue about this: \".concat(e.message));\n      }\n    }\n  }\n  return [recordCursor, restoreCursor];\n}","import { useRef, useEffect } from 'react';\nimport raf from \"rc-util/es/raf\";\n\n/**\n * Always trigger latest once when call multiple time\n */\nexport default (function () {\n  var idRef = useRef(0);\n  var cleanUp = function cleanUp() {\n    raf.cancel(idRef.current);\n  };\n  useEffect(function () {\n    return cleanUp;\n  }, []);\n  return function (callback) {\n    cleanUp();\n    idRef.current = raf(function () {\n      callback();\n    });\n  };\n});","import InputNumber from \"./InputNumber\";\nexport default InputNumber;","import { initComponentToken, initInputToken, genActiveStyle, genBasicInputStyle, genDisabledStyle, genHoverStyle, genInputGroupStyle, genPlaceholderStyle, genStatusStyle } from '../../input/style';\nimport { resetComponent, resetIcon } from '../../style';\nimport { genCompactItemStyle } from '../../style/compact-item';\nimport { genComponentStyleHook, mergeToken } from '../../theme/internal';\nexport const genRadiusStyle = (_ref, size) => {\n  let {\n    componentCls,\n    borderRadiusSM,\n    borderRadiusLG\n  } = _ref;\n  const borderRadius = size === 'lg' ? borderRadiusLG : borderRadiusSM;\n  return {\n    [`&-${size}`]: {\n      [`${componentCls}-handler-wrap`]: {\n        borderStartEndRadius: borderRadius,\n        borderEndEndRadius: borderRadius\n      },\n      [`${componentCls}-handler-up`]: {\n        borderStartEndRadius: borderRadius\n      },\n      [`${componentCls}-handler-down`]: {\n        borderEndEndRadius: borderRadius\n      }\n    }\n  };\n};\nconst genInputNumberStyles = token => {\n  const {\n    componentCls,\n    lineWidth,\n    lineType,\n    colorBorder,\n    borderRadius,\n    fontSizeLG,\n    controlHeightLG,\n    controlHeightSM,\n    colorError,\n    paddingInlineSM,\n    colorTextDescription,\n    motionDurationMid,\n    handleHoverColor,\n    paddingInline,\n    paddingBlock,\n    handleBg,\n    handleActiveBg,\n    colorTextDisabled,\n    borderRadiusSM,\n    borderRadiusLG,\n    controlWidth,\n    handleVisible,\n    handleBorderColor\n  } = token;\n  return [{\n    [componentCls]: Object.assign(Object.assign(Object.assign(Object.assign({}, resetComponent(token)), genBasicInputStyle(token)), genStatusStyle(token, componentCls)), {\n      display: 'inline-block',\n      width: controlWidth,\n      margin: 0,\n      padding: 0,\n      border: `${lineWidth}px ${lineType} ${colorBorder}`,\n      borderRadius,\n      '&-rtl': {\n        direction: 'rtl',\n        [`${componentCls}-input`]: {\n          direction: 'rtl'\n        }\n      },\n      '&-lg': {\n        padding: 0,\n        fontSize: fontSizeLG,\n        borderRadius: borderRadiusLG,\n        [`input${componentCls}-input`]: {\n          height: controlHeightLG - 2 * lineWidth\n        }\n      },\n      '&-sm': {\n        padding: 0,\n        borderRadius: borderRadiusSM,\n        [`input${componentCls}-input`]: {\n          height: controlHeightSM - 2 * lineWidth,\n          padding: `0 ${paddingInlineSM}px`\n        }\n      },\n      '&:hover': Object.assign({}, genHoverStyle(token)),\n      '&-focused': Object.assign({}, genActiveStyle(token)),\n      // ===================== Out Of Range =====================\n      '&-out-of-range': {\n        [`${componentCls}-input-wrap`]: {\n          input: {\n            color: colorError\n          }\n        }\n      },\n      // Style for input-group: input with label, with button or dropdown...\n      '&-group': Object.assign(Object.assign(Object.assign({}, resetComponent(token)), genInputGroupStyle(token)), {\n        '&-wrapper': {\n          display: 'inline-block',\n          textAlign: 'start',\n          verticalAlign: 'top',\n          [`${componentCls}-affix-wrapper`]: {\n            width: '100%'\n          },\n          // Size\n          '&-lg': {\n            [`${componentCls}-group-addon`]: {\n              borderRadius: borderRadiusLG,\n              fontSize: token.fontSizeLG\n            }\n          },\n          '&-sm': {\n            [`${componentCls}-group-addon`]: {\n              borderRadius: borderRadiusSM\n            }\n          },\n          [`${componentCls}-wrapper-disabled > ${componentCls}-group-addon`]: Object.assign({}, genDisabledStyle(token))\n        }\n      }),\n      [`&-disabled ${componentCls}-input`]: {\n        cursor: 'not-allowed'\n      },\n      [componentCls]: {\n        '&-input': Object.assign(Object.assign(Object.assign(Object.assign({}, resetComponent(token)), {\n          width: '100%',\n          padding: `${paddingBlock}px ${paddingInline}px`,\n          textAlign: 'start',\n          backgroundColor: 'transparent',\n          border: 0,\n          borderRadius,\n          outline: 0,\n          transition: `all ${motionDurationMid} linear`,\n          appearance: 'textfield',\n          fontSize: 'inherit'\n        }), genPlaceholderStyle(token.colorTextPlaceholder)), {\n          '&[type=\"number\"]::-webkit-inner-spin-button, &[type=\"number\"]::-webkit-outer-spin-button': {\n            margin: 0,\n            /* stylelint-disable-next-line property-no-vendor-prefix */\n            webkitAppearance: 'none',\n            appearance: 'none'\n          }\n        })\n      }\n    })\n  },\n  // Handler\n  {\n    [componentCls]: Object.assign(Object.assign(Object.assign({\n      [`&:hover ${componentCls}-handler-wrap, &-focused ${componentCls}-handler-wrap`]: {\n        opacity: 1\n      },\n      [`${componentCls}-handler-wrap`]: {\n        position: 'absolute',\n        insetBlockStart: 0,\n        insetInlineEnd: 0,\n        width: token.handleWidth,\n        height: '100%',\n        background: handleBg,\n        borderStartStartRadius: 0,\n        borderStartEndRadius: borderRadius,\n        borderEndEndRadius: borderRadius,\n        borderEndStartRadius: 0,\n        opacity: handleVisible === true ? 1 : 0,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        transition: `opacity ${motionDurationMid} linear ${motionDurationMid}`,\n        // Fix input number inside Menu makes icon too large\n        // We arise the selector priority by nest selector here\n        // https://github.com/ant-design/ant-design/issues/14367\n        [`${componentCls}-handler`]: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flex: 'auto',\n          height: '40%',\n          [`\n              ${componentCls}-handler-up-inner,\n              ${componentCls}-handler-down-inner\n            `]: {\n            marginInlineEnd: 0,\n            fontSize: token.handleFontSize\n          }\n        }\n      },\n      [`${componentCls}-handler`]: {\n        height: '50%',\n        overflow: 'hidden',\n        color: colorTextDescription,\n        fontWeight: 'bold',\n        lineHeight: 0,\n        textAlign: 'center',\n        cursor: 'pointer',\n        borderInlineStart: `${lineWidth}px ${lineType} ${handleBorderColor}`,\n        transition: `all ${motionDurationMid} linear`,\n        '&:active': {\n          background: handleActiveBg\n        },\n        // Hover\n        '&:hover': {\n          height: `60%`,\n          [`\n              ${componentCls}-handler-up-inner,\n              ${componentCls}-handler-down-inner\n            `]: {\n            color: handleHoverColor\n          }\n        },\n        '&-up-inner, &-down-inner': Object.assign(Object.assign({}, resetIcon()), {\n          color: colorTextDescription,\n          transition: `all ${motionDurationMid} linear`,\n          userSelect: 'none'\n        })\n      },\n      [`${componentCls}-handler-up`]: {\n        borderStartEndRadius: borderRadius\n      },\n      [`${componentCls}-handler-down`]: {\n        borderBlockStart: `${lineWidth}px ${lineType} ${handleBorderColor}`,\n        borderEndEndRadius: borderRadius\n      }\n    }, genRadiusStyle(token, 'lg')), genRadiusStyle(token, 'sm')), {\n      // Disabled\n      '&-disabled, &-readonly': {\n        [`${componentCls}-handler-wrap`]: {\n          display: 'none'\n        },\n        [`${componentCls}-input`]: {\n          color: 'inherit'\n        }\n      },\n      [`\n          ${componentCls}-handler-up-disabled,\n          ${componentCls}-handler-down-disabled\n        `]: {\n        cursor: 'not-allowed'\n      },\n      [`\n          ${componentCls}-handler-up-disabled:hover &-handler-up-inner,\n          ${componentCls}-handler-down-disabled:hover &-handler-down-inner\n        `]: {\n        color: colorTextDisabled\n      }\n    })\n  },\n  // Border-less\n  {\n    [`${componentCls}-borderless`]: {\n      borderColor: 'transparent',\n      boxShadow: 'none',\n      [`${componentCls}-handler-down`]: {\n        borderBlockStartWidth: 0\n      }\n    }\n  }];\n};\nconst genAffixWrapperStyles = token => {\n  const {\n    componentCls,\n    paddingBlock,\n    paddingInline,\n    inputAffixPadding,\n    controlWidth,\n    borderRadiusLG,\n    borderRadiusSM\n  } = token;\n  return {\n    [`${componentCls}-affix-wrapper`]: Object.assign(Object.assign(Object.assign({}, genBasicInputStyle(token)), genStatusStyle(token, `${componentCls}-affix-wrapper`)), {\n      // or number handler will cover form status\n      position: 'relative',\n      display: 'inline-flex',\n      width: controlWidth,\n      padding: 0,\n      paddingInlineStart: paddingInline,\n      '&-lg': {\n        borderRadius: borderRadiusLG\n      },\n      '&-sm': {\n        borderRadius: borderRadiusSM\n      },\n      [`&:not(${componentCls}-affix-wrapper-disabled):hover`]: Object.assign(Object.assign({}, genHoverStyle(token)), {\n        zIndex: 1\n      }),\n      '&-focused, &:focus': {\n        zIndex: 1\n      },\n      [`&-disabled > ${componentCls}-disabled`]: {\n        background: 'transparent'\n      },\n      [`> div${componentCls}`]: {\n        width: '100%',\n        border: 'none',\n        outline: 'none',\n        [`&${componentCls}-focused`]: {\n          boxShadow: 'none !important'\n        }\n      },\n      [`input${componentCls}-input`]: {\n        padding: `${paddingBlock}px 0`\n      },\n      '&::before': {\n        display: 'inline-block',\n        width: 0,\n        visibility: 'hidden',\n        content: '\"\\\\a0\"'\n      },\n      [`${componentCls}-handler-wrap`]: {\n        zIndex: 2\n      },\n      [componentCls]: {\n        '&-prefix, &-suffix': {\n          display: 'flex',\n          flex: 'none',\n          alignItems: 'center',\n          pointerEvents: 'none'\n        },\n        '&-prefix': {\n          marginInlineEnd: inputAffixPadding\n        },\n        '&-suffix': {\n          position: 'absolute',\n          insetBlockStart: 0,\n          insetInlineEnd: 0,\n          zIndex: 1,\n          height: '100%',\n          marginInlineEnd: paddingInline,\n          marginInlineStart: inputAffixPadding\n        }\n      }\n    })\n  };\n};\n// ============================== Export ==============================\nexport default genComponentStyleHook('InputNumber', token => {\n  const inputNumberToken = mergeToken(token, initInputToken(token));\n  return [genInputNumberStyles(inputNumberToken), genAffixWrapperStyles(inputNumberToken),\n  // =====================================================\n  // ==             Space Compact                       ==\n  // =====================================================\n  genCompactItemStyle(inputNumberToken)];\n}, token => Object.assign(Object.assign({}, initComponentToken(token)), {\n  controlWidth: 90,\n  handleWidth: token.controlHeightSM - token.lineWidth * 2,\n  handleFontSize: token.fontSize / 2,\n  handleVisible: 'auto',\n  handleActiveBg: token.colorFillAlter,\n  handleBg: token.colorBgContainer,\n  handleHoverColor: token.colorPrimary,\n  handleBorderColor: token.colorBorder\n}));","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport DownOutlined from \"@ant-design/icons/es/icons/DownOutlined\";\nimport UpOutlined from \"@ant-design/icons/es/icons/UpOutlined\";\nimport classNames from 'classnames';\nimport RcInputNumber from 'rc-input-number';\nimport * as React from 'react';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\nimport ConfigProvider, { ConfigContext } from '../config-provider';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport useSize from '../config-provider/hooks/useSize';\nimport { FormItemInputContext, NoFormStyle } from '../form/context';\nimport { NoCompactStyle, useCompactItemContext } from '../space/Compact';\nimport useStyle from './style';\nconst InputNumber = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    getPrefixCls,\n    direction\n  } = React.useContext(ConfigContext);\n  const inputRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => inputRef.current);\n  const {\n      className,\n      rootClassName,\n      size: customizeSize,\n      disabled: customDisabled,\n      prefixCls: customizePrefixCls,\n      addonBefore,\n      addonAfter,\n      prefix,\n      bordered = true,\n      readOnly,\n      status: customStatus,\n      controls\n    } = props,\n    others = __rest(props, [\"className\", \"rootClassName\", \"size\", \"disabled\", \"prefixCls\", \"addonBefore\", \"addonAfter\", \"prefix\", \"bordered\", \"readOnly\", \"status\", \"controls\"]);\n  const prefixCls = getPrefixCls('input-number', customizePrefixCls);\n  // Style\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const {\n    compactSize,\n    compactItemClassnames\n  } = useCompactItemContext(prefixCls, direction);\n  let upIcon = /*#__PURE__*/React.createElement(UpOutlined, {\n    className: `${prefixCls}-handler-up-inner`\n  });\n  let downIcon = /*#__PURE__*/React.createElement(DownOutlined, {\n    className: `${prefixCls}-handler-down-inner`\n  });\n  const controlsTemp = typeof controls === 'boolean' ? controls : undefined;\n  if (typeof controls === 'object') {\n    upIcon = typeof controls.upIcon === 'undefined' ? upIcon : /*#__PURE__*/React.createElement(\"span\", {\n      className: `${prefixCls}-handler-up-inner`\n    }, controls.upIcon);\n    downIcon = typeof controls.downIcon === 'undefined' ? downIcon : /*#__PURE__*/React.createElement(\"span\", {\n      className: `${prefixCls}-handler-down-inner`\n    }, controls.downIcon);\n  }\n  const {\n    hasFeedback,\n    status: contextStatus,\n    isFormItemInput,\n    feedbackIcon\n  } = React.useContext(FormItemInputContext);\n  const mergedStatus = getMergedStatus(contextStatus, customStatus);\n  const mergedSize = useSize(ctx => {\n    var _a;\n    return (_a = customizeSize !== null && customizeSize !== void 0 ? customizeSize : compactSize) !== null && _a !== void 0 ? _a : ctx;\n  });\n  // ===================== Disabled =====================\n  const disabled = React.useContext(DisabledContext);\n  const mergedDisabled = customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled;\n  const inputNumberClass = classNames({\n    [`${prefixCls}-lg`]: mergedSize === 'large',\n    [`${prefixCls}-sm`]: mergedSize === 'small',\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-borderless`]: !bordered,\n    [`${prefixCls}-in-form-item`]: isFormItemInput\n  }, getStatusClassNames(prefixCls, mergedStatus), compactItemClassnames, hashId);\n  const wrapperClassName = `${prefixCls}-group`;\n  const element = /*#__PURE__*/React.createElement(RcInputNumber, Object.assign({\n    ref: inputRef,\n    disabled: mergedDisabled,\n    className: classNames(className, rootClassName),\n    upHandler: upIcon,\n    downHandler: downIcon,\n    prefixCls: prefixCls,\n    readOnly: readOnly,\n    controls: controlsTemp,\n    prefix: prefix,\n    suffix: hasFeedback && feedbackIcon,\n    addonAfter: addonAfter && /*#__PURE__*/React.createElement(NoCompactStyle, null, /*#__PURE__*/React.createElement(NoFormStyle, {\n      override: true,\n      status: true\n    }, addonAfter)),\n    addonBefore: addonBefore && /*#__PURE__*/React.createElement(NoCompactStyle, null, /*#__PURE__*/React.createElement(NoFormStyle, {\n      override: true,\n      status: true\n    }, addonBefore)),\n    classNames: {\n      input: inputNumberClass\n    },\n    classes: {\n      affixWrapper: classNames(getStatusClassNames(`${prefixCls}-affix-wrapper`, mergedStatus, hasFeedback), {\n        [`${prefixCls}-affix-wrapper-sm`]: mergedSize === 'small',\n        [`${prefixCls}-affix-wrapper-lg`]: mergedSize === 'large',\n        [`${prefixCls}-affix-wrapper-rtl`]: direction === 'rtl',\n        [`${prefixCls}-affix-wrapper-borderless`]: !bordered\n      }, hashId),\n      wrapper: classNames({\n        [`${wrapperClassName}-rtl`]: direction === 'rtl',\n        [`${prefixCls}-wrapper-disabled`]: mergedDisabled\n      }, hashId),\n      group: classNames({\n        [`${prefixCls}-group-wrapper-sm`]: mergedSize === 'small',\n        [`${prefixCls}-group-wrapper-lg`]: mergedSize === 'large',\n        [`${prefixCls}-group-wrapper-rtl`]: direction === 'rtl'\n      }, getStatusClassNames(`${prefixCls}-group-wrapper`, mergedStatus, hasFeedback), hashId)\n    }\n  }, others));\n  return wrapSSR(element);\n});\nconst TypedInputNumber = InputNumber;\n/** @private Internal Component. Do not use in your production. */\nconst PureInputNumber = props => /*#__PURE__*/React.createElement(ConfigProvider, {\n  theme: {\n    components: {\n      InputNumber: {\n        handleVisible: true\n      }\n    }\n  }\n}, /*#__PURE__*/React.createElement(InputNumber, Object.assign({}, props)));\nif (process.env.NODE_ENV !== 'production') {\n  TypedInputNumber.displayName = 'InputNumber';\n}\nTypedInputNumber._InternalPanelDoNotUseOrYouWillBeFired = PureInputNumber;\nexport default TypedInputNumber;","/* eslint-disable import/prefer-default-export, prefer-destructuring */\nimport { generate } from '@ant-design/colors';\nimport { TinyColor } from '@ctrl/tinycolor';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport warning from '../_util/warning';\nconst dynamicStyleMark = `-ant-${Date.now()}-${Math.random()}`;\nexport function getStyle(globalPrefixCls, theme) {\n  const variables = {};\n  const formatColor = (color, updater) => {\n    let clone = color.clone();\n    clone = (updater === null || updater === void 0 ? void 0 : updater(clone)) || clone;\n    return clone.toRgbString();\n  };\n  const fillColor = (colorVal, type) => {\n    const baseColor = new TinyColor(colorVal);\n    const colorPalettes = generate(baseColor.toRgbString());\n    variables[`${type}-color`] = formatColor(baseColor);\n    variables[`${type}-color-disabled`] = colorPalettes[1];\n    variables[`${type}-color-hover`] = colorPalettes[4];\n    variables[`${type}-color-active`] = colorPalettes[6];\n    variables[`${type}-color-outline`] = baseColor.clone().setAlpha(0.2).toRgbString();\n    variables[`${type}-color-deprecated-bg`] = colorPalettes[0];\n    variables[`${type}-color-deprecated-border`] = colorPalettes[2];\n  };\n  // ================ Primary Color ================\n  if (theme.primaryColor) {\n    fillColor(theme.primaryColor, 'primary');\n    const primaryColor = new TinyColor(theme.primaryColor);\n    const primaryColors = generate(primaryColor.toRgbString());\n    // Legacy - We should use semantic naming standard\n    primaryColors.forEach((color, index) => {\n      variables[`primary-${index + 1}`] = color;\n    });\n    // Deprecated\n    variables['primary-color-deprecated-l-35'] = formatColor(primaryColor, c => c.lighten(35));\n    variables['primary-color-deprecated-l-20'] = formatColor(primaryColor, c => c.lighten(20));\n    variables['primary-color-deprecated-t-20'] = formatColor(primaryColor, c => c.tint(20));\n    variables['primary-color-deprecated-t-50'] = formatColor(primaryColor, c => c.tint(50));\n    variables['primary-color-deprecated-f-12'] = formatColor(primaryColor, c => c.setAlpha(c.getAlpha() * 0.12));\n    const primaryActiveColor = new TinyColor(primaryColors[0]);\n    variables['primary-color-active-deprecated-f-30'] = formatColor(primaryActiveColor, c => c.setAlpha(c.getAlpha() * 0.3));\n    variables['primary-color-active-deprecated-d-02'] = formatColor(primaryActiveColor, c => c.darken(2));\n  }\n  // ================ Success Color ================\n  if (theme.successColor) {\n    fillColor(theme.successColor, 'success');\n  }\n  // ================ Warning Color ================\n  if (theme.warningColor) {\n    fillColor(theme.warningColor, 'warning');\n  }\n  // ================= Error Color =================\n  if (theme.errorColor) {\n    fillColor(theme.errorColor, 'error');\n  }\n  // ================= Info Color ==================\n  if (theme.infoColor) {\n    fillColor(theme.infoColor, 'info');\n  }\n  // Convert to css variables\n  const cssList = Object.keys(variables).map(key => `--${globalPrefixCls}-${key}: ${variables[key]};`);\n  return `\n  :root {\n    ${cssList.join('\\n')}\n  }\n  `.trim();\n}\nexport function registerTheme(globalPrefixCls, theme) {\n  const style = getStyle(globalPrefixCls, theme);\n  if (canUseDom()) {\n    updateCSS(style, `${dynamicStyleMark}-dynamic-theme`);\n  } else {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', 'SSR do not support dynamic theme with css variables.') : void 0;\n  }\n}","import { useContext } from 'react';\nimport DisabledContext from '../DisabledContext';\nimport SizeContext from '../SizeContext';\nfunction useConfig() {\n  const componentDisabled = useContext(DisabledContext);\n  const componentSize = useContext(SizeContext);\n  return {\n    componentDisabled,\n    componentSize\n  };\n}\nexport default useConfig;","\"use client\";\n\nimport { Provider as MotionProvider } from 'rc-motion';\nimport * as React from 'react';\nimport { useToken } from '../theme/internal';\nexport default function MotionWrapper(props) {\n  const {\n    children\n  } = props;\n  const [, token] = useToken();\n  const {\n    motion\n  } = token;\n  const needWrapMotionProviderRef = React.useRef(false);\n  needWrapMotionProviderRef.current = needWrapMotionProviderRef.current || motion === false;\n  if (needWrapMotionProviderRef.current) {\n    return /*#__PURE__*/React.createElement(MotionProvider, {\n      motion: motion\n    }, children);\n  }\n  return children;\n}","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { createTheme } from '@ant-design/cssinjs';\nimport IconContext from \"@ant-design/icons/es/components/Context\";\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport { merge } from \"rc-util/es/utils/set\";\nimport * as React from 'react';\nimport warning from '../_util/warning';\nimport ValidateMessagesContext from '../form/validateMessagesContext';\nimport LocaleProvider, { ANT_MARK } from '../locale';\nimport LocaleContext from '../locale/context';\nimport defaultLocale from '../locale/en_US';\nimport { DesignTokenContext } from '../theme/internal';\nimport defaultSeedToken from '../theme/themes/seed';\nimport { ConfigConsumer, ConfigContext, defaultIconPrefixCls } from './context';\nimport { registerTheme } from './cssVariables';\nimport { DisabledContextProvider } from './DisabledContext';\nimport useConfig from './hooks/useConfig';\nimport useTheme from './hooks/useTheme';\nimport MotionWrapper from './MotionWrapper';\nimport SizeContext, { SizeContextProvider } from './SizeContext';\nimport useStyle from './style';\nimport { defaultTheme } from '../theme/context';\n/**\n * Since too many feedback using static method like `Modal.confirm` not getting theme, we record the\n * theme register info here to help developer get warning info.\n */\nlet existThemeConfig = false;\nexport const warnContext = process.env.NODE_ENV !== 'production' ? componentName => {\n  process.env.NODE_ENV !== \"production\" ? warning(!existThemeConfig, componentName, `Static function can not consume context like dynamic theme. Please use 'App' component instead.`) : void 0;\n} : /* istanbul ignore next */\nnull;\nexport { ConfigConsumer, ConfigContext, defaultIconPrefixCls };\nexport const configConsumerProps = ['getTargetContainer', 'getPopupContainer', 'rootPrefixCls', 'getPrefixCls', 'renderEmpty', 'csp', 'autoInsertSpaceInButton', 'locale', 'pageHeader'];\n// These props is used by `useContext` directly in sub component\nconst PASSED_PROPS = ['getTargetContainer', 'getPopupContainer', 'renderEmpty', 'pageHeader', 'input', 'pagination', 'form', 'select', 'button'];\nexport const defaultPrefixCls = 'ant';\nlet globalPrefixCls;\nlet globalIconPrefixCls;\nlet globalTheme;\nfunction getGlobalPrefixCls() {\n  return globalPrefixCls || defaultPrefixCls;\n}\nfunction getGlobalIconPrefixCls() {\n  return globalIconPrefixCls || defaultIconPrefixCls;\n}\nfunction isLegacyTheme(theme) {\n  return Object.keys(theme).some(key => key.endsWith('Color'));\n}\nconst setGlobalConfig = _ref => {\n  let {\n    prefixCls,\n    iconPrefixCls,\n    theme\n  } = _ref;\n  if (prefixCls !== undefined) {\n    globalPrefixCls = prefixCls;\n  }\n  if (iconPrefixCls !== undefined) {\n    globalIconPrefixCls = iconPrefixCls;\n  }\n  if (theme) {\n    if (isLegacyTheme(theme)) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', '`config` of css variable theme is not work in v5. Please use new `theme` config instead.') : void 0;\n      registerTheme(getGlobalPrefixCls(), theme);\n    } else {\n      globalTheme = theme;\n    }\n  }\n};\nexport const globalConfig = () => ({\n  getPrefixCls: (suffixCls, customizePrefixCls) => {\n    if (customizePrefixCls) {\n      return customizePrefixCls;\n    }\n    return suffixCls ? `${getGlobalPrefixCls()}-${suffixCls}` : getGlobalPrefixCls();\n  },\n  getIconPrefixCls: getGlobalIconPrefixCls,\n  getRootPrefixCls: () => {\n    // If Global prefixCls provided, use this\n    if (globalPrefixCls) {\n      return globalPrefixCls;\n    }\n    // Fallback to default prefixCls\n    return getGlobalPrefixCls();\n  },\n  getTheme: () => globalTheme\n});\nconst ProviderChildren = props => {\n  const {\n    children,\n    csp: customCsp,\n    autoInsertSpaceInButton,\n    alert,\n    anchor,\n    form,\n    locale,\n    componentSize,\n    direction,\n    space,\n    virtual,\n    dropdownMatchSelectWidth,\n    popupMatchSelectWidth,\n    popupOverflow,\n    legacyLocale,\n    parentContext,\n    iconPrefixCls: customIconPrefixCls,\n    theme,\n    componentDisabled,\n    segmented,\n    statistic,\n    spin,\n    calendar,\n    carousel,\n    cascader,\n    collapse,\n    typography,\n    checkbox,\n    descriptions,\n    divider,\n    drawer,\n    skeleton,\n    steps,\n    image,\n    layout,\n    list,\n    mentions,\n    modal,\n    progress,\n    result,\n    slider,\n    breadcrumb,\n    menu,\n    pagination,\n    input,\n    empty,\n    badge,\n    radio,\n    rate,\n    switch: SWITCH,\n    transfer,\n    avatar,\n    message,\n    tag,\n    table,\n    card,\n    tabs,\n    timeline,\n    timePicker,\n    upload,\n    notification,\n    tree,\n    colorPicker,\n    datePicker,\n    wave\n  } = props;\n  // =================================== Warning ===================================\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(dropdownMatchSelectWidth === undefined, 'ConfigProvider', '`dropdownMatchSelectWidth` is deprecated. Please use `popupMatchSelectWidth` instead.') : void 0;\n  }\n  // =================================== Context ===================================\n  const getPrefixCls = React.useCallback((suffixCls, customizePrefixCls) => {\n    const {\n      prefixCls\n    } = props;\n    if (customizePrefixCls) {\n      return customizePrefixCls;\n    }\n    const mergedPrefixCls = prefixCls || parentContext.getPrefixCls('');\n    return suffixCls ? `${mergedPrefixCls}-${suffixCls}` : mergedPrefixCls;\n  }, [parentContext.getPrefixCls, props.prefixCls]);\n  const iconPrefixCls = customIconPrefixCls || parentContext.iconPrefixCls || defaultIconPrefixCls;\n  const shouldWrapSSR = iconPrefixCls !== parentContext.iconPrefixCls;\n  const csp = customCsp || parentContext.csp;\n  const wrapSSR = useStyle(iconPrefixCls, csp);\n  const mergedTheme = useTheme(theme, parentContext.theme);\n  if (process.env.NODE_ENV !== 'production') {\n    existThemeConfig = existThemeConfig || !!mergedTheme;\n  }\n  const baseConfig = {\n    csp,\n    autoInsertSpaceInButton,\n    alert,\n    anchor,\n    locale: locale || legacyLocale,\n    direction,\n    space,\n    virtual,\n    popupMatchSelectWidth: popupMatchSelectWidth !== null && popupMatchSelectWidth !== void 0 ? popupMatchSelectWidth : dropdownMatchSelectWidth,\n    popupOverflow,\n    getPrefixCls,\n    iconPrefixCls,\n    theme: mergedTheme,\n    segmented,\n    statistic,\n    spin,\n    calendar,\n    carousel,\n    cascader,\n    collapse,\n    typography,\n    checkbox,\n    descriptions,\n    divider,\n    drawer,\n    skeleton,\n    steps,\n    image,\n    input,\n    layout,\n    list,\n    mentions,\n    modal,\n    progress,\n    result,\n    slider,\n    breadcrumb,\n    menu,\n    pagination,\n    empty,\n    badge,\n    radio,\n    rate,\n    switch: SWITCH,\n    transfer,\n    avatar,\n    message,\n    tag,\n    table,\n    card,\n    tabs,\n    timeline,\n    timePicker,\n    upload,\n    notification,\n    tree,\n    colorPicker,\n    datePicker,\n    wave\n  };\n  const config = Object.assign({}, parentContext);\n  Object.keys(baseConfig).forEach(key => {\n    if (baseConfig[key] !== undefined) {\n      config[key] = baseConfig[key];\n    }\n  });\n  // Pass the props used by `useContext` directly with child component.\n  // These props should merged into `config`.\n  PASSED_PROPS.forEach(propName => {\n    const propValue = props[propName];\n    if (propValue) {\n      config[propName] = propValue;\n    }\n  });\n  // https://github.com/ant-design/ant-design/issues/27617\n  const memoedConfig = useMemo(() => config, config, (prevConfig, currentConfig) => {\n    const prevKeys = Object.keys(prevConfig);\n    const currentKeys = Object.keys(currentConfig);\n    return prevKeys.length !== currentKeys.length || prevKeys.some(key => prevConfig[key] !== currentConfig[key]);\n  });\n  const memoIconContextValue = React.useMemo(() => ({\n    prefixCls: iconPrefixCls,\n    csp\n  }), [iconPrefixCls, csp]);\n  let childNode = shouldWrapSSR ? wrapSSR(children) : children;\n  const validateMessages = React.useMemo(() => {\n    var _a, _b, _c, _d;\n    return merge(((_a = defaultLocale.Form) === null || _a === void 0 ? void 0 : _a.defaultValidateMessages) || {}, ((_c = (_b = memoedConfig.locale) === null || _b === void 0 ? void 0 : _b.Form) === null || _c === void 0 ? void 0 : _c.defaultValidateMessages) || {}, ((_d = memoedConfig.form) === null || _d === void 0 ? void 0 : _d.validateMessages) || {}, (form === null || form === void 0 ? void 0 : form.validateMessages) || {});\n  }, [memoedConfig, form === null || form === void 0 ? void 0 : form.validateMessages]);\n  if (Object.keys(validateMessages).length > 0) {\n    childNode = /*#__PURE__*/React.createElement(ValidateMessagesContext.Provider, {\n      value: validateMessages\n    }, children);\n  }\n  if (locale) {\n    childNode = /*#__PURE__*/React.createElement(LocaleProvider, {\n      locale: locale,\n      _ANT_MARK__: ANT_MARK\n    }, childNode);\n  }\n  if (iconPrefixCls || csp) {\n    childNode = /*#__PURE__*/React.createElement(IconContext.Provider, {\n      value: memoIconContextValue\n    }, childNode);\n  }\n  if (componentSize) {\n    childNode = /*#__PURE__*/React.createElement(SizeContextProvider, {\n      size: componentSize\n    }, childNode);\n  }\n  // =================================== Motion ===================================\n  childNode = /*#__PURE__*/React.createElement(MotionWrapper, null, childNode);\n  // ================================ Dynamic theme ================================\n  const memoTheme = React.useMemo(() => {\n    const _a = mergedTheme || {},\n      {\n        algorithm,\n        token,\n        components\n      } = _a,\n      rest = __rest(_a, [\"algorithm\", \"token\", \"components\"]);\n    const themeObj = algorithm && (!Array.isArray(algorithm) || algorithm.length > 0) ? createTheme(algorithm) : defaultTheme;\n    const parsedComponents = {};\n    Object.entries(components || {}).forEach(_ref2 => {\n      let [componentName, componentToken] = _ref2;\n      const parsedToken = Object.assign({}, componentToken);\n      if ('algorithm' in parsedToken) {\n        if (parsedToken.algorithm === true) {\n          parsedToken.theme = themeObj;\n        } else if (Array.isArray(parsedToken.algorithm) || typeof parsedToken.algorithm === 'function') {\n          parsedToken.theme = createTheme(parsedToken.algorithm);\n        }\n        delete parsedToken.algorithm;\n      }\n      parsedComponents[componentName] = parsedToken;\n    });\n    return Object.assign(Object.assign({}, rest), {\n      theme: themeObj,\n      token: Object.assign(Object.assign({}, defaultSeedToken), token),\n      components: parsedComponents\n    });\n  }, [mergedTheme]);\n  if (theme) {\n    childNode = /*#__PURE__*/React.createElement(DesignTokenContext.Provider, {\n      value: memoTheme\n    }, childNode);\n  }\n  // =================================== Render ===================================\n  if (componentDisabled !== undefined) {\n    childNode = /*#__PURE__*/React.createElement(DisabledContextProvider, {\n      disabled: componentDisabled\n    }, childNode);\n  }\n  return /*#__PURE__*/React.createElement(ConfigContext.Provider, {\n    value: memoedConfig\n  }, childNode);\n};\nconst ConfigProvider = props => {\n  const context = React.useContext(ConfigContext);\n  const antLocale = React.useContext(LocaleContext);\n  return /*#__PURE__*/React.createElement(ProviderChildren, Object.assign({\n    parentContext: context,\n    legacyLocale: antLocale\n  }, props));\n};\nConfigProvider.ConfigContext = ConfigContext;\nConfigProvider.SizeContext = SizeContext;\nConfigProvider.config = setGlobalConfig;\nConfigProvider.useConfig = useConfig;\nObject.defineProperty(ConfigProvider, 'SizeContext', {\n  get: () => {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', 'ConfigProvider.SizeContext is deprecated. Please use `ConfigProvider.useConfig().componentSize` instead.') : void 0;\n    return SizeContext;\n  }\n});\nif (process.env.NODE_ENV !== 'production') {\n  ConfigProvider.displayName = 'ConfigProvider';\n}\nexport default ConfigProvider;","import useMemo from \"rc-util/es/hooks/useMemo\";\nimport isEqual from \"rc-util/es/isEqual\";\nimport { defaultConfig } from '../../theme/internal';\nexport default function useTheme(theme, parentTheme) {\n  const themeConfig = theme || {};\n  const parentThemeConfig = themeConfig.inherit === false || !parentTheme ? defaultConfig : parentTheme;\n  return useMemo(() => {\n    if (!theme) {\n      return parentTheme;\n    }\n    // Override\n    const mergedComponents = Object.assign({}, parentThemeConfig.components);\n    Object.keys(theme.components || {}).forEach(componentName => {\n      mergedComponents[componentName] = Object.assign(Object.assign({}, mergedComponents[componentName]), theme.components[componentName]);\n    });\n    // Base token\n    return Object.assign(Object.assign(Object.assign({}, parentThemeConfig), themeConfig), {\n      token: Object.assign(Object.assign({}, parentThemeConfig.token), themeConfig.token),\n      components: mergedComponents\n    });\n  }, [themeConfig, parentThemeConfig], (prev, next) => prev.some((prevTheme, index) => {\n    const nextTheme = next[index];\n    return !isEqual(prevTheme, nextTheme, true);\n  }));\n}"],"sourceRoot":""}