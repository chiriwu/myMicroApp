{"version":3,"sources":["../node_modules/xgplayer/es/utils/xgplayerTimeRange.js","../node_modules/xgplayer/es/utils/util.js","../node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/xgplayer/es/plugin/plugin.js","../node_modules/xgplayer/es/utils/debug.js","../node_modules/xgplayer/es/events.js","../node_modules/xgplayer/es/utils/sniffer.js","../node_modules/xgplayer/es/plugin/basePlugin.js","../node_modules/xgplayer/es/stateClassMap.js","../node_modules/xgplayer/es/error.js","../node_modules/xgplayer/es/lang/i18n.js","../node_modules/xgplayer/es/lang/en.js","../node_modules/xgplayer/es/state.js","../node_modules/delegate/src/delegate.js","../node_modules/eventemitter3/index.js","../node_modules/xgplayer/es/lang/zh-cn.js","../node_modules/xgplayer/es/plugins/logger/index.js","../node_modules/xgplayer/es/plugins/assets/replay.js","../node_modules/xgplayer/es/plugins/replay/index.js","../node_modules/xgplayer/es/plugins/poster/index.js","../node_modules/xgplayer/es/plugins/assets/play.js","../node_modules/xgplayer/es/plugins/assets/pause.js","../node_modules/xgplayer/es/plugins/start/index.js","../node_modules/xgplayer/es/plugins/enter/index.js","../node_modules/xgplayer/es/plugins/common/iconTools.js","../node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","../node_modules/xgplayer/es/utils/draggabilly.js","../node_modules/xgplayer/es/plugins/miniScreen/index.js","../node_modules/xgplayer/es/plugins/pc/index.js","../node_modules/xgplayer/es/plugins/mobile/touch.js","../node_modules/xgplayer/es/plugins/assets/seekicon.js","../node_modules/xgplayer/es/plugins/mobile/index.js","../node_modules/xgplayer/es/plugins/keyboard/index.js","../node_modules/xgplayer/es/plugins/assets/loading.js","../node_modules/xgplayer/es/plugins/loading/index.js","../node_modules/xgplayer/es/plugins/progress/innerList.js","../node_modules/xgplayer/es/plugins/progress/index.js","../node_modules/xgplayer/es/plugins/common/iconPlugin.js","../node_modules/xgplayer/es/plugins/play/index.js","../node_modules/xgplayer/es/plugins/assets/back.js","../node_modules/xgplayer/es/plugins/fullscreen/backicon.js","../node_modules/xgplayer/es/plugins/assets/requestFull.js","../node_modules/xgplayer/es/plugins/assets/exitFull.js","../node_modules/xgplayer/es/plugins/fullscreen/index.js","../node_modules/xgplayer/es/plugins/time/index.js","../node_modules/xgplayer/es/plugins/time/timesegments.js","../node_modules/xgplayer/es/plugins/assets/volumeLarge.js","../node_modules/xgplayer/es/plugins/assets/volumeSmall.js","../node_modules/xgplayer/es/plugins/assets/volumeMuted.js","../node_modules/xgplayer/es/plugins/volume/index.js","../node_modules/xgplayer/es/plugins/assets/rotate.js","../node_modules/xgplayer/es/plugins/rotate/index.js","../node_modules/xgplayer/es/plugins/assets/pipIcon.js","../node_modules/xgplayer/es/plugins/assets/pipIconExit.js","../node_modules/xgplayer/es/plugins/pip/index.js","../node_modules/xgplayer/es/plugins/assets/playNext.js","../node_modules/xgplayer/es/plugins/playNext/index.js","../node_modules/xgplayer/es/plugins/assets/download.js","../node_modules/xgplayer/es/plugins/download/index.js","../node_modules/xgplayer/es/plugins/screenShot/index.js","../node_modules/xgplayer/es/plugins/common/optionList.js","../node_modules/xgplayer/es/plugins/common/optionsIcon.js","../node_modules/xgplayer/es/plugins/definition/index.js","../node_modules/xgplayer/es/plugins/playbackRate/index.js","../node_modules/xgplayer/es/plugins/assets/requestCssFull.js","../node_modules/xgplayer/es/plugins/assets/exitCssFull.js","../node_modules/xgplayer/es/plugins/cssFullScreen/index.js","../node_modules/xgplayer/es/plugins/error/index.js","../node_modules/xgplayer/es/plugins/prompt/index.js","../node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","../node_modules/xgplayer/es/plugins/progressPreview/index.js","../node_modules/xgplayer/es/plugins/common/thumbnail.js","../node_modules/xgplayer/es/plugins/progress/miniProgress.js","../node_modules/xgplayer/es/plugins/dynamicBg/index.js","../node_modules/xgplayer/es/plugins/stats/index.js","../node_modules/xgplayer/es/plugins/gapJump/index.js","../node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","../node_modules/xgplayer/es/plugins/testspeed/index.js","../node_modules/xgplayer/es/plugins/fpsDetect/index.js","../node_modules/xgplayer/es/presets/default.js","../node_modules/xgplayer/es/mediaProxy.js","../node_modules/xgplayer/es/utils/database.js","../node_modules/xgplayer/es/constant.js","../node_modules/xgplayer/es/plugin/resizeObserver.js","../node_modules/xgplayer/es/plugin/pluginsManager.js","../node_modules/xgplayer/es/defaultConfig.js","../node_modules/xgplayer/es/plugin/preset.js","../node_modules/xgplayer/es/plugins/controls/index.js","../node_modules/xgplayer/es/player.js","../node_modules/xgplayer/es/index.umd.js","../node_modules/xgplayer/es/plugin/hooksDescriptor.js","../node_modules/xgplayer/es/version.js","../node_modules/delegate/src/closest.js","../node_modules/downloadjs/download.js"],"names":["XgplayerTimeRange","XgplayerTimeRange2","bufferedList","_classCallCheck","this","_createClass","key","value","index","start","end","get","length","util","checkIsIn","list","i","len","indexOf","isObject","type","_typeof","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","window","requestAnimationFrame","TypeError","invokeFunc","time","args","thisArg","apply","startTimer","pendingFunc","wait2","cancelAnimationFrame","setTimeout","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","Date","now","trailingEdge","timeSinceLastInvoke","timeWaiting","Math","min","remainingWait","debounced","isInvoking","_len2","arguments","Array","_key","max","cancel","id","clearTimeout","cancelTimer","flush","pending","throttle","getLang","lang","document","documentElement","getAttribute","navigator","language","toLocaleLowerCase","checkIsCurrentVideo","element","playerId","pid","tagName","createDom","el","tpl","attrs","cname","dom","createElement","className","innerHTML","Object","keys","forEach","item","setAttribute","createDomFromHtml","html","classname","doc","children","addClass","err","XG_DEBUG","logError","hasClass","prototype","some","call","classList","e","orgClassName","match","RegExp","replace","split","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","push","map","join","findDom","sel","querySelector","getElementById","slice","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","String","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","target","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","obj","toString","deepCopy","dst","src","Node","concat","deepMerge","_dst$key","_toConsumableArray","getBgImage","url","backgroundImage","a","href","copyDom","nodeType","back","attributes","node","name","setInterval","context","eventName","intervalFunc","frequency","_interval","bind","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","h","unit","btn","style","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","test","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","display","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","arr","filterStyleFromText","_cssText","cssText","styleArr","ret","remain","getStyleFromCsstext","preloadImg","onload","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","body","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","y","callback","_fun","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","uuid","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","root","appendChild","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","stylesKeys","fn","lastIndex","convertDeg","abs","getIndexByTime","segments","_len","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","Symbol","iterator","obj2","constructor","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o2","__proto__","p","p2","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","Super","NewTarget","_superPropBase","property","hasOwnProperty","_get","receiver","base","desc","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","n","_unsupportedIterableToArray","_nonIterableSpread","arr2","arg","input","hint","prim","toPrimitive","res","Number","_toPrimitive","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","isUrl","createIcon","icon","attr","pluginName","newIcon","Element","key2","tag","logWarn","registerIconsObj","iconsConfig","plugin","_icons","config","icons","playerConfig","orgIcon","class","mergeIconClass","mergeIconAttr","Plugin","_BasePlugin","Plugin2","_super","_this","__delegates","_parent","_el","parent","registerIcons","langText","textConfig","defaultTexConfig","registerLanguageTexts","i18n","renderStr","render","Error","message","insert","setAttr","setStyle","__registerChildren","_this2","_children","_Plugin","_plugin","registerPlugin","checkChildren","langKey","langTextShow","toUpperCase","player","_c","qs","eventType","_this3","bindEL","delegate","_this4","unbindEL","destroy","_this5","_this6","htmlStr","eventHandle","isBubble","addEventListener","removeEventListener","getPropertyValue","pdom","child","find","_this7","unRegisterPlugin","parentNode","removeChild","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","_delegate","BasePlugin","XG_DEBUG_OPEN","location","STYLE","info","error","warn","XGTAG","debug","logInfo","_console","optionalParams","console","log","_console2","_key2","_console3","_len3","_key3","bindDebug","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","VERSION_REG","H264_MIMETYPES","sniffer","os","isPc","ua","userAgent","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","_match","exec","version","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","showErrorMsg","msg","BasePlugin2","beforeCreate","hooksDescriptor","__args","__events","__onceEvents","__init","logger","i18nKeys","_e","domEventType","on","once","off","_this$player","emit","action","params","nParams","emitUserAction","hookName","handler","hook","useHooks","removeHooks","getPlugin","offAll","delHooksDescriptor","Obj","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","LOADING","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","ERROR_TYPE_MAP","1","2","3","4","5","6","ERROR_MAP","Errors","Errors2","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","media","ended","_player$media","readyState","networkState","_errc","code","playerVersion","stack","host","_r","ex","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","use","langData","i18nLangs","_clang","LANG","texts","TEXT","network","mse","parse","decoder","runtime","timeout","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","I18N","zh","extend","i18nTextList","lang2","init","_ret$langKeys","pId","STATES","INITIAL","ATTACHING","ATTACHED","NOTALLOW","RUNNING","DESTROYED","STATE_ARRAY","closest","require","selector","useCapture","listenerFn","listener","delegateTarget","module","exports","elements","querySelectorAll","has","prefix","Events","EE","addListener","emitter","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","listeners","handlers","l","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","undefined","j","removeAllListeners","prefixed","ZH","LOG_TYPES","XGLogger","XGLogger2","_state","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","endType","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","data","t","vtype","ReplaySvg","DOMParser","parseFromString","firstChild","Replay","Replay2","replay","__handleReplay","pre","preventDefault","loop","disable","path","transform","unbind","Poster","Poster2","isEndedShow","set","poster","hideCanplay","onTimeUpdate","_bg","_this$config","fillMode","getBgSize","PlaySvg","PauseSvg","AnimateMap","clearAnimation","Start","Start2","autoPlayStart","onPlayPause","initIcons","onAutoplayStart","autoplay","onPlayerReset","clickHandler","switchPausePlay","cancelable","paused","to","startPlay","startPause","isAnimate","endShow","_animateId","seconds","addAnimate","switchStatus","state","play","pause","status","isShowPause","isShowEnd","endAnimate","disableAnimate","animate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","onClick","position","getStyleSize","num","measurements","measurementsLength","getSize","elem","getStyle","size","innerWidth","innerHeight","outerWidth","outerHeight","getZeroSize","offsetWidth","offsetHeight","isBorderBox","boxSizing","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","_EventEmitter","Draggabilly2","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_root","_handlerDom","handle","_bindStartEvent","_startKey","_boundPointerEvents","onUp","positionDrag","webKitTransform","left","top","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","isMini","lastStyle","mini","isShowIcon","controls","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","fluid","isHideTips","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_assertThisInitialize","isActive","focus","autoHide","closeDelayBlur","closeFocusVideoFocus","_assertThisInitialize2","_this$playerConfig","closePlayerBlur","leavePlayerTime","delay","blur","_assertThisInitialize3","closeVideoClick","innerContainer","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","runHooks","switchPlayPause","_assertThisInitialize4","closeVideoDblclick","fullscreen","exitFullscreen","getFullscreen","__hooks","isMobileSimulateMode","device","initEvents","enableContextmenu","onVideoClick","onVideoDblClick","onContextmenu","Infinity","returnValue","cancelBubble","_this$player2","TOUCHS","move","MOUSES","Touche","Touche2","_config","_pos","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","miniStep","pressDelay","dbClickDelay","disablePress","disableDbClick","needPreventDefault","pressIntrvalId","dbIntrvalId","__handlers","_initEvent","onTouchStart","__clearDb","touchend","touchmove","SeekTipIcon","ACTIONS","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","isStart","disableSwipeHandler","rect","getBoundingClientRect","rotateDeg","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","timeOffset","gestureY","gestureX","executeMove","endLastMove","resetSeekState","resetPos","enableSwipeHandler","changeAction","checkIsRootTarget","volume","rate","light","timer","customDuration","seekTipIcon","closedbClick","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","click","doubleclick","disableActive","progressPlugin","plugins","progress","addCallBack","activeSeekNote","forward","thumbnail","usable","createThumbnail","timePreview","commonStyle","playedColor","progressColor","backgroundColor","color","disableTimeProgress","startPlugin","recover","mold","updateTime","updateBrightness","updateVolume","lastScope","seek","toFixed","hideControlsEnd","contains","prop","sendUseAction","focusVideoClick","dbClickHandler","playbackRate","pressRate","percent","updatePercent","isTouchingSeek","maxDarkness","isForward","isLive","focusHide","updateThumbnails","update","gradient","disableSeekIcon","miniYPer","darkness","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","isUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","keyShortcut","seekStep","space","noBodyTarget","up","down","right","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","checkVisible","rec","bottom","isBodyTarget","flag","offsetCurrentTime","offsetDuration","timeSegments","_time","_duration","_step","_seekTime","cssfullscreen","exitCssFullscreen","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TPL","styleKey","InnerList","InnerList2","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedColor","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","played","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","allowSeekAfterEnded","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","onMouseLeave","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","unlock","_this$pos","useable","__dragCallBacks","direc","_disableBlur","innerList","reset","outer","updateFocus","_initInner","isDragingSeek","isMobile","onTimeupdate","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","sliderBtnStyle","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","center","onMouseEnter","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","mediaType","rWidth","rLeft","_this$root$getBoundin","timeIcon","resetActive","notSeek","miniprogress","isSeeking","seeking","hasStart","_end","bufferedPoint","thumbnailPlugin","controlsMode","Icon","Icon2","_onMouseenter","_onMouseLeave","Play","_IconPlugin","Play2","btnClick","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","orientation","setRotateDeg","fullscreenTarget","fullEl","catch","handleFullscreen","toggleFullScreen","isFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","useCssFullscreen","getCssFullscreen","exitRotateFullscreen","getRotateFullscreen","switchCallback","e2","Time","Time2","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","curTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","newConfig","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","muted","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","volumeColor","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","default","$labelValue","vol","innerText","isForce","miniVolume","isShowVolumeValue","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","rHeight","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","pip","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","mediaPlay","enterPIPCallback","pipWindow","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","onFullscreenChange","checkWebkitSetPresentationMode","webkitSetPresentationMode","requestPictureInPicture","reason","exitPictureInPicture","pictureInPictureElement","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","Next","PlayNextIcon","PlayNextIcon2","idx","urlList","nextHandler","playNext","changeSrc","switchURL","DownloadSvg","Download","Download2","isLock","dUrl","newUrl","getAbsoluteURL","downloadUtil","download","_handler","div","ScreenShot","ScreenShot2","screenShot","screenshotIcon","initSize","fitVideo","vWidth","vHeight","onClickBtn","filename","saveLink","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","then","saveScreenShot","option","quality","reject","createCanvas","dx","dy","dw","dh","mediaRatio","videoWidth","videoHeight","canvasRatio","sw","sh","drawImage","toDataURL","OptionList","OptionList2","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","changeCallback","curSelected","getAttrObj","LIST_TYPES","TOGGLE_MODES","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","listType","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_maxH","heightLimit","listStyle","DefinitionIcon","_OptionsIcon","DefinitionIcon2","isPaused","definition","changeDefinitionList","definitionList","defaultDefinition","changeDefinition","targetDef","items","showItem","defaultConfig","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","cssFullscreen","isCssfullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","ErrorPlugin2","errorRetry","onError","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","detail","interval","highlight","hideinterval","removeAttribute","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","cur","updateDot","needShow","dot","showDot","deleteDot","del","parentElement","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","sizeInfo","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","f","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","ispots","progressDot","initDotsAPI","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","setConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","textContent","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","urls","_this$config2","containerWidth","containerHeight","_this$config3","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","_this$config4","getPosition","preload","getBgColor","MiniProgress","MiniProgress2","_style","MODES","nowTime","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","pi","renderByPoster","onLoadedData","onVisibilitychange","reRender","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_p","_tVideo","HTMLVideoElement","flyVideo","browser","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","checkIsSupportCanvas","STATS_EVENTS$1","Stats","Stats2","actionData","_getTime","payload","assign","_stats","stats","getStats","blob","Blob","JSON","stringify","downloadUrl","URL","createObjectURL","link","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","dur","cat","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","vid","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","onWaiting","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","total","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","XMLHttpRequest","open","headers","Range","k","setRequestHeader","onreadystatechange","getResponseHeader","send","saveSpeedMax","shift","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","getVideoPlaybackQuality","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","curDecodedFrames","totalVideoFrames","droppedVideoFrames","checkInterval","hidden","enoughBuffer","bufs","stuckCount","_reset","reportFrame","_this$player$media$ge","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","contolsIcons","layers","ignores","emitVideoEvent","eventKey","errorHandler","getVideoEventHandler","_err","eData","originalEvent","timeStamp","isInternalOp","_internalOp","removeInnerOP","_currentTime","_rate","isMutedChange","_lastMuted","mediaEventMiddleware","MediaProxy","MediaProxy2","_hasStart","mediaConfig","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","videoAttributes","playerType","x5VideoPlayerType","isWeixin","autoplayMuted","defaultPlaybackRate","attachVideoEvents","middlewares","_evHandlers","funName","charAt","load","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","detachVideoEvents","range","isTrue","_buffered","crossOrigin","defaultMuted","seekable","_detachSourceEvents","_attachSourceEvents","_get2","_get3","_get4","_get5","_len4","_key4","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","onsuccess","onupgradeneeded","transaction","objectStoreNames","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","ResizeObserver","ResizeObserver2","entries","__runHandler","observer","__trigger","observe","_pid","unobserve","disconnect","resizeObserver","pluginsManager","pluginGroup","cgid","_pluginInfoId","closeResizeObserver","resize","addObserver","_player","_originalOptions","_plugins","checkPlayerRoot","_keys","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","lazyRegister","lazyPlugin","race","loader","__esModule","register","originalOptions","isSupported","codecType","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","_pList","onPluginsReady","setCurrentUserActive","getCurrentUseActiveId","unObserver","_Object$keys","_isUseActive","isUseActive","getDefaultConfig","nullUrlStart","fitVideoSize","videoFillMode","videoInit","execBeforePluginsCall","closePlayVideoFocus","closePauseVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","preProcessUrl","whitelist","inactive","marginControls","presets","minWaitDelay","Controls","Controls2","innerRoot","ignorePaused","initShow","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","Player","_MediaProxy","Player2","__startTime","_useAutoplay","canPlayFunc","delayResize","_fullActionFrom","isVideo","_fullscreenEl","changeFullStyle","_fullScreenOffset","needFullscreenScroll","scrollTo","recoverFullStyle","defaultPreset","defaultIdx","userTimer","waitTimer","isError","isCanplay","isRotateFullscreen","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","vy","vx","_accPlayed","acc","loopAcc","_offsetInfo","topBar","__i18n","osVersion","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initDOM","_this$config2$definit","defaultDefinitionObj","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","line","_initBaseDoms","XgVideoProxy","_nVideo","_width","_height","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","preset","Preset","_player$config$plugin","_player$config$ignore","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","usePreset","_retPlugin","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_startInit","fileName","lineNumber","_this9","_src","_error","_canplay","_this10","playPromise","_errorTimer","_this11","_this12","_this13","isSeekedPlay","_status","_this14","_this$config5","_this15","bitrate","seamless","reloadFunc","_this16","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_this18","updateAcc","_unbindEvents","cList","_this19","onPlay","_this20","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","_this$config$fullscre2","_rootStyle","deg","onFocus","onBlur","_this21","_ref","_ref$ignorePaused","_this22","_this23","_at","_this$videoPos","_pi","formStyle","webkitTransform","resizePosition","_this24","_this25","_this26","containerSize","_this$media","_this$config6","controlsHeight","videoFit","fit","videoScale","cWidth","cHeight","updateObjectPosition","objectPosition","newState","preProcessUrl2","bool","_this27","curDef","_this27$curDefinition","dropped","corrupted","droppedRate","droppedDuration","_quality","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","_this$_accPlayed","usePluginHooks","removePluginHooks","isMuted","addInnerOP","PresetPlayer","_Player","PresetPlayer2","callHandler","next","args2","_preset$pre","_this$__hooks$hookNam","preRet","isContinue","presetHooks","_len5","_key5","_obj$__hooks$hookName","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","define","strFileName","strMimeType","reader","defaultMime","mimeType","anchor","myBlob","MozBlob","WebKitBlob","pop","ajax","responseType","response","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","revokeObjectURL","confirm","btoa","encodeURIComponent","FileReader","readAsDataURL"],"mappings":"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","file":"static/js/1.c87acb91.chunk.js","sourcesContent":["import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { POSITIONS, ROOT_TYPES, Plugin as default };\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LOADED_DATA, LOADED_METADATA, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this2 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this2.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"container\":\n          _bg = \"container\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      return '<xg-poster class=\"xgplayer-poster '.concat(hideCanplay ? \"xg-showplay\" : \"\", '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.onPlayPause(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.initIcons();\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.onPlayPause(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.onPlayPause(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this2.player.paused;\n          _this2.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this3 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this3.root, \"interact\");\n          _this3.show();\n          _this3.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this3.root, \"interact\");\n          !endShow && _this3.hide();\n          _this3._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n        setTimeout(function() {\n          player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n        }, 10);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.isStart && _this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          progressPlugin.addCallBack(\"dragend\", function() {\n            _this2.changeAction(ACTIONS.AUTO);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n        this.find(\".xg-cur\").style.color = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n        this.find(\".time-preview\").style.color = progressColor;\n      }\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span>/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this3 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this3.keyCodeMap[key] && code === _this3.keyCodeMap[key].keyCode && !_this3.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this3.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this3 = this;\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDragingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var _this$player2 = this.player, controls = _this$player2.controls, config = _this$player2.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n        if (controls) {\n          controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: time\n      }, offsetDuration);\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        cached: 0,\n        played: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      var controls = player.controls;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        if (controls) {\n          controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDragingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    _classCallCheck(this, Play2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.btnClick = this.btnClick.bind(this);\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.on([PAUSE, ERROR, EMPTIED], function() {\n        _this.animate(player.paused);\n      });\n      this.on(PLAY, function() {\n        _this.animate(player.paused);\n      });\n      this.animate(true);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        this.animate(false);\n      } else {\n        player.pause();\n        this.animate(true);\n      }\n      return false;\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"hide\", this).call(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        _this3.pipWindow = e.pictureInPictureWindow;\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var player = this.player, playerConfig = this.playerConfig;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"picture-in-picture\") : player.media.requestPictureInPicture();\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          PIP2.checkWebkitSetPresentationMode(player.media) ? player.media.webkitSetPresentationMode(\"inline\") : document.exitPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var player = this.player;\n      return document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      saveLink.dispatchEvent(event);\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      this.shot().then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        _this.saveScreenShot(data, _this.config.name + _this.config.format);\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          }\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"middle\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).apply(this, arguments);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.show.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    _classCallCheck(this, MiniProgress2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniProgress2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.playerConfig.progress || !this.playerConfig.miniprogress) {\n        return;\n      }\n      var commonStyle = this.playerConfig.commonStyle;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor)\n      };\n      return '<xg-mini-progress class=\"xg-mini-progress\" style=\"'.concat(_style.progress, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = player.media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media;\n      var hidden = document.hidden;\n      var paused = media.paused;\n      if (typeof hidden === \"boolean\" && !hidden && !paused) {\n        var curTime = media.currentTime;\n        var buffered = media.buffered;\n        var enoughBuffer = false;\n        var bufs = [];\n        for (var i = 0; i < buffered.length; i++) {\n          var start = buffered.start(i);\n          var end = buffered.end(i);\n          bufs.push({\n            start,\n            end\n          });\n          if (start <= curTime && curTime <= end - 1) {\n            enoughBuffer = true;\n            break;\n          }\n        }\n        if (media.readyState === 4 && enoughBuffer) {\n          if (this._currentStuckCount > this.config.stuckCount) {\n            this.emit(FPS_STUCK, this._payload);\n            this._reset();\n          } else {\n            if (curDecodedFrames <= this.config.reportFrame) {\n              this._currentStuckCount++;\n              this._payload.push({\n                bufs,\n                currentTime: media.currentTime,\n                curDecodedFrames,\n                totalVideoFrames,\n                droppedVideoFrames,\n                checkInterval\n              });\n            } else {\n              this._reset();\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      if (!this.player.media) {\n        return;\n      }\n      var _this$player$media$ge = this.player.media.getVideoPlaybackQuality(), totalVideoFrames = _this$player$media$ge.totalVideoFrames, droppedVideoFrames = _this$player$media$ge.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer && this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        this.observer && this.observer.unobserve(target);\n      } catch (e) {\n      }\n      this.observer && this.observer.unobserve(target);\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    if (Object.keys(this.pluginGroup).length === 0) {\n      player.isUserActive = true;\n    }\n    this.pluginGroup[cgid] = {\n      _player: player,\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  checkPlayerRoot: function checkPlayerRoot(root) {\n    if (this.pluginGroup) {\n      var _keys = Object.keys(this.pluginGroup);\n      for (var i = 0; i < _keys.length; i++) {\n        var _p = this.pluginGroup[_keys[i]]._player;\n        if (_p.root === root) {\n          return _p;\n        }\n      }\n      return null;\n    }\n    return null;\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = this.pluginGroup[cgid]._player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  setCurrentUserActive: function setCurrentUserActive(playerId, isActive) {\n    if (!this.pluginGroup[playerId]) {\n      return;\n    }\n    if (!isActive) {\n      this.pluginGroup[playerId]._player.isUserActive = isActive;\n      return playerId;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player) {\n        this.pluginGroup[keys[i]]._player.isUserActive = false;\n      }\n    }\n    this.pluginGroup[playerId]._player.isUserActive = isActive;\n    return playerId;\n  },\n  getCurrentUseActiveId: function getCurrentUseActiveId() {\n    if (!this.pluginGroup) {\n      return;\n    }\n    var keys = Object.keys(this.pluginGroup);\n    for (var i = 0; i < keys.length; i++) {\n      var c = this.pluginGroup[keys[i]];\n      if (c && c._player && c._player.isUserActive) {\n        return keys[i];\n      }\n    }\n    return null;\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    var _isUseActive = player.isUseActive;\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n    if (_isUseActive) {\n      var keys = Object.keys(this.pluginGroup);\n      if (keys.length > 0) {\n        this.setCurrentUserActive(keys[keys.length - 1], true);\n      }\n    }\n  }\n};\nexport { pluginsManager as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      if (_this.__startTime > 0 && _this.duration > 0) {\n        _this.currentTime = _this.__startTime > _this.duration ? _this.duration : _this.__startTime;\n        _this.__startTime = -1;\n      }\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          _this.recoverFullStyle(_this.root, _this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this._state = STATES.INITIAL;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = pluginsManager.checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var _el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(_el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, _width = _this$config3.width, _height = _this$config3.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        this._attachSourceEvents(this.media, url);\n      } else if (!this.media.src || this.media.src !== url) {\n        this.media.src = url;\n      } else if (!url) {\n        this.media.removeAttribute(\"src\");\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8.preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this.preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          if (_this9.duration > 0 && _this9.__startTime > 0) {\n            _this9.currentTime = _this9.__startTime;\n            _this9.__startTime = -1;\n          }\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.play();\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20.preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      if (this.userTimer) {\n        util.clearTimeout(this, this.userTimer);\n        this.userTimer = null;\n      }\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (!this.isActive || this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onDurationchange\",\n    value: function onDurationchange() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      this.isError = false;\n      this.isSeeking = false;\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        if (this.userTimer) {\n          util.clearTimeout(this, this.userTimer);\n          this.userTimer = null;\n        }\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this22 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this22.addClass(STATE_CLASS.LOADING);\n        util.clearTimeout(_this22, _this22.waitTimer);\n        _this22.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this23 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING];\n      clsList.forEach(function(cls) {\n        _this23.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) <= currentTime && buffered.end(i) > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this$videoPos = this.videoPos, rotate = _this$videoPos.rotate, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      if (rotate < 0 && !vy && !vx) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = rotate < 0 ? 0 : Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      this.media.style.transform = formStyle;\n      this.media.style.webkitTransform = formStyle;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this24 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this24.config[key] = config[key];\n          var plugin = _this24.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this25 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this25.start();\n        _this25.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this26 = this;\n      if (!this.media) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this26.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"preProcessUrl\",\n    value: function preProcessUrl(url, ext) {\n      var preProcessUrl2 = this.config.preProcessUrl;\n      return !util.isBlob(url) && preProcessUrl2 && typeof preProcessUrl2 === \"function\" ? preProcessUrl2(url, ext) : {\n        url\n      };\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this27 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this27$curDefinition;\n        if (((_this27$curDefinition = _this27.curDefinition) === null || _this27$curDefinition === void 0 ? void 0 : _this27$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        this.muted = isMuted;\n      }\n      pluginsManager.setCurrentUserActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      return pluginsManager.getCurrentUseActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      pluginsManager.setCurrentUserActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nexport { Player as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\nexport { PresetPlayer as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var _this$__hooks$hookNam;\n        var preRet = (_this$__hooks$hookNam = this.__hooks[hookName]).call.apply(_this$__hooks$hookNam, [this, this].concat(Array.prototype.slice.call(arguments)));\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    var _obj$__hooks$hookName;\n    var ret = (_obj$__hooks$hookName = obj.__hooks[hookName]).call.apply(_obj$__hooks$hookName, [obj, obj].concat(args));\n    if (ret && ret.then) {\n      ret.then(function(data) {\n        return data === false ? null : handler.call.apply(handler, [obj, obj].concat(args));\n      }).catch(function(e) {\n        console.warn(\"[runHooks]\".concat(hookName, \" reject\"), e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call.apply(handler, [obj, obj].concat(args));\n    }\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","var version = \"3.0.11\";\nexport { version as default };\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n"],"sourceRoot":""}